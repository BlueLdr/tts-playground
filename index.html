<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>TTS Playground</title><link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="" referrerpolicy="no-referrer"><style>*,:after,:before{box-sizing:border-box}body,html{font-family:Roboto,Helvetica Neue,arial,sans-serif;font-size:16px;font-style:normal;font-weight:400;color:#f8f8f8;background-color:#303030}body{margin:0}audio{border-radius:20px;width:500px;height:2.5rem}h1{text-align:center}.link,a{color:#61a3ff;cursor:pointer}.link:hover,a:hover{color:#80b5ff}.link{text-decoration:underline}code{font:inherit;font-family:monospace;font-size-adjust:.4375;letter-spacing:-.03rem;background-color:#5a5f69;border:1px solid rgba(0,96,222,.4);border-radius:3px;display:inline;padding:.125rem .25rem}.header{background-color:#484848;box-shadow:0 2px 5px -3px rgba(0,0,0,.8);padding:.5rem 1rem;height:3.5rem;display:flex;justify-content:space-between;align-items:center}.header h1,.header h4{margin:0;display:inline}.header h1{margin-right:1rem}.header h4{opacity:.8}.row{display:flex;justify-content:flex-start;align-items:center;margin:1rem 0}.row:first-child{margin-top:0}.row:last-child{margin-bottom:0}.row>*{margin-left:1rem}.row>:first-child{margin-left:0}.invisible{position:absolute;width:1px;height:1px;visibility:hidden;opacity:0;z-index:-999;pointer-events:none;overflow:hidden;top:50%;left:50%}@-moz-keyframes spinner{0%{transform:rotate(0deg)}to{transform:rotate(359.9deg)}}@-webkit-keyframes spinner{0%{transform:rotate(0deg)}to{transform:rotate(359.9deg)}}@-o-keyframes spinner{0%{transform:rotate(0deg)}to{transform:rotate(359.9deg)}}@keyframes spinner{0%{transform:rotate(0deg)}to{transform:rotate(359.9deg)}}button{font:inherit;background:none;padding:0;cursor:pointer}.btn,button{appearance:none;border:none}.btn{font-size:1rem;color:#e8e8e8;background-color:grey;border-radius:4px;transition:background-color 80ms;display:flex;justify-content:center;align-items:center;padding:.75rem 1rem}.btn:hover{background-color:#909090}.btn:active{background-color:#707070}.btn:disabled{color:#a0a0a0;background-color:#606060;pointer-events:none}.btn-large{padding:1rem 1.5rem}.btn-primary{background-color:#0f79e7}.btn-primary:hover{background-color:#2581ff}.btn-primary:active{background-color:#0060de}.btn-primary:disabled{background-color:#344457}.btn-negative{background-color:#d50f0f}.btn-negative:hover{background-color:#d94a4a}.btn-negative:active{background-color:#aa2c2c}.btn-negative:disabled{background-color:#683030}.btn-with-icon i{margin-right:1rem}.btn-with-icon.icon-only i{margin-right:0}.btn-multi{display:flex;justify-content:center;align-items:center}.btn-left{border-right:1px solid #404040;border-top-right-radius:0;border-bottom-right-radius:0;margin-right:0}.btn-right{border-top-left-radius:0;border-bottom-left-radius:0;margin-left:0}a.btn{text-decoration:none;color:#e8e8e8}a.btn:disabled{color:#a0a0a0}.icon-button{color:#707070;font-size:1.25rem;background-color:transparent;transition:color .1s ease}.icon-button:hover{color:#a0a0a0}:focus{text-shadow:2px 2px 2px -1px rgba(0,0,0,.8)}.icon-button:active{color:grey}.icon-button:disabled{pointer-events:none;color:#404040}.category ul{-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0;-webkit-padding-start:0;-webkit-padding-end:0;-moz-margin-start:0;-moz-padding-end:0;-moz-padding-start:0;margin-block-start:0;margin-block-end:0;margin-top:0;margin-bottom:0;padding-left:0;list-style:none}.category[data-open=false]{border-color:transparent #303030;border-style:solid;border-width:1px}.category[data-open=true]{border:1px solid grey}.category-header{background-color:#303030;height:2.5rem;padding:.5rem 0;display:flex;justify-content:space-between;align-items:center}.category-header-controls{margin-left:.5rem}.category-header-controls button.icon-button{padding:.375rem}.category:first-child,.category:first-child .category-header{border-top-right-radius:4px;border-top-left-radius:4px}.category:last-child,.category:last-child .category-header{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.category-content{display:contents}.category[data-open=false] .category-header{background-color:#404040}.category[data-open=false] .category-content{display:none}.category-title{appearance:none;background-color:transparent;display:flex;justify-content:flex-start;align-items:center;flex:1 1 auto;cursor:pointer;line-height:2.375rem;margin:-.5rem 0}.category-title span{color:#f8f8f8}.category-expand{color:grey;font-size:1.25rem;background-color:transparent;transition:color .1s ease;width:2rem}button.category-expand.icon-button{width:2.25rem;height:2.25rem;padding:.375rem;display:flex;justify-content:center;align-items:center}.category-title[data-toggle=false] .category-expand:hover,.category-title[data-toggle=true]:hover .category-expand{color:#b0b0b0}.category-title[data-toggle=false] .category-expand:active,.category-title[data-toggle=true]:active .category-expand{color:#909090}.category-title[data-toggle=false] .category-expand:disabled,.category-title[data-toggle=true]:disabled .category-expand{pointer-events:none;color:#484848}input,textarea{font-family:Helvetica Neue,arial,sans-serif;font-size:1rem;color:#f8f8f8;background-color:#484848;border-radius:4px;padding:.25rem}input:focus,textarea:focus{background-color:#404040}textarea.invisible{visibility:visible}textarea.clipboard-input{position:fixed;top:50%}input{background-color:#606060;border:1px solid grey;padding:.5rem;height:2.25rem}input:focus{background-color:#484848;border-color:#a0a0a0}input:disabled{color:#a0a0a0;background-color:#404040;border-color:#606060}input[data-invalid=true]{border-color:#aa2c2c;outline-color:#aa2c2c}select{cursor:pointer}label.checkbox,label.radio-button{display:flex;justify-content:flex-start;align-items:center;cursor:pointer}input[type=checkbox],input[type=radio]{height:auto;cursor:pointer}input[type=checkbox]+.checkbox-label,input[type=radio]+.radio-label{font-size:.875rem;margin-left:.5rem}.checkbox.toggle .toggle-switch{position:relative;cursor:pointer}.checkbox.toggle .toggle-switch:after,.checkbox.toggle .toggle-switch:before{content:" ";display:block;transition:.2s ease-in-out}.checkbox.toggle .toggle-switch:before{background-color:#606060;border-radius:.875rem;width:3rem;height:1.75rem;z-index:2}.checkbox.toggle .toggle-switch:after{background-color:#d8d8d8;background-clip:padding-box;border-radius:.875rem;position:absolute;top:50%;left:0;transform:translate(3px,-50%);width:calc(1.75rem - 6px);height:calc(1.75rem - 6px);z-index:3}.checkbox.toggle input:checked+.toggle-switch:before{background-color:#049032}.checkbox.toggle input:checked+.toggle-switch:after{transform:translate(calc(3rem - 3px - 100%),-50%)}.checkbox.toggle input:active+.toggle-switch:after{background-color:#a0a0a0}.expandable-checklist-label{cursor:pointer;list-style-position:outside}.expandable-checklist-label .checkbox{display:inline-flex;padding:.375rem .5rem .375rem .375rem;margin:-.25rem 0 -.25rem -.375rem}select{font-family:inherit;padding:.125rem}.modal{background-color:#303030;border-radius:8px;box-shadow:2px 4px 8px -3px rgba(0,0,0,.8);position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);min-height:10rem;max-height:calc(100% - 2rem);min-width:30rem;max-width:calc(100% - 2rem);display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start}.modal-container{position:fixed;top:0;left:0;z-index:99}.modal:empty{display:none}.modal-backdrop{background-color:rgba(24,24,24,.9);position:relative;width:100vw;height:100vh;max-width:100vw;max-height:100vh;z-index:100}.modal-backdrop+.modal-backdrop{z-index:101;top:-100vh}.modal-body,.modal-footer,.modal-header{padding:1.25rem;width:100%}.modal-footer,.modal-header{display:flex;justify-content:space-between;align-items:center;flex:0 0 auto;padding:.75rem 1.25rem}.modal-header{border-bottom:1px solid #484848}.modal-header h3{margin:0}.modal-title{display:flex;justify-content:flex-start;align-items:center}.modal-title h3{line-height:1.625rem}.modal-close{width:1.625rem;height:1.625rem}.modal-body{flex:1 1 auto}.modal-footer{border-top:1px solid #484848}.modal-header-tab{font:inherit;appearance:none;background:none;font-family:inherit;text-align:inherit;align-items:unset;padding:0;color:#f8f8f8;font-size:1rem;border:none;border-right:1px solid #484848;flex:1 1 auto;text-align:center}.modal-header-tabs{display:flex;justify-content:space-between;align-items:center}.modal-header-tabs .modal-close{width:2.5rem}.modal-header-tab,.modal-header-tabs .modal-close{height:2.5rem}.modal-header-tab:first-child{border-top-left-radius:8px}.modal-header-tab:focus,.modal-header-tab:hover{background-color:#909090}.modal-header-tab:active{background-color:grey}.modal-header-tab[data-active=true]{background-color:#344457}.modal-scroll-content{position:relative;overflow-x:hidden;overflow-y:auto}.organizer-list[data-reorder=true] .organizer-section-header,.organizer-list[data-reorder=true] .organizer-section-item,.organizer-list[data-reorder=true] .organizer-section-title{cursor:grab}.organizer-list[data-reorder=true] .organizer-section-header:active,.organizer-list[data-reorder=true] .organizer-section-item:active,.organizer-list[data-reorder=true] .organizer-section-title:active{cursor:grabbing}.organizer-list[data-reorder=true] .organizer-section-header{position:relative}.organizer-list[data-reorder=true] .organizer-section-header[data-disable-reorder=true],.organizer-list[data-reorder=true] .organizer-section-header[data-disable-reorder=true] .organizer-section-title{cursor:default}.organizer-list[data-reorder=true] .organizer-section-header[data-disable-reorder=true] .organizer-section-reorder-button{display:none}.organizer-list[data-reorder=true] .organizer-section-header[data-drop-target=true]{background-color:#344457;outline:2px solid #344457}.organizer-list[data-reorder=true] .organizer-section-expand{cursor:pointer}.organizer-list[data-reorder=true] .organizer-section-header[data-insert-before=true],.organizer-list[data-reorder=true] .organizer-section-item[data-insert-before=true]{border-top:3px solid #2581ff}.organizer-list[data-reorder=true] .organizer-section-header[data-insert-after=true],.organizer-list[data-reorder=true] .organizer-section-item[data-insert-after=true]{border-bottom:3px solid #2581ff}.organizer-list[data-reorder=true] .organizer-section-title{line-height:normal;margin:0}.organizer-list[data-reorder=true] .organizer-section-item{position:relative;border:1px solid transparent}.organizer-list[data-reorder=true] .organizer-section-item>*{pointer-events:none}.organizer-list[data-reorder=true] .organizer-section-item>.organizer-reorder-area{pointer-events:auto}.organizer-section-item{border-radius:inherit;display:flex;justify-content:space-between;align-items:center;position:relative;padding:0;transition:background-color .15s ease}.organizer-section-item[data-active=true]{background-color:#344457}.organizer-section-item[data-grabbed=true]{opacity:.6}.organizer-section-item-header{display:flex;justify-content:space-between;align-items:center;width:100%}.organizer-section-item-header>*{padding:.5rem .75rem}.organizer-section-item-title{padding:.5rem .75rem;flex:1 1 100%;cursor:pointer;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.organizer-section-item:nth-child(odd){background-color:#484848}.organizer-section-item:nth-child(2n){background-color:#404040}.organizer-section-item:nth-child(2n):hover,.organizer-section-item:nth-child(odd):hover{background-color:#606060}.organizer-section-reorder-button{padding:.5rem .75rem;pointer-events:none}.organizer-section-container .category-header.organizer-section-header,.organizer-section-container .category.organizer-section{border-radius:0}.organizer-section-container:first-child .category,.organizer-section-container:first-child .category-header{border-top-right-radius:4px;border-top-left-radius:4px}.organizer-section-container:last-child .category,.organizer-section-container:last-child .category[data-open=false] .category-header,.organizer-section-container:last-child .category[data-open=true] .organizer-section-item:last-child{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.organizer-reorder-button{width:2rem;height:2rem}.organizer-reorder-area{position:absolute;height:100%;width:100%;top:0;left:0;transform:translateY(50%);z-index:10}.organizer-list-section-item .organizer-reorder-area[data-before=true],.organizer-list-section-item:last-child .organizer-reorder-area{height:60%;background-color:rgba(96,238,128,.3);opacity:1}.organizer-reorder-area[data-before=true]{transform:translateY(-50%)}.organizer-reorder-area:after{content:" ";box-shadow:0 0 3px #2581ff;border-bottom:2px solid #2581ff;opacity:0;position:absolute;width:100%;height:3px;top:50%;left:0;transform:translateY(-50%);transition:opacity 80ms ease}.organizer-list[data-item-grabbed=false] .organizer-reorder-area{pointer-events:none;z-index:-10}.organizer-list[data-item-grabbed=true] .organizer-reorder-area{display:block}.organizer-reorder-area[data-type=section]{z-index:11}.organizer-list-section-item[data-grabbed=true] .organizer-reorder-area:after,.organizer-list[data-grabbed-type=item] .organizer-reorder-area[data-type=section]:after,.organizer-list[data-grabbed-type=section] .organizer-reorder-area[data-type=item]:after{display:none}.organizer-list[data-grabbed-type=item] .organizer-reorder-area[data-type=section]{transform:translateY(0);top:5%;height:90%;z-index:11}.organizer-reorder-area[data-active=true]:after{opacity:1}.search-bar{display:flex;justify-content:flex-start;align-items:center;border-top:2px solid transparent;border-bottom:2px solid transparent;height:100%;position:absolute;left:0;top:0;z-index:3}.search-bar,.search-bar *{transition:all .25s ease-out,color .1s ease,background-color .1s ease,border-color .1s ease}.search-bar-input{background-color:#303030;border:none;border-radius:0;height:100%}.search-bar-toggle{width:2.5rem;flex:0 0 2.5rem;margin-right:-2.5rem}.search-bar-close,.search-bar-toggle{z-index:2}.search-bar[data-active=false]{width:2.5rem;flex:0 0 2.5rem;margin-right:.5rem}.search-bar[data-active=false] .search-bar-close.icon-button,.search-bar[data-active=false] .search-bar-input{overflow:hidden;padding-left:0;padding-right:0;margin-left:0;margin-right:0;width:0;flex:1 1 0;transition-duration:.2s,.1s,.1s,.1s;transition-timing-function:ease-in,ease,ease,ease}.search-bar[data-active=false] .search-bar-close.icon-button{margin-left:2.5rem}.search-bar[data-active=true]{border-bottom-color:#606060;width:100%;flex-basis:100%;margin-right:0;z-index:10}.search-bar[data-active=true] .search-bar-toggle{pointer-events:none}.search-bar[data-active=true] .search-bar-input{flex:1 1 100%;padding-left:3rem;padding-right:3rem}.search-bar[data-active=true] .search-bar-close{width:2.5rem;flex:1 1 2.5rem;margin-left:-2.5rem}.tts-text{font-family:Helvetica Neue,arial,sans-serif}.tts-container{align-items:flex-start;margin:0 1rem;width:calc(100% - 2rem)}.tts-container,.tts-submit-status{display:flex;justify-content:center}.tts-submit-status{align-items:center}.tts-submit-status .fa-circle-notch{color:#5ab2ff;animation:spinner 1.5s linear;animation-iteration-count:infinite}.tts-submit-status .fa-check-circle{color:#60ee80}.tts-submit-status .fa-exclamation-circle{color:#ee6050}.tts-col{position:relative;max-height:100%}.tts-col-header{height:3rem;background-color:#303030;justify-content:space-between;position:sticky;top:0;z-index:2}.tts-col-header,.tts-col-header.row{margin:.75rem 0}.tts-col-header h4{margin:0;line-height:2.5rem;flex:1 1 auto}.tts-col-header-controls{display:flex;justify-content:flex-end;align-items:center}.tts-col-header-controls .icon-button{width:2.5rem;height:2.5rem}.tts-col-header-controls>*{margin-left:.5rem}.tts-col-header-controls>:first-child{margin-left:0}.organizer[data-reorder=true] .tts-col-header .search-bar{opacity:0;pointer-events:none}.organizer[data-reorder=true] .tts-col-header .search-bar+*{margin-left:0}.tts-col-header .search-bar .icon-button{width:2.5rem;height:2.5rem}.tts-col-header .search-bar+*{margin-left:3rem;transition:margin .2s ease-out}.tts-col-header .search-bar[data-active=true]~*{pointer-events:none!important}[data-help-active=true] .tts-col-header{position:static}[data-help-active=true] .tts-col-header [data-help]{background-color:hsla(0,0%,62.7%,.2)}.tts-messages,.tts-snippets{overflow:auto;padding:0 0 2rem;width:100%;max-height:calc(100vh - 3.5rem)}.tts-loading{width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.tts-loading .tts-submit-status{font-size:8rem}.tts-loading h2{font-weight:500}.header-right{display:flex;flex-direction:row-reverse;justify-content:flex-end;align-items:center}.header-button,.header-right button{margin-left:.5rem}.header-button{font-size:1.25rem;color:#e8e8e8;background-color:#484848;border:2px solid transparent;border-radius:4px;transition:background-color .15s;display:flex;justify-content:center;align-items:center;padding:.5rem;width:2.5rem;height:2.5rem}.header-button:hover{background-color:#606060}.header-button:active{background-color:#404040}.header-button[data-open=true]{border-color:#707070}.footer{margin:1rem auto}.footer>span{border-right:1px solid #606060;margin:0 1rem}.footer-release{text-decoration:none}.footer-release>span:first-child{text-decoration:underline}.footer-release-new{color:#303030;font-size:.75rem;font-weight:600;background-color:#61a3ff;border-radius:1rem;padding:.125rem .375rem;margin-left:.25rem;text-transform:uppercase;display:inline-flex;justify-content:center;align-items:center;position:relative;z-index:2}.footer-release-new i{font-size:.625rem;padding:0 .125rem}.footer-release-new:after,.footer-release-new:before{content:" ";border-radius:inherit;display:block;position:absolute;top:0;left:0;width:100%;height:100%;animation-delay:2s}.footer-release-new:before{background-color:#80b5ff;opacity:0;z-index:1;animation:release-new-pulse-ring 50s linear 2s infinite}.footer-release-new:after{background-color:#fff;opacity:0;z-index:3;animation:release-new-pulse 50s linear 2s infinite}.footer-release:hover>.footer-release-new{color:#303030;background-color:#80b5ff}@-moz-keyframes release-new-pulse{0%{opacity:.4}0.5%{opacity:.4}1.5%{opacity:0}to{opacity:0}}@-webkit-keyframes release-new-pulse{0%{opacity:.4}0.5%{opacity:.4}1.5%{opacity:0}to{opacity:0}}@-o-keyframes release-new-pulse{0%{opacity:.4}0.5%{opacity:.4}1.5%{opacity:0}to{opacity:0}}@keyframes release-new-pulse{0%{opacity:.4}0.5%{opacity:.4}1.5%{opacity:0}to{opacity:0}}@-moz-keyframes release-new-pulse-ring{0%{opacity:.4;transform:scale(1)}0.5%{opacity:.4;transform:scale(1.3,1.5)}1.5%{opacity:0;transform:scale(1.9,2.5)}2%{opacity:0;transform:scale(1)}to{opacity:0;transform:scale(1)}}@-webkit-keyframes release-new-pulse-ring{0%{opacity:.4;transform:scale(1)}0.5%{opacity:.4;transform:scale(1.3,1.5)}1.5%{opacity:0;transform:scale(1.9,2.5)}2%{opacity:0;transform:scale(1)}to{opacity:0;transform:scale(1)}}@-o-keyframes release-new-pulse-ring{0%{opacity:.4;transform:scale(1)}0.5%{opacity:.4;transform:scale(1.3,1.5)}1.5%{opacity:0;transform:scale(1.9,2.5)}2%{opacity:0;transform:scale(1)}to{opacity:0;transform:scale(1)}}@keyframes release-new-pulse-ring{0%{opacity:.4;transform:scale(1)}0.5%{opacity:.4;transform:scale(1.3,1.5)}1.5%{opacity:0;transform:scale(1.9,2.5)}2%{opacity:0;transform:scale(1)}to{opacity:0;transform:scale(1)}}.tts-col-main{max-width:40rem;flex:1 1 100%;flex-direction:column;height:calc(100vh - 3.5rem)}.tts-col-main,.tts-header-top{display:flex;justify-content:space-between;align-items:center}.tts-header-top{position:static}.tts-header-controls{display:flex;justify-content:flex-end;align-items:center}.tts-header-controls>:not(:last-child){margin-right:.75rem}.tts-options{background-color:rgba(64,64,64,.5);border:1px solid #a0a0a0;border-bottom:none;border-top-left-radius:4px;border-top-right-radius:4px;padding:1rem;display:flex;justify-content:space-between;align-items:center}.tts-options-reset{font-size:1.25rem;border:2px solid transparent;display:flex;justify-content:center;align-items:center;padding:.5rem}.tts-options-item{display:flex;justify-content:space-between;align-items:flex-start;flex-direction:column;height:3.25rem}.tts-options-item:not(:last-child){margin-right:1rem}.tts-options-item-label{display:flex;justify-content:flex-start;align-items:center;padding:.125rem 0}.tts-options-item input[type=range]{border:none;height:1.5rem;padding:0 .5rem;margin:0}.tts-textarea{position:relative}.tts-textarea,.tts-textarea-container{max-width:100%}.tts-textarea-container{margin-top:0}.tts-textarea-preview,.tts-textarea textarea{border:1px solid #a0a0a0;border-radius:0;display:inline-block;appearance:textfield;-moz-default-appearance:textarea;margin-block:0;text-rendering:optimizeLegibility;vertical-align:text-bottom;cursor:text;white-space:pre-wrap;word-wrap:break-word;padding:.25rem;text-align:initial;text-indent:0;text-shadow:none;text-transform:none;word-spacing:normal;letter-spacing:normal;inset-block-end:0}.tts-textarea textarea{background:transparent;border-color:transparent;position:relative;max-width:100%;min-height:10rem;width:40rem;resize:vertical;padding:.25rem;z-index:3}.tts-textarea-preview{color:#a0a0a0;background:#404040;border-bottom-color:grey;border-top-color:grey;display:inline-block;position:absolute;top:0;left:0;width:100%;height:100%;padding:.25rem;z-index:2}.tts-textarea-preview span:first-child{visibility:hidden;margin-inline-end:.125rem}span.tts-textarea-preview-over-limit{color:transparent;background-color:#aa2c2c}.tts-textarea-preview span:last-child{word-break:break-all}.tts-textarea-preview:after{content:attr(data-cursor);color:#707070;display:block;position:absolute;bottom:.125rem;right:1.25rem;z-index:3}.tts-textarea-bottom{background:#404040;border:1px solid #a0a0a0;border-top:none;border-bottom-right-radius:4px;border-bottom-left-radius:4px;margin-bottom:1rem;display:flex;justify-content:space-between;align-items:center;padding:.375rem}.tts-textarea-bottom label.checkbox{display:inline-flex}.tts-textarea-bottom label.checkbox input{margin-right:.375rem}.tts-textarea-bottom select{max-width:9.25rem}.tts-textarea-length{display:flex;justify-content:flex-start;align-items:center}.tts-textarea-length span{display:block;min-width:1.75rem;margin:0 .25rem;text-align:right}.tts-textarea-submit{display:flex;justify-content:flex-start;align-items:center;width:100%}.tts-textarea-submit button{font-size:1.375rem;border-radius:8px;display:block;width:100%;padding:1rem}.tts-textarea-bits-checkbox{margin-right:.25rem}.tts-textarea-bits-string{width:7rem}.tts-pause-modal-duration input{max-width:4rem;margin:0 .5rem}.tts-pause-control .btn{padding:.5rem 1rem}.tts-col-main .tts-player{flex:1 1 100%}.tts-col-main .tts-player audio{width:100%}.tts-main-bottom{display:flex;justify-content:space-between;align-items:center}.tts-main-bottom button{padding:1rem}.tts-main-bottom button i{margin-right:1rem}button.tts-clipboard-button{padding:0}.tts-clipboard-button-inner{border-radius:inherit;padding:1rem;width:100%;height:100%}.tts-clipboard-button[data-success=true]:active .tts-clipboard-button-inner{animation:none}.tts-clipboard-button[data-success=true] .tts-clipboard-button-inner{animation:success-flash-bg 1.5s ease-out;animation-direction:normal;animation-play-state:running}@-moz-keyframes success-flash-bg{0%{background-color:#48c162}50%{background-color:#48c162}to{background-color:rgba(96,238,128,0)}}@-webkit-keyframes success-flash-bg{0%{background-color:#48c162}50%{background-color:#48c162}to{background-color:rgba(96,238,128,0)}}@-o-keyframes success-flash-bg{0%{background-color:#48c162}50%{background-color:#48c162}to{background-color:rgba(96,238,128,0)}}@keyframes success-flash-bg{0%{background-color:#48c162}50%{background-color:#48c162}to{background-color:rgba(96,238,128,0)}}.tts-export-button.header-button{position:relative}.tts-export-modal .modal-header{padding:0}.tts-export-export-form h4{margin-top:0}.tts-export-export-form ul{-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0;-webkit-padding-start:0;-webkit-padding-end:0;-moz-margin-start:0;-moz-padding-end:0;-moz-padding-start:0;margin-block-start:0;margin-block-end:0;padding-left:0;list-style:none;margin:1.5rem 0 1.5rem 1.5rem}.tts-export-export-form ul.expandable-checklist-items{margin:.25rem 0 .25rem 1.5rem}.tts-export-export-form>ul>li>.checkbox{height:1.5rem}.tts-export-export-form li{margin:.25rem 0}.tts-export-export-form li .checkbox,.tts-export-export-form li .checkbox-label{font-size:1rem}.tts-export-export-form .row{justify-content:center}.tts-import-file{padding:.5rem}.tts-import-input{color:#a0a0a0;border:6px dashed grey;border-radius:.75rem;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:6rem 0;cursor:pointer}.tts-import-input .fa-file-upload{font-size:5rem}.tts-import-input[data-dragged=true]{background-color:#484848}.tts-import-input-main,.tts-import-input-text{display:flex;justify-content:center;align-items:center}.tts-import-input-text{flex-direction:column;margin-left:1rem}.tts-import-input-text span:first-child,.tts-import-input-text span:last-child{font-size:1.125rem}.tts-import-input-text span:nth-child(2){color:#909090;font-weight:500;margin:.125rem 0}.tts-import-input-error{color:#aa2c2c;margin-top:2rem}.tts-import-conflicts.modal-body{max-height:calc(100vh - 10.5rem);overflow:hidden;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start}.tts-import-compare-row{padding:1.5rem 1rem}.tts-import-compare-row:not(:last-child){border-bottom:2px solid grey}.tts-import-compare-row-top{display:flex;justify-content:space-evenly;align-items:center}.tts-import-compare-row:first-child{background-color:#404040;position:sticky;top:0;z-index:10}.tts-import-compare-side label.btn{display:flex;justify-content:center;align-items:center;cursor:pointer;padding:.75rem 1.5rem}.tts-import-compare-side input{margin-right:1rem}.tts-import-compare-side[data-selected=false] label.btn:not(:hover):not(:focus){background-color:transparent}.tts-import-compare-side[data-selected=true] label.btn{background-color:#344457}.tts-import-compare-side[data-selected=true] label.btn:hover{background-color:#0060de}.tts-import-compare-header{display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer}.tts-import-compare-header[data-static=true]{cursor:auto}.tts-import-compare-header-input{font-size:.875rem;margin-top:.5rem}.tts-import-compare-message-text{background-color:#404040;border:1px solid #606060;border-radius:8px;padding:1rem;margin-top:1rem}.tts-import-compare-snippet-section{background-color:#707070;padding:1rem;position:sticky;top:4.875rem;z-index:10}.tts-import-compare-snippet-section>*{border-top:1px solid #909090;border-bottom:1px solid #909090}.tts-import-compare-snippet-section .tts-import-compare-row{padding:.75rem 1rem}.tts-import-compare-snippet-section .tts-import-compare-row:first-child{position:static}.tts-import-compare-snippets{min-width:560px;width:100%}.tts-import-snippets-duplicates{width:fit-content}.tts-import-snippets-duplicates table{width:100%}.tts-import-compare table,.tts-import-rename table{position:relative;border:1px solid #606060;border-top:none}.tts-import-compare tr,.tts-import-rename tr{display:table-row}.tts-import-compare tr.tts-import-compare-row:nth-child(2n),.tts-import-rename tr.tts-import-compare-row:nth-child(2n){background-color:#404040}.tts-import-compare td,.tts-import-compare th,.tts-import-rename td,.tts-import-rename th{display:table-cell}.tts-import-compare th,.tts-import-rename th{background-color:#484848;border-top:1px solid #606060;border-bottom:1px solid #606060;padding:1rem .375rem;text-align:left;height:4.875rem;position:sticky;top:0}.tts-import-compare td,.tts-import-rename td{vertical-align:top;padding:.5rem .375rem}.tts-import-compare td:not(:last-child),.tts-import-rename td:not(:last-child){border-right:1px solid hsla(0,0%,50.2%,.1)}.tts-import-compare td label.btn,.tts-import-rename td label.btn{justify-content:flex-start}.tts-import-rename-name p{margin-top:0}.tts-import-rename-name strong{display:block;margin-top:.25rem;margin-bottom:.5rem}.tts-import-rename-name input{margin-top:.25rem;min-width:18rem}.tts-import-rename-discard{width:6.5rem}td.tts-import-rename-discard,th.tts-import-rename-discard{text-align:right}.tts-import-rename-discard input,.tts-import-rename-discard label{cursor:pointer}.tts-import-rename-discard input{margin-left:.625rem}td.tts-import-rename-discard{line-height:2.25rem}.tts-import-rename .tts-import-compare-message-text{margin-top:0}.tts-import-categorize-snippets,.tts-import-categorize-snippets table{width:100%}.tts-import-success{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:18rem}.tts-import-success i.fa-check-circle{color:#60ee80;font-size:8rem;font-weight:200}.tts-reset{display:flex;flex-direction:column;justify-content:center;align-items:center}.tts-reset-icon{font-size:8rem;color:#ee6050}#app[data-help-active=true]{position:relative}#app[data-help-active=true]:after,#app[data-help-active=true][data-modal-open=true] .modal:after{content:" ";background-color:rgba(16,16,16,.7);width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:9999}#app[data-help-active=true][data-modal-open=true]:after{z-index:98}#app[data-help-active=true][data-modal-open=true] .modal:after{width:100%;height:100%}#app[data-help-active=true]:not([data-modal-open]) [data-help],#app[data-help-active=true][data-modal-open=true] .modal [data-help]{box-shadow:0 0 5px rgba(48,48,48,.6);cursor:help!important;position:relative;opacity:1;z-index:19999}#app[data-help-active=true]:not([data-modal-open]) [data-help]:after,#app[data-help-active=true][data-modal-open=true] .modal [data-help]:after{content:" ";border:2px solid rgba(90,178,255,0);border-radius:4px;width:100%;height:100%;position:absolute;top:0;left:0;z-index:20000;cursor:help!important;pointer-events:auto!important;transition:border-color 80ms}#app[data-help-active=true]:not([data-modal-open]) [data-help]:hover:after,#app[data-help-active=true][data-modal-open=true] .modal [data-help]:hover:after{border-color:#5ab2ff}#app[data-help-active=true] .help-link{display:block}[data-help-intro-highlight=true]{position:relative!important;opacity:1!important;z-index:999!important}[data-help-intro-highlight=true],[data-help-intro-highlight=true] *{pointer-events:none!important}[data-help-intro-highlight=true]:before{content:" ";border-radius:4px;box-shadow:0 0 5px 3px #5ab2ff;width:100%;height:100%;position:absolute;top:0;left:0;z-index:998;animation:intro-highlight 2s ease-in-out infinite}.tts-editor[data-help-intro-highlight=true]{z-index:auto!important}.tts-editor[data-help-intro-highlight=true]:before{display:none}.modal-container .tts-editor[data-help-intro-highlight=true]{background-color:#303030;border:1px solid grey;border-radius:.5rem;margin-left:2rem;padding:1rem}[data-help-intro-highlight=true] .tts-snippets-row-control-add{opacity:1!important}.modal-backdrop[data-intro-key]:not([data-intro-key=intro-help]){display:flex;justify-content:center;align-items:center}.modal-backdrop[data-intro-key]:not([data-intro-key=intro-help])>*{position:relative!important;top:unset;left:unset;transform:unset}button[data-help] *,button[data-tutorial] *{pointer-events:none}.help-button{padding:0;width:2.5rem;height:2.5rem;position:relative;z-index:10000}#app:not([data-help-active=true]) .help-button:not(:hover):not(:focus){background-color:transparent}.help-button *{pointer-events:none}.help-button:disabled{z-index:0}.help-link{display:none}.help-modal .modal-title{position:relative}.help-modal .modal-title h3{font-size:1.25rem}.help-modal-back{width:2rem;height:2rem;position:absolute;display:flex;justify-content:center;align-items:center;top:50%;left:0;transform:translateY(-50%)}.help-modal-back+h3{margin-left:3rem}.help-modal .modal-body{line-height:1.4375em;width:40rem;font-weight:300}.help-modal .modal-body>:first-child{margin-top:0}.help-modal .modal-body>:last-child{margin-bottom:0}.help-modal .modal-body b{font-weight:600}.help-modal .modal-body hr{margin:1.25rem 0}.help-modal .modal-body dt i{display:inline-block;width:1.25rem}.help-modal .modal-body dd{margin-top:.25rem;margin-inline-start:1.5rem}.help-modal .modal-body dd:not(:last-child){margin-bottom:.75rem}.help-modal .modal-body dd li{color:#e8e8e8;font-size:.875rem}.help-modal .modal-body dd li b{color:#f8f8f8}.help-modal .modal-body li{margin-top:.25rem;margin-bottom:.25rem}.help-modal .modal-body summary{background-color:#606060;border-bottom:none;border-radius:inherit;padding:.75rem 1rem;margin:0 -1rem;cursor:pointer}.help-modal .modal-body details{background-color:#404040;border:solid grey;border-width:1px 1px 0;padding:0 1rem}.help-modal .modal-body details:first-of-type{border-top-left-radius:4px;border-top-right-radius:4px}.help-modal .modal-body details:last-of-type{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom-width:1px}.help-modal .modal-body details:last-of-type[open] summary{border-bottom-left-radius:0;border-bottom-right-radius:0}.help-modal .modal-body details[open]{padding-bottom:1rem}.help-modal .modal-body details[open] summary{border-bottom:1px solid grey}.help-modal .modal-body details ul{padding-inline-start:1rem}.help-modal[data-item=optimize-full] .modal-body,.help-modal[data-item=optimize-settings] .modal-body{width:50rem}.help-modal[data-item=intro-start] .modal-body{text-align:center}.help-modal[data-item=intro-start] .modal-body h1{margin:1rem 1rem 3rem}.help-modal[data-item=intro-start] .modal-body p{margin:2rem}.help-modal[data-item=intro-editor]{flex:0 1 28rem;min-width:18rem}.help-modal[data-item=intro-help]{z-index:1000;top:4rem;right:1rem;left:unset;transform:translate(0)}.help-modal[data-item=intro-help],.help-modal[data-item=intro-help] .modal-body{width:30rem}.help-modal-skip:not(:hover){color:#7d99bf}.help-demo{margin-top:1.5rem}.help-demo-prompt{text-align:center}.help-demo-snippet-add-content{display:flex;justify-content:space-between;align-items:center}.help-demo-snippet-add-content textarea{border:1px solid #c8c8c8;margin-right:1rem;flex:1 1 auto}.help-demo-snippet-add-content .tts-snippets-row-left{justify-content:center;flex:0 0 auto}.help-demo-snippet-add-content .tts-snippets-row-text{width:auto}.help-demo-snippet-add-content .tts-snippets-row-control-add{opacity:1}.help-demo-snippet-add-content .tts-snippets-row-controls{display:none}.help-demo-snippet-text{width:100%;padding:3rem 0 4rem;display:flex;justify-content:center;align-items:center}.help-demo-snippet-text .snippet,.help-demo-snippet-text .snippet>*{font-size:1.25rem;position:relative}.help-demo-snippet-text .snippet-space-after,.help-demo-snippet-text .snippet-space-before{width:.75rem}.help-demo-snippet-text .snippet-prefix,.help-demo-snippet-text .snippet-suffix{opacity:1}.help-demo-snippet-text .snippet-prefix>span,.help-demo-snippet-text .snippet-suffix>span{opacity:.6}.help-demo-snippet-text-label{color:#f8f8f8;font-size:1rem;font-weight:300;position:absolute;opacity:1;white-space:nowrap}.help-demo-snippet-text-label:after{content:" ";background-color:#b0b0b0;width:1px;height:1.5rem;display:block;position:absolute}.snippet-prefix .help-demo-snippet-text-label,.snippet-suffix .help-demo-snippet-text-label,.snippet-text .help-demo-snippet-text-label{left:50%;transform:translate(-50%)}.snippet-prefix .help-demo-snippet-text-label:after,.snippet-suffix .help-demo-snippet-text-label:after,.snippet-text .help-demo-snippet-text-label:after{height:1.25rem;left:50%}.snippet-prefix .help-demo-snippet-text-label,.snippet-suffix .help-demo-snippet-text-label{bottom:calc(100% + 1rem)}.snippet-space-after .help-demo-snippet-text-label,.snippet-space-before .help-demo-snippet-text-label{top:calc(100% + .5rem)}.snippet-space-after .help-demo-snippet-text-label:after,.snippet-space-before .help-demo-snippet-text-label:after{top:-.375rem}.snippet-space-before .help-demo-snippet-text-label{right:calc(100% + 1.342rem)}.snippet-space-before .help-demo-snippet-text-label:after{left:calc(100% + 1rem);transform:rotate(45deg)}.snippet-text .help-demo-snippet-text-label{top:calc(100% + .75rem)}.snippet-text .help-demo-snippet-text-label:after{bottom:calc(100% - .25rem)}.snippet-space-after .help-demo-snippet-text-label{left:calc(100% + 1.342rem)}.snippet-space-after .help-demo-snippet-text-label:after{right:calc(100% + 1rem);transform:rotate(-45deg)}.help-demo-snippet-effects{width:100%;display:flex;justify-content:center;align-items:center}.help-demo-snippet-effects .tts-snippets-modal-text{max-width:20rem}.help-demo-snippet-effects .tts-snippets-modal-suffix input{border-top-right-radius:4px;border-bottom-right-radius:4px}.help-demo-optimize-sample-text{font-size:.9375rem;margin:.5rem 0 .5rem 1.5rem;white-space:pre}.help-demo-pause-top{width:100%}.help-demo-pause-item{display:flex;justify-content:space-between;align-items:center;width:100%;margin:1rem 0}.help-demo-pause-item-button,.help-demo-pause-item-text{background-color:#484848;border:1px solid grey;padding:.5rem}.help-demo-pause-item-text{border-right:none;border-top-left-radius:4px;border-bottom-left-radius:4px;flex:1 1 auto}.help-demo-pause-item-button{border-top-right-radius:4px;border-bottom-right-radius:4px;flex:0 0 auto;min-width:2rem}.help-demo-pause-player,.help-demo-pause-player audio{width:100%}@-moz-keyframes intro-highlight{0%{width:calc(100% + .25rem);height:calc(100% + .25rem);transform:translate(-.125rem,-.125rem)}50%{width:calc(100% + .75rem);height:calc(100% + .75rem);transform:translate(-.375rem,-.375rem)}to{width:calc(100% + .25rem);height:calc(100% + .25rem);transform:translate(-.125rem,-.125rem)}}@-webkit-keyframes intro-highlight{0%{width:calc(100% + .25rem);height:calc(100% + .25rem);transform:translate(-.125rem,-.125rem)}50%{width:calc(100% + .75rem);height:calc(100% + .75rem);transform:translate(-.375rem,-.375rem)}to{width:calc(100% + .25rem);height:calc(100% + .25rem);transform:translate(-.125rem,-.125rem)}}@-o-keyframes intro-highlight{0%{width:calc(100% + .25rem);height:calc(100% + .25rem);transform:translate(-.125rem,-.125rem)}50%{width:calc(100% + .75rem);height:calc(100% + .75rem);transform:translate(-.375rem,-.375rem)}to{width:calc(100% + .25rem);height:calc(100% + .25rem);transform:translate(-.125rem,-.125rem)}}@keyframes intro-highlight{0%{width:calc(100% + .25rem);height:calc(100% + .25rem);transform:translate(-.125rem,-.125rem)}50%{width:calc(100% + .75rem);height:calc(100% + .75rem);transform:translate(-.375rem,-.375rem)}to{width:calc(100% + .25rem);height:calc(100% + .25rem);transform:translate(-.125rem,-.125rem)}}.tts-col-messages{margin-right:1.5rem;flex:1 1 25%;min-width:18rem;max-width:22rem;max-height:100%}.tts-message-modal{min-width:42.5rem}.tts-message-modal-name.row{align-items:flex-end}.tts-message-modal-input{flex:1 1 30rem}.tts-message-modal-input p{margin-top:0}.tts-message-modal-input input{width:100%}.tts-message-modal-input+button{padding:.5625rem 1rem;flex:0 0 auto}.tts-message-modal-preview{background-color:#404040;border:1px solid #606060;border-radius:4px;padding:.5rem;margin:1rem 0;max-width:40rem;word-wrap:break-word}.tts-message-modal-player{display:flex;justify-content:flex-start;align-items:center;width:100%}.tts-message-modal-player .tts-player{flex:1 1 100%}.tts-message-modal-player .tts-player audio{width:100%}.tts-message-modal-player .tts-submit-status{flex:0 0 2.5rem}.tts-message-modal-details{display:flex;justify-content:space-between;align-items:flex-end}.tts-message-modal-details .row{color:#d8d8d8}.tts-message-modal-details .row>:not(:first-child){margin-left:1.5rem}.tts-message-modal-details .row strong{color:#f8f8f8}.tts-message-modal-details>.btn{flex:0 0 7rem;padding:1rem 0}.tts-message-modal-details>.btn i{margin-right:.625rem}.tts-message-modal-options{flex:1 1 100%}.tts-message-modal-options h4{margin-bottom:.75rem}.tts-message-modal-options .row{margin-top:.75rem}.tts-message-modal-export{width:100%;display:flex;justify-content:space-between;align-items:center;margin-top:1.5rem}.tts-message-modal-export .btn{width:-moz-fit-content;width:fit-content}.tts-message-modal .modal-footer .btn,.tts-message-modal .modal-footer .btn-left,.tts-message-modal .modal-footer .btn-negative,.tts-message-modal .modal-footer .btn-primary{padding:1rem;min-width:7rem}.tts-message-modal .modal-footer>:not(:last-child){margin-right:1rem}.tts-message-modal .modal-footer .tts-clipboard-button{padding:0}.tts-message-list .tts-message-category-content li,.tts-message-list .tts-message-category-content li:nth-child(odd){background-color:#484848}.tts-message-list .tts-message-category-content li:nth-child(2n){background-color:#404040}.tts-message-list .tts-message-category-content li:first-child,.tts-message-list .tts-message-category-content li:first-child .tts-message-item-header{border-top-right-radius:4px;border-top-left-radius:4px}.tts-message-list .tts-message-category-content li:last-child,.tts-message-list .tts-message-category-content li:last-child .tts-message-item-header{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.tts-message-list .tts-message-category-content li:nth-child(2n):hover,.tts-message-list .tts-message-category-content li:nth-child(odd):hover{background-color:#606060}.tts-message-category-edit{opacity:.2;transition-property:color,opacity}.category:focus-within .tts-message-category-edit,.category:hover .tts-message-category-edit{opacity:1}.tts-message-category-modal .modal-body{display:flex;justify-content:space-between;align-items:flex-end}.tts-message-category-modal-input{display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-start}.tts-message-category-modal-input span{margin-bottom:.5rem}.tts-message-category-empty{color:#b0b0b0;border:1px dashed #606060;border-radius:6px;padding:.25rem .75rem;width:calc(100% - 1rem);margin:.5rem;text-align:center}.tts-message-item{border:1px solid transparent;display:flex;justify-content:space-between;align-items:center;position:relative;width:100%;padding:0;transition:background-color .15s ease}.tts-message-item[data-active=true]{background-color:#344457}.tts-message-item-header{display:flex;justify-content:space-between;align-items:center;width:100%;border-radius:inherit}.tts-message-item-header>*{padding:.5rem .75rem}.tts-message-item-title{padding:.5rem .75rem;flex:1 1 100%;cursor:pointer;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.tts-message-item-copy{opacity:0;transition-property:background-color,opacity,color}.tts-message-item-copy:active,.tts-message-item-copy:focus,.tts-message-item-copy:hover{background-color:transparent}.tts-col-messages:focus-within .tts-message-item-copy,.tts-col-messages:hover .tts-message-item-copy{opacity:.2}.tts-message-item:focus-within .tts-message-item-copy,.tts-message-item:hover .tts-message-item-copy{opacity:1}.tts-message-item .tts-message-item-controls{height:100%}.organizer-list[data-reorder=true] .tts-message-item{border:none}.tts-messages .tts-import-input-main{color:#a0a0a0;background-color:rgba(72,72,72,.9);border:6px dashed grey;border-radius:.75rem;display:none;flex-direction:column;justify-content:center;align-items:center;padding:3rem 1rem;margin:1rem .5rem 1rem 0;cursor:pointer;position:absolute;top:0;left:0;height:100%;width:100%}.tts-messages .tts-import-input-main .fa-file-upload{font-size:5rem}.tts-messages[data-dragged=true] .tts-import-input-main{display:flex;z-index:3}.tts-settings-section{width:100%;margin-bottom:1rem}.tts-settings-section>*{padding-left:1rem;padding-right:1rem}.tts-settings-section:not(:first-child){margin-top:2.5rem}.tts-settings-section-header{background-color:#404040;font-size:1.125rem;font-weight:600;border-bottom:1px solid #606060;padding:1rem;margin-bottom:1rem}.tts-settings-item{display:flex;align-items:center;width:100%}.tts-settings-item:not(:last-child){margin-bottom:1rem}label.tts-settings-item{cursor:pointer}.tts-settings-item,label.tts-settings-item.checkbox{justify-content:space-between}.tts-settings-item,.tts-settings-item-control select{height:2.25rem}.tts-settings-history .tts-settings-item-control{display:flex;justify-content:flex-end;align-items:center}.tts-settings-history .tts-settings-item-control input{border:none;width:10rem;margin:0 0 0 .75rem;padding:0}.tts-settings-insert .tts-settings-item-control{display:flex;justify-content:flex-end;align-items:center}.tts-settings-insert .tts-settings-item-control .radio-button{margin-left:1rem}.tts-settings-modal{min-width:32rem}.tts-settings-modal .modal-body{padding:0}.tts-col-snippets{margin-left:1.5rem;flex:1 1 25%;min-width:18rem;max-width:20rem}.tts-snippets .organizer-section-item{height:2.375rem}.tts-snippets .organizer-section-item:nth-child(odd):hover{background-color:#484848}.tts-snippets .organizer-section-item:nth-child(2n){background-color:#404040}.tts-snippets .organizer-list[data-reorder=true] .organizer-section-item:hover{background-color:#606060}.tts-snippets-section-modal .modal-body{display:flex;justify-content:space-between;align-items:flex-end}.tts-snippets-section-modal-input{display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-start}.tts-snippets-section-modal-input span{margin-bottom:.5rem}.tts-snippets-section-add-row{color:#b0b0b0;background-color:#303030;border:1px dashed #707070;border-radius:6px;padding:.25rem .75rem;opacity:.5;width:calc(100% - 1rem);margin:.5rem;transition:.15s ease;transition-property:color,opacity}.tts-snippets-section-add-row:hover{background-color:#303030;opacity:1}.tts-snippets-section-add-row i{margin-right:.5rem}.tts-snippets-section-add-row-item{width:100%;justify-content:center;overflow:hidden;transition:.2s ease;transition-property:height,opacity,background-color,border-width}.tts-snippets-section-add-row-item.organizer-section-item{background-color:#404040}.tts-snippets-section-add-row-item.organizer-section-item:hover{background-color:#484848}.organizer-list[data-reorder=true] .tts-snippets-section-add-row-item{height:0;opacity:0;border-width:0;pointer-events:none}.tts-snippets-section-edit{opacity:.2;transition:.15s ease;transition-property:color,opacity}.organizer-section-container:focus-within .tts-snippets-section-edit,.organizer-section-container:hover .tts-snippets-section-edit{opacity:1}.tts-snippets-row{border:1px solid transparent;display:flex;justify-content:space-between;align-items:center;position:relative;padding:0 .25rem;width:100%;height:100%}.tts-snippets-row button{width:2.25rem;padding:.375rem .5rem}.organizer-list[data-reorder=true] .tts-snippets-row{border:none}.organizer-list[data-reorder=true] .tts-snippets-row-control-add{display:none}.tts-snippets-row[data-edit=true]{background-color:#484848;border-color:#a0a0a0 #a0a0a0 transparent;border-top-left-radius:4px;border-top-right-radius:4px}.tts-snippets-row-left{display:flex;justify-content:flex-start;align-items:center}.tts-snippets-row-input,.tts-snippets-row-text{line-height:1.75rem;width:12rem;padding:.125rem 0}.tts-snippets-row-text .snippet-space-after,.tts-snippets-row-text .snippet-space-before{opacity:.25;transition-property:opacity}.tts-snippets-row-controls{height:100%}.tts-snippets-row-controls[data-open=false] .tts-snippets-row-controls-menu{display:none}.tts-snippets-row-controls-menu{background-color:#484848;border:1px solid #a0a0a0;border-top-color:#606060;border-bottom-left-radius:4px;border-bottom-right-radius:4px;display:flex;justify-content:space-evenly;align-items:center;position:absolute;width:calc(100% + 2px);padding:.25rem;top:100%;left:-1px;z-index:100}.tts-snippets-row-controls-button{transition-property:background-color,opacity,color}.tts-snippets-row-control-add{opacity:.4;padding:0 .375rem}.tts-col-snippets:focus-within .tts-snippets-row-control-add,.tts-col-snippets:hover .tts-snippets-row-control-add{opacity:.6}.tts-snippets-row:focus-within .tts-snippets-row-control-add,.tts-snippets-row:focus-within .tts-snippets-row-controls-button,.tts-snippets-row:hover .tts-snippets-row-control-add,.tts-snippets-row:hover .tts-snippets-row-controls-button,.tts-snippets-row:hover .tts-snippets-row-text .snippet-space-after,.tts-snippets-row:hover .tts-snippets-row-text .snippet-space-before{opacity:1}.tts-snippets-row-controls-button{opacity:0}.tts-snippets-modal-text{align-items:flex-end}.tts-snippets-modal-input,.tts-snippets-modal-prefix,.tts-snippets-modal-suffix{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start}.tts-snippets-modal-input span,.tts-snippets-modal-prefix span,.tts-snippets-modal-suffix span{font-size:.875rem;margin-bottom:.5rem}.tts-snippets-modal-prefix,.tts-snippets-modal-suffix{flex:1 1 4rem;max-width:4rem}.tts-snippets-modal-prefix input,.tts-snippets-modal-suffix input{border:1px solid #909090;max-width:4rem}.tts-snippets-modal-prefix input{border-right:1px dashed #707070;border-top-right-radius:0;border-bottom-right-radius:0}.tts-snippets-modal-suffix input{border-left:1px dashed #707070;border-radius:0}.tts-snippets-modal-input{width:100%;flex:1 1 calc(100% - 9rem);max-width:calc(100% - 9rem)}.tts-snippets-modal-input input{font-size:1rem;border-left:1px solid #909090;border-right:1px solid #909090;border-color:#909090 #707070;border-style:solid dashed;border-width:1px;border-radius:0;width:100%}.tts-snippets-modal-input~button{border:1px solid #909090;border-left:none;border-top-right-radius:4px;border-bottom-right-radius:4px;flex:0 0 auto;min-width:2rem}.tts-snippets-modal-input input,.tts-snippets-modal-input~button,.tts-snippets-modal-prefix input,.tts-snippets-modal-suffix input{height:2rem;display:block}.tts-snippets-modal-input,.tts-snippets-modal-input~button,.tts-snippets-modal-prefix,.tts-snippets-modal-suffix{margin-left:0}.tts-snippets-modal .tts-submit-status{height:2rem;width:3rem;flex:0 0 3rem;margin:0}.tts-snippets-modal-checkbox{display:flex;justify-content:flex-start;align-items:center;margin-right:1.5rem}.tts-snippets-modal-checkbox input{margin-right:.75rem}.tts-snippets-modal-count{display:flex;justify-content:flex-start;align-items:center}.tts-snippets-modal-count input{background-color:#484848;border:none;border-bottom:2px solid #707070;border-radius:0;margin-right:.75rem;max-width:3rem}.tts-snippets-modal audio::-webkit-media-controls-current-time-display,.tts-snippets-modal audio::-webkit-media-controls-timeline{display:none!important}.tts-snippets-modal audio::-webkit-media-controls-time-remaining-display{display:none!important}.snippet{display:flex;justify-content:flex-start;align-items:flex-start;line-height:1.5em}.snippet-prefix,.snippet-suffix{opacity:.6}.snippet-prefix{margin-right:.125rem}.snippet-suffix{margin-left:.125rem}.snippet-text{font-weight:600;margin:0 .0625em}.snippet-text-repeats{margin:0 .0625em;display:inline-flex;justify-content:flex-start;align-items:center}.snippet-text-repeats:after,.snippet-text-repeats:before{font-size:.875em;opacity:.5;vertical-align:middle}.snippet-text-repeats:before{content:"["}.snippet-text-repeats:after{content:"]"}.snippet-space-after,.snippet-space-before{width:.375rem;border-bottom:1px solid transparent;height:1.5em}.snippet-space-after[data-show=true],.snippet-space-before[data-show=true]{border-bottom-color:grey;background-color:hsla(0,0%,62.7%,.5)}.snippet-space-before{margin-right:.125rem}.snippet-space-after{margin-left:.125rem}
/*# sourceMappingURL=/style.68e00873.css.map */</style></head><body> <div id="app"> </div> <noscript>You need to enable JavaScript to run this, ya goobus.</noscript> </body><script>parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"aSor":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=L,exports.hydrate=F,exports.h=exports.createElement=p,exports.Fragment=d,exports.createRef=a,exports.Component=h,exports.cloneElement=H,exports.createContext=O,exports.toChildArray=b,exports.options=exports.isValidElement=void 0;var e,n,t,_,l,o,r={},i=[],u=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(e,n){for(var t in n)e[t]=n[t];return e}function c(e){var n=e.parentNode;n&&n.removeChild(e)}function p(e,n,t){var _,l,o,r=arguments,i={};for(o in n)"key"==o?_=n[o]:"ref"==o?l=n[o]:i[o]=n[o];if(arguments.length>3)for(t=[t],o=3;o<arguments.length;o++)t.push(r[o]);if(null!=t&&(i.children=t),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===i[o]&&(i[o]=e.defaultProps[o]);return f(e,i,_,l,null)}function f(n,t,_,l,o){var r={type:n,props:t,key:_,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++e.__v:o};return null!=e.vnode&&e.vnode(r),r}function a(){return{current:null}}function d(e){return e.children}function h(e,n){this.props=e,this.context=n}function v(e,n){if(null==n)return e.__?v(e.__,e.__.__k.indexOf(e)+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return"function"==typeof e.type?v(e):null}function y(e){var n,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return y(e)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!k.__r++||l!==e.debounceRendering)&&((l=e.debounceRendering)||_)(k)}function k(){for(var e;k.__r=t.length;)e=t.sort(function(e,n){return e.__v.__b-n.__v.__b}),t=[],e.some(function(e){var n,t,_,l,o,r;e.__d&&(o=(l=(n=e).__v).__e,(r=n.__P)&&(t=[],(_=s({},l)).__v=l.__v+1,D(r,l,_,n.__n,void 0!==r.ownerSVGElement,null!=l.__h?[o]:null,t,null==o?v(l):o,l.__h),T(t,l),l.__e!=o&&y(l)))})}function g(e,n,t,_,l,o,u,s,c,p){var a,h,y,m,k,g,b,P=_&&_.__k||i,S=P.length;for(t.__k=[],a=0;a<n.length;a++)if(null!=(m=t.__k[a]=null==(m=n[a])||"boolean"==typeof m?null:"string"==typeof m||"number"==typeof m?f(null,m,null,null,m):Array.isArray(m)?f(d,{children:m},null,null,null):m.__b>0?f(m.type,m.props,m.key,null,m.__v):m)){if(m.__=t,m.__b=t.__b+1,null===(y=P[a])||y&&m.key==y.key&&m.type===y.type)P[a]=void 0;else for(h=0;h<S;h++){if((y=P[h])&&m.key==y.key&&m.type===y.type){P[h]=void 0;break}y=null}D(e,m,y=y||r,l,o,u,s,c,p),k=m.__e,(h=m.ref)&&y.ref!=h&&(b||(b=[]),y.ref&&b.push(y.ref,null,m),b.push(h,m.__c||k,m)),null!=k?(null==g&&(g=k),"function"==typeof m.type&&null!=m.__k&&m.__k===y.__k?m.__d=c=x(m,c,e):c=C(e,m,y,P,k,c),p||"option"!==t.type?"function"==typeof t.type&&(t.__d=c):e.value=""):c&&y.__e==c&&c.parentNode!=e&&(c=v(y))}for(t.__e=g,a=S;a--;)null!=P[a]&&("function"==typeof t.type&&null!=P[a].__e&&P[a].__e==t.__d&&(t.__d=v(_,a+1)),N(P[a],P[a]));if(b)for(a=0;a<b.length;a++)M(b[a],b[++a],b[++a])}function x(e,n,t){var _,l;for(_=0;_<e.__k.length;_++)(l=e.__k[_])&&(l.__=e,n="function"==typeof l.type?x(l,n,t):C(t,l,l,e.__k,l.__e,n));return n}function b(e,n){return n=n||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some(function(e){b(e,n)}):n.push(e)),n}function C(e,n,t,_,l,o){var r,i,u;if(void 0!==n.__d)r=n.__d,n.__d=void 0;else if(null==t||l!=o||null==l.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(l),r=null;else{for(i=o,u=0;(i=i.nextSibling)&&u<_.length;u+=2)if(i==l)break e;e.insertBefore(l,o),r=o}return void 0!==r?r:l.nextSibling}function P(e,n,t,_,l){var o;for(o in t)"children"===o||"key"===o||o in n||E(e,o,null,t[o],_);for(o in n)l&&"function"!=typeof n[o]||"children"===o||"key"===o||"value"===o||"checked"===o||t[o]===n[o]||E(e,o,n[o],t[o],_)}function S(e,n,t){"-"===n[0]?e.setProperty(n,t):e[n]=null==t?"":"number"!=typeof t||u.test(n)?t:t+"px"}function E(e,n,t,_,l){var o;e:if("style"===n)if("string"==typeof t)e.style.cssText=t;else{if("string"==typeof _&&(e.style.cssText=_=""),_)for(n in _)t&&n in t||S(e.style,n,"");if(t)for(n in t)_&&t[n]===_[n]||S(e.style,n,t[n])}else if("o"===n[0]&&"n"===n[1])o=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in e?n.toLowerCase().slice(2):n.slice(2),e.l||(e.l={}),e.l[n+o]=t,t?_||e.addEventListener(n,o?U:w,o):e.removeEventListener(n,o?U:w,o);else if("dangerouslySetInnerHTML"!==n){if(l)n=n.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==n&&"list"!==n&&"form"!==n&&"download"!==n&&n in e)try{e[n]=null==t?"":t;break e}catch(e){}"function"==typeof t||(null!=t&&(!1!==t||"a"===n[0]&&"r"===n[1])?e.setAttribute(n,t):e.removeAttribute(n))}}function w(n){this.l[n.type+!1](e.event?e.event(n):n)}function U(n){this.l[n.type+!0](e.event?e.event(n):n)}function D(n,t,_,l,o,r,i,u,c){var p,f,a,v,y,m,k,x,b,C,P,S=t.type;if(void 0!==t.constructor)return null;null!=_.__h&&(c=_.__h,u=t.__e=_.__e,t.__h=null,r=[u]),(p=e.__b)&&p(t);try{e:if("function"==typeof S){if(x=t.props,b=(p=S.contextType)&&l[p.__c],C=p?b?b.props.value:p.__:l,_.__c?k=(f=t.__c=_.__c).__=f.__E:("prototype"in S&&S.prototype.render?t.__c=f=new S(x,C):(t.__c=f=new h(x,C),f.constructor=S,f.render=W),b&&b.sub(f),f.props=x,f.state||(f.state={}),f.context=C,f.__n=l,a=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=S.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=s({},f.__s)),s(f.__s,S.getDerivedStateFromProps(x,f.__s))),v=f.props,y=f.state,a)null==S.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==S.getDerivedStateFromProps&&x!==v&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(x,C),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(x,f.__s,C)||t.__v===_.__v){f.props=x,f.state=f.__s,t.__v!==_.__v&&(f.__d=!1),f.__v=t,t.__e=_.__e,t.__k=_.__k,f.__h.length&&i.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(x,f.__s,C),null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(v,y,m)})}f.context=C,f.props=x,f.state=f.__s,(p=e.__r)&&p(t),f.__d=!1,f.__v=t,f.__P=n,p=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(l=s(s({},l),f.getChildContext())),a||null==f.getSnapshotBeforeUpdate||(m=f.getSnapshotBeforeUpdate(v,y)),P=null!=p&&p.type===d&&null==p.key?p.props.children:p,g(n,Array.isArray(P)?P:[P],t,_,l,o,r,i,u,c),f.base=t.__e,t.__h=null,f.__h.length&&i.push(f),k&&(f.__E=f.__=null),f.__e=!1}else null==r&&t.__v===_.__v?(t.__k=_.__k,t.__e=_.__e):t.__e=A(_.__e,t,_,l,o,r,i,c);(p=e.diffed)&&p(t)}catch(n){t.__v=null,(c||null!=r)&&(t.__e=u,t.__h=!!c,r[r.indexOf(u)]=null),e.__e(n,t,_)}}function T(n,t){e.__c&&e.__c(t,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(e){e.call(t)})}catch(n){e.__e(n,t.__v)}})}function A(e,n,t,_,l,o,u,s){var p,f,a,d,h=t.props,v=n.props,y=n.type,m=0;if("svg"===y&&(l=!0),null!=o)for(;m<o.length;m++)if((p=o[m])&&(p===e||(y?p.localName==y:3==p.nodeType))){e=p,o[m]=null;break}if(null==e){if(null===y)return document.createTextNode(v);e=l?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,v.is&&v),o=null,s=!1}if(null===y)h===v||s&&e.data===v||(e.data=v);else{if(o=o&&i.slice.call(e.childNodes),f=(h=t.props||r).dangerouslySetInnerHTML,a=v.dangerouslySetInnerHTML,!s){if(null!=o)for(h={},d=0;d<e.attributes.length;d++)h[e.attributes[d].name]=e.attributes[d].value;(a||f)&&(a&&(f&&a.__html==f.__html||a.__html===e.innerHTML)||(e.innerHTML=a&&a.__html||""))}if(P(e,v,h,l,s),a)n.__k=[];else if(m=n.props.children,g(e,Array.isArray(m)?m:[m],n,t,_,l&&"foreignObject"!==y,o,u,e.firstChild,s),null!=o)for(m=o.length;m--;)null!=o[m]&&c(o[m]);s||("value"in v&&void 0!==(m=v.value)&&(m!==e.value||"progress"===y&&!m)&&E(e,"value",m,h.value,!1),"checked"in v&&void 0!==(m=v.checked)&&m!==e.checked&&E(e,"checked",m,h.checked,!1))}return e}function M(n,t,_){try{"function"==typeof n?n(t):n.current=t}catch(n){e.__e(n,_)}}function N(n,t,_){var l,o,r;if(e.unmount&&e.unmount(n),(l=n.ref)&&(l.current&&l.current!==n.__e||M(l,null,t)),_||"function"==typeof n.type||(_=null!=(o=n.__e)),n.__e=n.__d=void 0,null!=(l=n.__c)){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(n){e.__e(n,t)}l.base=l.__P=null}if(l=n.__k)for(r=0;r<l.length;r++)l[r]&&N(l[r],t,_);null!=o&&c(o)}function W(e,n,t){return this.constructor(e,t)}function L(n,t,_){var l,o,u;e.__&&e.__(n,t),o=(l="function"==typeof _)?null:_&&_.__k||t.__k,u=[],D(t,n=(!l&&_||t).__k=p(d,null,[n]),o||r,r,void 0!==t.ownerSVGElement,!l&&_?[_]:o?null:t.firstChild?i.slice.call(t.childNodes):null,u,!l&&_?_:o?o.__e:t.firstChild,l),T(u,n)}function F(e,n){L(e,n,F)}function H(e,n,t){var _,l,o,r=arguments,i=s({},e.props);for(o in n)"key"==o?_=n[o]:"ref"==o?l=n[o]:i[o]=n[o];if(arguments.length>3)for(t=[t],o=3;o<arguments.length;o++)t.push(r[o]);return null!=t&&(i.children=t),f(e.type,i,_||e.key,l||e.ref,null)}function O(e,n){var t={__c:n="__cC"+o++,__:e,Consumer:function(e,n){return e.children(n)},Provider:function(e){var t,_;return this.getChildContext||(t=[],(_={})[n]=this,this.getChildContext=function(){return _},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&t.some(m)},this.sub=function(e){t.push(e);var n=e.componentWillUnmount;e.componentWillUnmount=function(){t.splice(t.indexOf(e),1),n&&n.call(e)}}),e.children}};return t.Provider.__=t.Consumer.contextType=t}exports.isValidElement=n,exports.options=e,exports.options=e={__e:function(e,n){for(var t,_,l;n=n.__;)if((t=n.__c)&&!t.__)try{if((_=t.constructor)&&null!=_.getDerivedStateFromError&&(t.setState(_.getDerivedStateFromError(e)),l=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(e),l=t.__d),l)return t.__E=t}catch(n){e=n}throw e},__v:0},exports.isValidElement=n=function(e){return null!=e&&void 0===e.constructor},h.prototype.setState=function(e,n){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),"function"==typeof e&&(e=e(s({},t),this.props)),e&&s(t,e),null!=e&&this.__v&&(n&&this.__h.push(n),m(this))},h.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),m(this))},h.prototype.render=d,t=[],_="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,k.__r=0,o=0;
},{}],"nR5O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addHookName=o;var e=require("preact");function o(o,t){return e.options.__a&&e.options.__a(t),o}"undefined"!=typeof window&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.5.12",e.options,{Fragment:e.Fragment,Component:e.Component});
},{"preact":"aSor"}],"jYgX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resetPropWarnings=t;var e=require("preact");require("preact/devtools");var n={};function t(){n={}}function o(n){return n.type===e.Fragment?"Fragment":"function"==typeof n.type?n.type.displayName||n.type.name:"string"==typeof n.type?n.type:"#text"}var r=[],a=[];function i(){return r.length>0?r[r.length-1]:null}var p=!1;function s(n){return"function"==typeof n.type&&n.type!=e.Fragment}function c(e){for(var n=[e],t=e;null!=t.__o;)n.push(t.__o),t=t.__o;return n.reduce(function(e,n){e+="  in "+o(n);var t=n.__source;return t?e+=" (at "+t.fileName+":"+t.lineNumber+")":p||(p=!0,console.warn("Add @babel/plugin-transform-react-jsx-source to get a more detailed component stack. Note that you should not add it to production builds of your App for bundle size reasons.")),e+"\n"},"")}var l="function"==typeof WeakMap,u=e.Component.prototype.setState;e.Component.prototype.setState=function(e,n){return null==this.__v?null==this.state&&console.warn('Calling "this.setState" inside the constructor of a component is a no-op and might be a bug in your application. Instead, set "this.state = {}" directly.\n\n'+c(i())):null==this.__P&&console.warn('Can\'t call "this.setState" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.\n\n'+c(this.__v)),u.call(this,e,n)};var f=e.Component.prototype.forceUpdate;function d(e){var n=e.props,t=o(e),r="";for(var a in n)if(n.hasOwnProperty(a)&&"children"!==a){var i=n[a];"function"==typeof i&&(i="function "+(i.displayName||i.name)+"() {}"),i=Object(i)!==i||i.toString?i+"":Object.prototype.toString.call(i),r+=" "+a+"="+JSON.stringify(i)}var p=n.children;return"<"+t+r+(p&&p.length?">..</"+t+">":" />")}e.Component.prototype.forceUpdate=function(e){return null==this.__v?console.warn('Calling "this.forceUpdate" inside the constructor of a component is a no-op and might be a bug in your application.\n\n'+c(i())):null==this.__P&&console.warn('Can\'t call "this.forceUpdate" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.\n\n'+c(this.__v)),f.call(this,e)},function(){!function(){var n=e.options.__b,t=e.options.diffed,o=e.options.__,i=e.options.vnode,p=e.options.__r;e.options.diffed=function(e){s(e)&&a.pop(),r.pop(),t&&t(e)},e.options.__b=function(e){s(e)&&r.push(e),n&&n(e)},e.options.__=function(e,n){a=[],o&&o(e,n)},e.options.vnode=function(e){e.__o=a.length>0?a[a.length-1]:null,i&&i(e)},e.options.__r=function(e){s(e)&&a.push(e),p&&p(e)}}();var t=!1,i=e.options.__b,p=e.options.diffed,u=e.options.vnode,f=e.options.__e,y=e.options.__,h=e.options.__h,_=l?{useEffect:new WeakMap,useLayoutEffect:new WeakMap,lazyPropTypes:new WeakMap}:null,m=[];e.options.__e=function(e,n,t){if(n&&n.__c&&"function"==typeof e.then){var r=e;e=new Error("Missing Suspense. The throwing component was: "+o(n));for(var a=n;a;a=a.__)if(a.__c&&a.__c.__c){e=r;break}if(e instanceof Error)throw e}try{f(e,n,t),"function"!=typeof e.then&&setTimeout(function(){throw e})}catch(e){throw e}},e.options.__=function(e,n){if(!n)throw new Error("Undefined parent passed to render(), this is the second argument.\nCheck if the element is available in the DOM/has the correct id.");var t;switch(n.nodeType){case 1:case 11:case 9:t=!0;break;default:t=!1}if(!t){var r=o(e);throw new Error("Expected a valid HTML node as a second argument to render.\tReceived "+n+" instead: render(<"+r+" />, "+n+");")}y&&y(e,n)},e.options.__b=function(e){var r=e.type,a=function e(n){return n?"function"==typeof n.type?e(n.__):n:{}}(e.__);if(t=!0,void 0===r)throw new Error("Undefined component passed to createElement()\n\nYou likely forgot to export your component or might have mixed up default and named imports"+d(e)+"\n\n"+c(e));if(null!=r&&"object"==typeof r){if(void 0!==r.__k&&void 0!==r.__e)throw new Error("Invalid type passed to createElement(): "+r+"\n\nDid you accidentally pass a JSX literal as JSX twice?\n\n  let My"+o(e)+" = "+d(r)+";\n  let vnode = <My"+o(e)+" />;\n\nThis usually happens when you export a JSX literal and not the component.\n\n"+c(e));throw new Error("Invalid type passed to createElement(): "+(Array.isArray(r)?"array":r))}if("thead"!==r&&"tfoot"!==r&&"tbody"!==r||"table"===a.type?"tr"===r&&"thead"!==a.type&&"tfoot"!==a.type&&"tbody"!==a.type&&"table"!==a.type?console.error("Improper nesting of table. Your <tr> should have a <thead/tbody/tfoot/table> parent."+d(e)+"\n\n"+c(e)):"td"===r&&"tr"!==a.type?console.error("Improper nesting of table. Your <td> should have a <tr> parent."+d(e)+"\n\n"+c(e)):"th"===r&&"tr"!==a.type&&console.error("Improper nesting of table. Your <th> should have a <tr>."+d(e)+"\n\n"+c(e)):console.error("Improper nesting of table. Your <thead/tbody/tfoot> should have a <table> parent."+d(e)+"\n\n"+c(e)),void 0!==e.ref&&"function"!=typeof e.ref&&"object"!=typeof e.ref&&!("$$typeof"in e))throw new Error('Component\'s "ref" property should be a function, or an object created by createRef(), but got ['+typeof e.ref+"] instead\n"+d(e)+"\n\n"+c(e));if("string"==typeof e.type)for(var p in e.props)if("o"===p[0]&&"n"===p[1]&&"function"!=typeof e.props[p]&&null!=e.props[p])throw new Error("Component's \""+p+'" property should be a function, but got ['+typeof e.props[p]+"] instead\n"+d(e)+"\n\n"+c(e));if("function"==typeof e.type&&e.type.propTypes){if("Lazy"===e.type.displayName&&_&&!_.lazyPropTypes.has(e.type)){var s="PropTypes are not supported on lazy(). Use propTypes on the wrapped component itself. ";try{var l=e.type();_.lazyPropTypes.set(e.type,!0),console.warn(s+"Component wrapped in lazy() is "+o(l))}catch(e){console.warn(s+"We will log the wrapped component's name once it is loaded.")}}var u=e.props;e.type.__f&&delete(u=function(e,n){for(var t in n)e[t]=n[t];return e}({},u)).ref,function(e,t,o,r,a){Object.keys(e).forEach(function(o){var i;try{i=e[o](t,o,r,"prop",null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){i=e}!i||i.message in n||(n[i.message]=!0,console.error("Failed prop type: "+i.message+(a&&"\n"+a()||"")))})}(e.type.propTypes,u,0,o(e),function(){return c(e)})}i&&i(e)},e.options.__h=function(e,n,o){if(!e||!t)throw new Error("Hook can only be invoked from render methods.");h&&h(e,n,o)};var v=function(e,n){return{get:function(){var t="get"+e+n;m&&m.indexOf(t)<0&&(m.push(t),console.warn("getting vnode."+e+" is deprecated, "+n))},set:function(){var t="set"+e+n;m&&m.indexOf(t)<0&&(m.push(t),console.warn("setting vnode."+e+" is not allowed, "+n))}}},b={nodeName:v("nodeName","use vnode.type"),attributes:v("attributes","use vnode.props"),children:v("children","use vnode.props.children")},w=Object.create({},b);e.options.vnode=function(e){var n=e.props;if(null!==e.type&&null!=n&&("__source"in n||"__self"in n)){var t=e.props={};for(var o in n){var r=n[o];"__source"===o?e.__source=r:"__self"===o?e.__self=r:t[o]=r}}e.__proto__=w,u&&u(e)},e.options.diffed=function(e){if(e.__k&&e.__k.forEach(function(n){if(n&&void 0===n.type){delete n.__,delete n.__b;var t=Object.keys(n).join(",");throw new Error("Objects are not valid as a child. Encountered an object with the keys {"+t+"}.\n\n"+c(e))}}),t=!1,p&&p(e),null!=e.__k)for(var n=[],o=0;o<e.__k.length;o++){var r=e.__k[o];if(r&&null!=r.key){var a=r.key;if(-1!==n.indexOf(a)){console.error('Following component has two or more children with the same key attribute: "'+a+'". This may cause glitches and misbehavior in rendering process. Component: \n\n'+d(e)+"\n\n"+c(e));break}n.push(a)}}}}();
},{"preact":"aSor","preact/devtools":"nR5O"}],"MwGB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useState=p,exports.useReducer=h,exports.useEffect=v,exports.useLayoutEffect=l,exports.useRef=m,exports.useImperativeHandle=H,exports.useMemo=d,exports.useCallback=x,exports.useContext=y,exports.useDebugValue=E,exports.useErrorBoundary=b;var _,n,t,o=require("preact"),e=0,u=[],r=o.options.__b,i=o.options.__r,c=o.options.diffed,s=o.options.__c,f=o.options.unmount;function a(_,t){o.options.__h&&o.options.__h(n,_,e||t),e=0;var u=n.__H||(n.__H={__:[],__h:[]});return _>=u.__.length&&u.__.push({}),u.__[_]}function p(_){return e=1,h(C,_)}function h(t,o,e){var u=a(_++,2);return u.t=t,u.__c||(u.__=[e?e(o):C(void 0,o),function(_){var n=u.t(u.__[0],_);u.__[0]!==n&&(u.__=[n,u.__[1]],u.__c.setState({}))}],u.__c=n),u.__}function v(t,e){var u=a(_++,3);!o.options.__s&&F(u.__H,e)&&(u.__=t,u.__H=e,n.__H.__h.push(u))}function l(t,e){var u=a(_++,4);!o.options.__s&&F(u.__H,e)&&(u.__=t,u.__H=e,n.__h.push(u))}function m(_){return e=5,d(function(){return{current:_}},[])}function H(_,n,t){e=6,l(function(){"function"==typeof _?_(n()):_&&(_.current=n())},null==t?t:t.concat(_))}function d(n,t){var o=a(_++,7);return F(o.__H,t)&&(o.__=n(),o.__H=t,o.__h=n),o.__}function x(_,n){return e=8,d(function(){return _},n)}function y(t){var o=n.context[t.__c],e=a(_++,9);return e.__c=t,o?(null==e.__&&(e.__=!0,o.sub(n)),o.props.value):t.__}function E(_,n){o.options.useDebugValue&&o.options.useDebugValue(n?n(_):_)}function b(t){var o=a(_++,10),e=p();return o.__=t,n.componentDidCatch||(n.componentDidCatch=function(_){o.__&&o.__(_),e[1](_)}),[e[0],function(){e[1](void 0)}]}function g(){u.forEach(function(_){if(_.__P)try{_.__H.__h.forEach(A),_.__H.__h.forEach(D),_.__H.__h=[]}catch(n){_.__H.__h=[],o.options.__e(n,_.__v)}}),u=[]}o.options.__b=function(_){n=null,r&&r(_)},o.options.__r=function(t){i&&i(t),_=0;var o=(n=t.__c).__H;o&&(o.__h.forEach(A),o.__h.forEach(D),o.__h=[])},o.options.diffed=function(_){c&&c(_);var e=_.__c;e&&e.__H&&e.__H.__h.length&&(1!==u.push(e)&&t===o.options.requestAnimationFrame||((t=o.options.requestAnimationFrame)||function(_){var n,t=function(){clearTimeout(o),q&&cancelAnimationFrame(n),setTimeout(_)},o=setTimeout(t,100);q&&(n=requestAnimationFrame(t))})(g)),n=void 0},o.options.__c=function(_,n){n.some(function(_){try{_.__h.forEach(A),_.__h=_.__h.filter(function(_){return!_.__||D(_)})}catch(t){n.some(function(_){_.__h&&(_.__h=[])}),n=[],o.options.__e(t,_.__v)}}),s&&s(_,n)},o.options.unmount=function(_){f&&f(_);var n=_.__c;if(n&&n.__H)try{n.__H.__.forEach(A)}catch(_){o.options.__e(_,n.__v)}};var q="function"==typeof requestAnimationFrame;function A(_){var t=n;"function"==typeof _.__c&&_.__c(),n=t}function D(_){var t=n;_.__c=_.__(),n=t}function F(_,n){return!_||_.length!==n.length||n.some(function(n,t){return n!==_[t]})}function C(_,n){return"function"==typeof n?n(_):n}
},{"preact":"aSor"}],"nWoM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.App=void 0;var e=o(require("preact")),t=require("preact/hooks"),r=require("~/view/components");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(o,a,u):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}var i=function(){var n=(0,t.useRef)();return(0,r.useCtrlZListener)(n),e.h(r.WithGlobalContexts,null,e.h(r.WithContextHooks,null,e.h(r.View,null),e.h("textarea",{id:"clipboard-input",className:"clipboard-input invisible",tabIndex:-1}),e.h("div",{ref:n,id:"modal-container",className:"modal-container"})))};exports.App=i;
},{"preact":"aSor","preact/hooks":"MwGB","~/view/components":"AOf9"}],"AQ6k":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={version:!0,Children:!0,render:!0,hydrate:!0,unmountComponentAtNode:!0,createPortal:!0,createFactory:!0,cloneElement:!0,isValidElement:!0,findDOMNode:!0,PureComponent:!0,memo:!0,forwardRef:!0,unstable_batchedUpdates:!0,StrictMode:!0,Suspense:!0,SuspenseList:!0,lazy:!0,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:!0,unstable_ImmediatePriority:!0,unstable_UserBlockingPriority:!0,unstable_NormalPriority:!0,unstable_LowPriority:!0,unstable_IdlePriority:!0,unstable_runWithPriority:!0,unstable_now:!0,createElement:!0,createContext:!0,createRef:!0,Fragment:!0,Component:!0};exports.render=O,exports.hydrate=g,exports.unmountComponentAtNode=Y,exports.createPortal=x,exports.createFactory=$,exports.cloneElement=H,exports.isValidElement=z,exports.findDOMNode=q,exports.PureComponent=i,exports.memo=u,exports.forwardRef=_,exports.Suspense=f,exports.SuspenseList=h,exports.lazy=m,exports.unstable_runWithPriority=j,Object.defineProperty(exports,"createElement",{enumerable:!0,get:function(){return n.createElement}}),Object.defineProperty(exports,"createContext",{enumerable:!0,get:function(){return n.createContext}}),Object.defineProperty(exports,"createRef",{enumerable:!0,get:function(){return n.createRef}}),Object.defineProperty(exports,"Fragment",{enumerable:!0,get:function(){return n.Fragment}}),Object.defineProperty(exports,"Component",{enumerable:!0,get:function(){return n.Component}}),exports.unstable_now=exports.unstable_IdlePriority=exports.unstable_LowPriority=exports.unstable_NormalPriority=exports.unstable_UserBlockingPriority=exports.unstable_ImmediatePriority=exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=exports.StrictMode=exports.unstable_batchedUpdates=exports.Children=exports.version=exports.default=void 0;var t=require("preact/hooks");Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(e,n)||n in exports&&exports[n]===t[n]||Object.defineProperty(exports,n,{enumerable:!0,get:function(){return t[n]}}))});var n=require("preact");function r(e,t){for(var n in t)e[n]=t[n];return e}function o(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function i(e){this.props=e}function u(e,t){function r(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:o(this.props,e)}function i(t){return this.shouldComponentUpdate=r,(0,n.createElement)(e,t)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i}(i.prototype=new n.Component).isPureReactComponent=!0,i.prototype.shouldComponentUpdate=function(e,t){return o(this.props,e)||o(this.state,t)};var l=n.options.__b;n.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),l&&l(e)};var a="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function _(e){function t(t,n){var o=r({},t);return delete o.ref,e(o,(n=t.ref||n)&&("object"!=typeof n||"current"in n)?n:null)}return t.$$typeof=a,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var c=function(e,t){return null==e?null:(0,n.toChildArray)((0,n.toChildArray)(e).map(t))},s={map:c,forEach:c,count:function(e){return e?(0,n.toChildArray)(e).length:0},only:function(e){var t=(0,n.toChildArray)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:n.toChildArray},p=n.options.__e;function f(){this.__u=0,this.t=null,this.__b=null}function d(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function m(e){var t,r,o;function i(i){if(t||(t=e()).then(function(e){r=e.default||e},function(e){o=e}),o)throw o;if(!r)throw t;return(0,n.createElement)(r,i)}return i.displayName="Lazy",i.__f=!0,i}function h(){this.u=null,this.o=null}exports.Children=s,n.options.__e=function(e,t,n){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);p(e,t,n)},(f.prototype=new n.Component).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=d(r.__v),i=!1,u=function(){i||(i=!0,n.componentWillUnmount=n.__c,o?o(l):l())};n.__c=n.componentWillUnmount,n.componentWillUnmount=function(){u(),n.__c&&n.__c()};var l=function(){if(!--r.__u){if(r.state.__e){var e=r.state.__e;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return e(t,n,r)}),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},a=!0===t.__h;r.__u++||a||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(u,u)},f.prototype.componentWillUnmount=function(){this.t=[]},f.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var o=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,o){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),t.__c.__H=null),null!=(t=r({},t)).__c&&(t.__c.__P===o&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return e(t,n,o)})),t}(this.__b,o,i.__O=i.__P)}this.__b=null}var u=t.__e&&(0,n.createElement)(n.Fragment,null,e.fallback);return u&&(u.__h=null),[(0,n.createElement)(n.Fragment,null,t.__e?null:e.children),u]};var y=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function v(e){return this.getChildContext=function(){return e.context},e.children}function b(e){var t=this,r=e.i;t.componentWillUnmount=function(){(0,n.render)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==r&&t.componentWillUnmount(),e.__v?(t.l||(t.i=r,t.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),(0,n.render)((0,n.createElement)(v,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function x(e,t){return(0,n.createElement)(b,{__v:e,i:t})}(h.prototype=new n.Component).__e=function(e){var t=this,n=d(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),y(t,e,r)):o()};n?n(i):i()}},h.prototype.render=function(e){this.u=null,this.o=new Map;var t=(0,n.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var r=t.length;r--;)this.o.set(t[r],this.u=[1,0,this.u]);return e.children},h.prototype.componentDidUpdate=h.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){y(e,n,t)})};var C="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,E=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,P=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};function O(e,t,r){return null==t.__k&&(t.textContent=""),(0,n.render)(e,t),"function"==typeof r&&r(),e?e.__c:null}function g(e,t,r){return(0,n.hydrate)(e,t),"function"==typeof r&&r(),e?e.__c:null}n.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(n.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var N=n.options.event;function R(){}function S(){return this.cancelBubble}function U(){return this.defaultPrevented}n.options.event=function(e){return N&&(e=N(e)),e.persist=R,e.isPropagationStopped=S,e.isDefaultPrevented=U,e.nativeEvent=e};var k,w={configurable:!0,get:function(){return this.class}},L=n.options.vnode;n.options.vnode=function(e){var t=e.type,r=e.props,o=r;if("string"==typeof t){for(var i in o={},r){var u=r[i];"value"===i&&"defaultValue"in r&&null==u||("defaultValue"===i&&"value"in r&&null==r.value?i="value":"download"===i&&!0===u?u="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!P(r.type)?i="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():E.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===u&&(u=void 0),o[i]=u)}"select"==t&&o.multiple&&Array.isArray(o.value)&&(o.value=(0,n.toChildArray)(r.children).forEach(function(e){e.props.selected=-1!=o.value.indexOf(e.props.value)})),"select"==t&&null!=o.defaultValue&&(o.value=(0,n.toChildArray)(r.children).forEach(function(e){e.props.selected=o.multiple?-1!=o.defaultValue.indexOf(e.props.value):o.defaultValue==e.props.value})),e.props=o}t&&r.class!=r.className&&(w.enumerable="className"in r,null!=r.className&&(o.class=r.className),Object.defineProperty(o,"className",w)),e.$$typeof=C,L&&L(e)};var A=n.options.__r;n.options.__r=function(e){A&&A(e),k=e.__c};var I={ReactCurrentDispatcher:{current:{readContext:function(e){return k.__n[e.__c].props.value}}}},D=1,F=2,W=3,T=4,M=5;function j(e,t){return t()}exports.unstable_IdlePriority=M,exports.unstable_LowPriority=T,exports.unstable_NormalPriority=W,exports.unstable_UserBlockingPriority=F,exports.unstable_ImmediatePriority=D,exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I;var B="object"==typeof performance&&"function"==typeof performance.now?performance.now.bind(performance):function(){return Date.now()},V="16.8.0";function $(e){return n.createElement.bind(null,e)}function z(e){return!!e&&e.$$typeof===C}function H(e){return z(e)?n.cloneElement.apply(null,arguments):e}function Y(e){return!!e.__k&&((0,n.render)(null,e),!0)}function q(e){return e&&(e.base||1===e.nodeType&&e)||null}exports.version=V,exports.unstable_now=B;var Z=function(e,t){return e(t)},G=n.Fragment;exports.StrictMode=G,exports.unstable_batchedUpdates=Z;var J={useState:t.useState,useReducer:t.useReducer,useEffect:t.useEffect,useLayoutEffect:t.useLayoutEffect,useRef:t.useRef,useImperativeHandle:t.useImperativeHandle,useMemo:t.useMemo,useCallback:t.useCallback,useContext:t.useContext,useDebugValue:t.useDebugValue,version:"16.8.0",Children:s,render:O,hydrate:g,unmountComponentAtNode:Y,createPortal:x,createElement:n.createElement,createContext:n.createContext,createFactory:$,cloneElement:H,createRef:n.createRef,Fragment:n.Fragment,isValidElement:z,findDOMNode:q,Component:n.Component,PureComponent:i,memo:u,forwardRef:_,unstable_batchedUpdates:Z,StrictMode:n.Fragment,Suspense:f,SuspenseList:h,lazy:m,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:I};exports.default=J;
},{"preact/hooks":"MwGB","preact":"aSor"}],"R0Pm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PAUSE_CHAR_DURATION=exports.REPOSITORY_URL=exports.DEFAULT_HISTORY_STEPS_LIMIT=exports.UNCATEGORIZED_GROUP_NAME=exports.DEFAULT_BITS_STRING=exports.PAUSE_CHAR_SPEED_MODIFIED=exports.DEFAULT_SPEED_CHAR=exports.SPEED_CHARS=exports.DEFAULT_VOICE=exports.VOICE_NAMES=void 0;var e=["Brian","Amy","Emma","Joanna","Kendra","Kimberly","Salli","Joey","Matthew","Geraint"];exports.VOICE_NAMES=e;var r=e[0];exports.DEFAULT_VOICE=r;var E=["","",""];exports.SPEED_CHARS=E;var o=E[0];exports.DEFAULT_SPEED_CHAR=o;var a="";exports.PAUSE_CHAR_SPEED_MODIFIED=a;var t="uni300";exports.DEFAULT_BITS_STRING=t;var _="Not Categorized";exports.UNCATEGORIZED_GROUP_NAME=_;var s=256;exports.DEFAULT_HISTORY_STEPS_LIMIT=s;var p="https://www.github.com/BlueLdr/tts-playground";exports.REPOSITORY_URL=p;var A={Brian:{normal:.1999461211,speed:.08355150677},Amy:{normal:.1995261917,speed:.06229863459},Emma:{normal:.200174812,speed:.05020200451},Joanna:{normal:.2001859692,speed:.1044909511},Kendra:{normal:.199556391,speed:.06293196165},Kimberly:{normal:.200026191,speed:.1110108842},Salli:{normal:.2003132805,speed:.04992818797},Joey:{normal:.1998515038,speed:.09749575338},Matthew:{normal:.2000170338,speed:.03287844361},Geraint:{normal:.1995276872,speed:.1145263226}};exports.PAUSE_CHAR_DURATION=A;
},{}],"vzeQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sample_message_categories=exports.sample_messages=exports.sample_snippets_sections=exports.sample_snippets=void 0;var e=require("~/common/constants"),s=[{id:"sample-snippet-1",text:"VB",options:{prefix:"a",suffix:"",default_count:5,space_after:!1,space_before:!0}},{id:"sample-snippet-2",text:"brur",options:{prefix:"ur",suffix:"?^",default_count:2,space_after:!0,space_before:!0}},{id:"sample-snippet-3",text:"PX",options:{prefix:"y",suffix:"",default_count:5,space_after:!1,space_before:!0}},{id:"sample-snippet-4",text:"HJ",options:{prefix:"a",suffix:"",default_count:5,space_after:!1,space_before:!0}},{id:"sample-snippet-5",text:"",options:{prefix:"",suffix:"",default_count:5,space_after:!1,space_before:!0}}];exports.sample_snippets=s;var p=[{name:"Sample Snippets",open:!0,data:["sample-snippet-1","sample-snippet-2"]},{name:"Sprinkler Noises",open:!1,data:["sample-snippet-3","sample-snippet-4","sample-snippet-5"]}];exports.sample_snippets_sections=p;var a=[{id:"sample-message-1",name:"Sample Message",text:"This is a sample message. No silly noises here boink",options:{bits:"",speed:!1,max_length:255,speed_char:e.DEFAULT_SPEED_CHAR,voice:e.DEFAULT_VOICE}},{id:"sample-message-2",name:"Silly Message",text:"This is a silly message. Do not send this message to the streamer. OOHOO HOO  HE DOESN'T KNOW LMAO  HE LACKS CRITICAL INFORMATION OMEGA LAUGHING ",options:{bits:"",speed:!0,max_length:255,speed_char:e.DEFAULT_SPEED_CHAR,voice:e.DEFAULT_VOICE}}];exports.sample_messages=a;var t=[{name:"Sample Messages",open:!0,data:["sample-message-1","sample-message-2"]}];exports.sample_message_categories=t;
},{"~/common/constants":"R0Pm"}],"JBX6":[function(require,module,exports) {
"use strict";var e,t;Object.defineProperty(exports,"__esModule",{value:!0}),exports.OptimizeLevel=exports.OptimizeTrigger=void 0,exports.OptimizeTrigger=e,function(e){e[e.manual=0]="manual",e[e.submit=1]="submit",e[e.blur=2]="blur",e[e.stop=3]="stop",e[e.edit=4]="edit"}(e||(exports.OptimizeTrigger=e={})),exports.OptimizeLevel=t,function(e){e[e.safe=0]="safe",e[e.normal=1]="normal",e[e.max=2]="max"}(t||(exports.OptimizeLevel=t={}));
},{}],"bIZv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_STATE=exports.DEFAULT_UNCAT_MESSAGES=exports.reset_all_storage=exports.set_stored_help=exports.get_stored_help=exports.set_stored_state=exports.get_stored_state=exports.set_stored_uncategorized_messages=exports.get_stored_uncategorized_messages=exports.set_stored_message_categories=exports.get_stored_message_categories=exports.set_stored_messages=exports.get_stored_messages=exports.set_stored_snippets_sections=exports.get_stored_snippets_sections=exports.set_stored_snippets=exports.get_stored_snippets=void 0;var e=require("~/common"),t=require("~/model/types"),s=function(e,t){var s=localStorage.getItem(e);return s&&JSON.parse(s)||t},r=function(){return s("tts-snippets",e.sample_snippets)};exports.get_stored_snippets=r;var o=function(e){return localStorage.setItem("tts-snippets",JSON.stringify(e))};exports.set_stored_snippets=o;var a=function(){return s("tts-snippets-sections",e.sample_snippets_sections)};exports.get_stored_snippets_sections=a;var _=function(e){return localStorage.setItem("tts-snippets-sections",JSON.stringify(e))};exports.set_stored_snippets_sections=_;var n=function(){return s("tts-messages",e.sample_messages)};exports.get_stored_messages=n;var i=function(e){return localStorage.setItem("tts-messages",JSON.stringify(e))};exports.set_stored_messages=i;var p=function(){return s("tts-message-categories",e.sample_message_categories)};exports.get_stored_message_categories=p;var g=function(e){return localStorage.setItem("tts-message-categories",JSON.stringify(e))};exports.set_stored_message_categories=g;var c=function(){return s("tts-uncat-messages",f)};exports.get_stored_uncategorized_messages=c;var l=function(e){return localStorage.setItem("tts-uncat-messages",JSON.stringify(e))};exports.set_stored_uncategorized_messages=l;var m=function(){return s("tts-state",v)};exports.get_stored_state=m;var u=function(e){return localStorage.setItem("tts-state",JSON.stringify(e))};exports.set_stored_state=u;var d=function(){return s("tts-help",{})};exports.get_stored_help=d;var x=function(e){return localStorage.setItem("tts-help",JSON.stringify(e))};exports.set_stored_help=x;var S=function(t){(0,e.do_confirm)("Are you REALLY sure you wanna do this?")&&(localStorage.setItem("tts-state",""),localStorage.setItem("tts-messages",""),localStorage.setItem("tts-message-categories",""),localStorage.setItem("tts-snippets",""),t&&localStorage.setItem("tts-help",""),window.location.reload())};exports.reset_all_storage=S;var f={name:e.UNCATEGORIZED_GROUP_NAME,open:!1,data:[]};exports.DEFAULT_UNCAT_MESSAGES=f;var v={settings:{bits_string:e.DEFAULT_BITS_STRING,trim_whitespace:!0,optimize_words:t.OptimizeTrigger.manual,optimize_level:t.OptimizeLevel.normal,history_steps:e.DEFAULT_HISTORY_STEPS_LIMIT,skip_tutorials:!1,stop_playback_at_modifier:!0},message:null,volume:.5,editor:{max_length:255,speed:!1,bits:"",text:"Sample text",pause_duration:1,speed_char:e.DEFAULT_SPEED_CHAR,voice:e.DEFAULT_VOICE}};exports.DEFAULT_STATE=v;
},{"~/common":"rTqy","~/model/types":"JBX6"}],"KomH":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.comparator=exports.generate_id=exports.random_hex_str=exports.do_confirm=exports.do_alert=exports.deep_equals=exports.union_arrays=exports.replace_item_in=exports.remove_item_from=exports.add_item_to=exports.capitalize=void 0;var e=function(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t},r=function(t){return null!=t?t.length>1?""+t[0].toUpperCase()+t.slice(1,t.length):t.toUpperCase():""};exports.capitalize=r;var n=function(t,r,n){if(void 0===n&&(n="end"),!r)return t?t.slice():[];if(t||(t=[]),0===t.length)return[r];var o="number"==typeof n?n:-1;if("function"==typeof n)for(var i=0;i<t.length&&o<0;){1===n(r,t[i])?i++:o=i}return o>0&&o<t.length?e(e(e([],t.slice(0,o)),[r]),t.slice(o)):("string"!=typeof n&&(n=0===o?"start":"end"),"start"===n?[r].concat(t):t.concat([r]))};exports.add_item_to=n;var o=function(t,e){var r=t.findIndex(e);return-1===r?t.slice():t.slice(0,r).concat(t.slice(r+1))};exports.remove_item_from=o;var i=function(t,e,r,o){var i=t.findIndex(e),a="function"==typeof r?r(t[i]):r;return-1===i?o?n(t,a,o):t.slice():t.slice(0,i).concat([a]).concat(t.slice(i+1))};exports.replace_item_in=i;var a=function(t,e,r){return 0===t.length?e:0===e.length?t:t.concat(e.filter(function(e){return null!=r?"function"==typeof r?!t.some(function(t){return r(e,t)}):!t.some(function(t){return t[r]===e[r]}):!t.includes(e)}))};exports.union_arrays=a;var u=function e(r,n,o,i,a){if(void 0===o&&(o=10),void 0===i&&(i=!1),void 0===a&&(a=0),a>o)return i;if(r===n)return!0;var u=t(r);if(t(n)!==u)return!1;if(null===r||null===n)return null===r&&null===n;if(Array.isArray(r)&&Array.isArray(n))return r.length===n.length&&r.every(function(t,r){return e(t,n[r],o,i,a+1)});if("object"===u){var c=Object.entries(r),l=Object.entries(n);return c.length===l.length&&c.every(function(t){var r=t[0],u=t[1];return r in n&&e(u,n[r],o,i,a+1)})}return r===n};exports.deep_equals=u;var c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=document.activeElement;alert.apply(void 0,t),r instanceof HTMLElement&&(null==r||r.focus())};exports.do_alert=c;var l=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=document.activeElement,n=confirm.apply(void 0,t);return r instanceof HTMLElement&&(null==r||r.focus()),n};exports.do_confirm=l;var s=function(t){if(t<=0)return"";for(var e,r=Math.pow(10,2*t),n=parseInt("f".repeat(t-1),16);(e=Math.round(Math.random()*r))<=n;);return e.toString(16).slice(-t)};exports.random_hex_str=s;var f=function(t){var e=Date.now().toString(16),r=s(16-e.length),n=(""+r.slice(0,Math.round(r.length/2))+e+r.slice(Math.round(r.length/2))).split(""),o=t.split("").map(function(t){return(t.charCodeAt(0)%16).toString(16)});return o.length<16&&o.push.apply(o,s(16-o.length).split("")),o.slice(0,16).map(function(t,e){return""+n[e]+t}).join("")};exports.generate_id=f;var p=function(t,e,r){return void 0===e&&(e="asc"),function(n,o){var i="function"==typeof t?t(n):n[t],a="function"==typeof t?t(o):o[t];return("asc"===e?1:-1)*(i<a?-1:i>a?1:r?r(n,o):0)}};exports.comparator=p;
},{}],"y1NU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.get_speed_duration=exports.get_speed_modifier=exports.play_audio=exports.get_tts_data=exports.TTS_URL=void 0;var e,t,n=require("~/common/constants"),r=require("./utils"),o=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,u)}s((r=r.apply(e,t||[])).next())})},a=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(u){a=[6,u],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},i=function(e){return void 0===e&&(e=n.DEFAULT_VOICE),"https://api.streamelements.com/kappa/v2/speech?voice="+e+"&text="};exports.TTS_URL=i;var u={text:"",promise:new Promise(function(){}),data:""},s=function(e,t,s){return void 0===t&&(t=u),void 0===s&&(s=n.DEFAULT_VOICE),o(void 0,void 0,Promise,function(){var n,o,u;return a(this,function(a){switch(a.label){case 0:return e?s+":"+e===t.text&&t.promise?[4,t.promise]:[3,2]:[2,Promise.reject()];case 1:return n=a.sent(),[3,4];case 2:return t.text=s+":"+e,t.data="",[4,fetch(i(s)+encodeURIComponent(e.trim()))];case 3:n=a.sent(),t.promise=n,a.label=4;case 4:return 200==n.status?[3,6]:(o=r.do_alert,[4,n.text()]);case 5:return o.apply(void 0,[a.sent()]),t.text="",[2,Promise.reject(n.error())];case 6:return t.data?[3,8]:[4,n.blob()];case 7:u=a.sent(),t.data=URL.createObjectURL(u),a.label=8;case 8:return[2,t.data]}})})};exports.get_tts_data=s;var c=function(e,t,n,r){void 0===t&&(t=!0),void 0===n&&(n=0);var o=document.getElementById(e?e+"-audio":"audio");if(o instanceof HTMLAudioElement){if(o.pause(),t?(n>0&&o.addEventListener("canplaythrough",function(){o.currentTime=n},{once:!0}),o.load()):o.currentTime=n,r&&r>1){o.addEventListener("timeupdate",function e(){o.currentTime>=o.duration-(r-1)&&(o.pause(),o.removeEventListener("timeupdate",e))})}o.play()}};exports.play_audio=c;var l=function(e){var t=e.text,n=e.options,r=n.max_length,o=n.speed,a=n.bits,i=n.speed_char,u=a?a+" "+t:t;return!o||!i||u.length>=r-1?"":i.repeat(r-u.length).slice(0,r-u.length)};exports.get_speed_modifier=l;var p={Brian:(e={},e[n.SPEED_CHARS[0]]=function(e){return.001249077065*Math.pow(e,2)+1.891549826*e-.9050918154},e[n.SPEED_CHARS[1]]=function(e){return.007447843372*Math.pow(e,2)+.9027950477*e+3.866205369},e[n.SPEED_CHARS[2]]=function(e){return 2427313534e-14*Math.pow(e,2)+1.480221574*e-.7835359939},e),Amy:(t={},t[n.SPEED_CHARS[0]]=function(e){return.002780203469*Math.pow(e,2)+1.878014901*e-4.378397652},t[n.SPEED_CHARS[1]]=function(e){return-.001120588997*Math.pow(e,2)+1.93570933*e-9.492824928},t[n.SPEED_CHARS[2]]=function(e){return.0001373480406*Math.pow(e,2)+1.293335907*e-.7659803924},t)},d=function(e){var t,n,r=e.options,o=r.speed,a=r.voice,i=r.speed_char,u=r.max_length;if(o&&!(u<=e.text.length))return null===(n=null===(t=p[a])||void 0===t?void 0:t[i])||void 0===n?void 0:n.call(t,l(e).length)};exports.get_speed_duration=d;
},{"~/common/constants":"R0Pm","./utils":"KomH"}],"rTqy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./constants");Object.keys(e).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in exports&&exports[t]===e[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return e[t]}}))});var t=require("./sample-data");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var r=require("./storage");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var o=require("./tts");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./utils");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});
},{"./constants":"R0Pm","./sample-data":"vzeQ","./storage":"bIZv","./tts":"y1NU","./utils":"KomH"}],"uIaN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.INITIAL_STATE=void 0;var e=i(require("~/common"));function t(e){if("function"!=typeof WeakMap)return null;var i=new WeakMap,o=new WeakMap;return(t=function(e){return e?o:i})(e)}function i(e,i){if(!i&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=t(i);if(o&&o.has(e))return o.get(e);var l={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var d=s?Object.getOwnPropertyDescriptor(e,n):null;d&&(d.get||d.set)?Object.defineProperty(l,n,d):l[n]=e[n]}return l.default=e,o&&o.set(e,l),l}var o,l,s,n,d,r,u,v,_,a,p,T,g,c,A,E,m,f,S,y,h,D,L,b,U,F,w,O,j,k,x,z,P,I,M,N=function(){return(N=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var l in t=arguments[i])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},W=e.get_stored_state(),q={volume:null!==(o=null==W?void 0:W.volume)&&void 0!==o?o:e.DEFAULT_STATE.volume,message:"string"==typeof(null==W?void 0:W.message)?W.message:e.DEFAULT_STATE.message,settings:{trim_whitespace:null!==(s=null===(l=null==W?void 0:W.settings)||void 0===l?void 0:l.trim_whitespace)&&void 0!==s?s:e.DEFAULT_STATE.settings.trim_whitespace,optimize_words:null!==(d=null===(n=null==W?void 0:W.settings)||void 0===n?void 0:n.optimize_words)&&void 0!==d?d:e.DEFAULT_STATE.settings.optimize_words,optimize_level:null!==(u=null===(r=null==W?void 0:W.settings)||void 0===r?void 0:r.optimize_level)&&void 0!==u?u:e.DEFAULT_STATE.settings.optimize_level,bits_string:null!==(_=null===(v=null==W?void 0:W.settings)||void 0===v?void 0:v.bits_string)&&void 0!==_?_:e.DEFAULT_STATE.settings.bits_string,history_steps:null!==(p=null===(a=null==W?void 0:W.settings)||void 0===a?void 0:a.history_steps)&&void 0!==p?p:e.DEFAULT_STATE.settings.history_steps,skip_tutorials:null!==(g=null===(T=null==W?void 0:W.settings)||void 0===T?void 0:T.skip_tutorials)&&void 0!==g?g:e.DEFAULT_STATE.settings.skip_tutorials,stop_playback_at_modifier:null!==(A=null===(c=null==W?void 0:W.settings)||void 0===c?void 0:c.stop_playback_at_modifier)&&void 0!==A?A:e.DEFAULT_STATE.settings.stop_playback_at_modifier},editor:{text:null!==(m=null===(E=null==W?void 0:W.editor)||void 0===E?void 0:E.text)&&void 0!==m?m:e.DEFAULT_STATE.editor.text,max_length:null!==(S=null===(f=null==W?void 0:W.editor)||void 0===f?void 0:f.max_length)&&void 0!==S?S:e.DEFAULT_STATE.editor.max_length,speed:null!==(h=null===(y=null==W?void 0:W.editor)||void 0===y?void 0:y.speed)&&void 0!==h?h:e.DEFAULT_STATE.editor.speed,bits:null!==(L=null===(D=null==W?void 0:W.editor)||void 0===D?void 0:D.bits)&&void 0!==L?L:e.DEFAULT_STATE.editor.bits,pause_duration:null!==(U=null===(b=null==W?void 0:W.editor)||void 0===b?void 0:b.pause_duration)&&void 0!==U?U:e.DEFAULT_STATE.editor.pause_duration,speed_char:null!==(w=null===(F=null==W?void 0:W.editor)||void 0===F?void 0:F.speed_char)&&void 0!==w?w:e.DEFAULT_STATE.editor.speed_char,voice:null!==(j=null===(O=null==W?void 0:W.editor)||void 0===O?void 0:O.voice)&&void 0!==j?j:e.DEFAULT_STATE.editor.voice}},C=null!==(k=e.get_stored_messages())&&void 0!==k?k:[],G=null!==(x=e.get_stored_message_categories())&&void 0!==x?x:[],B=null!==(z=e.get_stored_uncategorized_messages())&&void 0!==z?z:e.DEFAULT_UNCAT_MESSAGES,H=null!==(P=e.get_stored_snippets())&&void 0!==P?P:[],J=null!==(I=e.get_stored_snippets_sections())&&void 0!==I?I:[],K=null!==(M=e.get_stored_help())&&void 0!==M?M:{},Q=N(N({},q),{messages:C,message_categories:G,uncategorized_msgs:B,snippets:H,snippets_sections:J,help:K});exports.INITIAL_STATE=Q;
},{"~/common":"rTqy"}],"MkpQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MODAL_DIRTY=exports.HELP_COMPLETED=exports.HELP_ITEM=exports.IS_OPTIMIZED=exports.SNIPPETS_SECTIONS=exports.SNIPPETS=exports.UNCATEGORIZED_MESSAGES=exports.MESSAGE_CATEGORIES=exports.MESSAGES=exports.EDITOR_SETTINGS=exports.OPTIMIZE_MESSAGE_CALLBACK=exports.ADD_SNIPPET_CALLBACK=exports.EDIT_MSG_TARGET=exports.EDITOR_UNSAVED=exports.LOADED_MESSAGE=exports.EDITOR_STATE=exports.VOLUME_CTX=exports.ImmutableContextValue=exports.createNamedContext=void 0;var e,t=T(require("preact")),r=require("~/model/initial-state");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(E=function(e){return e?r:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=E(t);if(r&&r.has(e))return r.get(e);var T={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in e)if("default"!==S&&Object.prototype.hasOwnProperty.call(e,S)){var I=o?Object.getOwnPropertyDescriptor(e,S):null;I&&(I.get||I.set)?Object.defineProperty(T,S,I):T[S]=e[S]}return T.default=e,r&&r.set(e,T),T}var o=function(e,r){var E=t.createContext(new S(e,function(){}));return E.displayName=r,E};exports.createNamedContext=o;var S=function(){function e(e,t){this._value=e,this._setValue=t}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"setValue",{get:function(){return this._setValue},set:function(e){},enumerable:!1,configurable:!0}),e}();exports.ImmutableContextValue=S;var I=o(r.INITIAL_STATE.volume,"VOLUME_CTX");exports.VOLUME_CTX=I;var s=o(r.INITIAL_STATE.editor,"EDITOR_STATE");exports.EDITOR_STATE=s;var n=o(null!==(e=r.INITIAL_STATE.message)&&void 0!==e?e:null,"LOADED_MESSAGE");exports.LOADED_MESSAGE=n;var _=o(!0,"EDITOR_UNSAVED");exports.EDITOR_UNSAVED=_;var a=o(void 0,"EDIT_MSG_TARGET");exports.EDIT_MSG_TARGET=a;var A=o(function(){},"ADD_SNIPPET_CALLBACK");exports.ADD_SNIPPET_CALLBACK=A;var p=o(function(){},"OPTIMIZE_MESSAGE_CALLBACK");exports.OPTIMIZE_MESSAGE_CALLBACK=p;var u=o(r.INITIAL_STATE.settings,"EDITOR_SETTINGS");exports.EDITOR_SETTINGS=u;var i=o(r.INITIAL_STATE.messages,"MESSAGES");exports.MESSAGES=i;var O=o(r.INITIAL_STATE.message_categories,"MESSAGE_CATEGORIES");exports.MESSAGE_CATEGORIES=O;var x=o(r.INITIAL_STATE.uncategorized_msgs,"UNCATEGORIZED_MESSAGES");exports.UNCATEGORIZED_MESSAGES=x;var D=o(r.INITIAL_STATE.snippets,"SNIPPETS");exports.SNIPPETS=D;var M=o(r.INITIAL_STATE.snippets_sections,"SNIPPETS_SECTIONS");exports.SNIPPETS_SECTIONS=M;var P=t.createContext(function(){return!1});exports.IS_OPTIMIZED=P,P.displayName="IS_OPTIMIZED";var l=o(null,"HELP_ITEM");exports.HELP_ITEM=l;var L=o(r.INITIAL_STATE.help,"HELP_COMPLETED");exports.HELP_COMPLETED=L;var c=o(!1,"MODAL_DIRTY");exports.MODAL_DIRTY=c;
},{"preact":"aSor","~/model/initial-state":"uIaN"}],"tAAz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.conform_to_schema=exports.HISTORY_STORAGE_SCHEMA=exports.HISTORY_SCHEMA=exports.HISTORY_CURSOR_SCHEMA=exports.MESSAGE_CATEGORY_SCHEMA=exports.MESSAGE_SCHEMA=exports.MESSAGE_OPTIONS_SCHEMA=exports.SNIPPET_SECTION_SCHEMA=exports.SNIPPET_SCHEMA=exports.SNIPPET_OPTIONS_SCHEMA=exports.SETTINGS_SCHEMA=void 0;var e=require("~/common"),t=require("~/model/types");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var p in t=arguments[r])Object.prototype.hasOwnProperty.call(t,p)&&(e[p]=t[p]);return e}).apply(this,arguments)},p={trim_whitespace:{type:"boolean",default:!1},optimize_words:{type:"number",default:t.OptimizeTrigger.manual},optimize_level:{type:"number",default:t.OptimizeLevel.normal},bits_string:{type:"string",default:e.DEFAULT_BITS_STRING},history_steps:{type:"number",default:e.DEFAULT_HISTORY_STEPS_LIMIT},skip_tutorials:{type:"boolean",default:!1},stop_playback_at_modifier:{type:"boolean",default:!0}};exports.SETTINGS_SCHEMA=p;var a={prefix:{type:"string",default:""},suffix:{type:"string",default:""},space_before:{type:"boolean",default:!1},space_after:{type:"boolean",default:!1},default_count:{type:"number",default:1}};exports.SNIPPET_OPTIONS_SCHEMA=a;var n={id:{type:"string"},text:{type:"string"},options:{type:a}};exports.SNIPPET_SCHEMA=n;var s={name:{type:"string"},open:{type:"boolean",default:!1},data:{type:"string",default:[],multi:!0}};exports.SNIPPET_SECTION_SCHEMA=s;var u={max_length:{type:"number",default:255},speed:{type:"boolean",default:!1},bits:{type:"string",default:""},speed_char:{type:"string",default:e.DEFAULT_SPEED_CHAR},voice:{type:"string",default:e.DEFAULT_VOICE}};exports.MESSAGE_OPTIONS_SCHEMA=u;var i={id:{type:"string"},name:{type:"string"},text:{type:"string"},options:{type:u}};exports.MESSAGE_SCHEMA=i;var l={name:{type:"string"},open:{type:"boolean",default:!1},data:{type:"string",default:[],multi:!0}};exports.MESSAGE_CATEGORY_SCHEMA=l;var y={start:{type:"number"},end:{type:"number"}};exports.HISTORY_CURSOR_SCHEMA=y;var S={keep:{type:"boolean",default:!1},state:{type:o(o({},u),{text:{type:"string"},pause_duration:{type:"number",default:1},speed_char:{type:"string",default:e.DEFAULT_SPEED_CHAR}}),default:{}},cursor:{type:y},cursor_before:{type:y,default:{}}};exports.HISTORY_SCHEMA=S;var f={data:{type:S,default:[],multi:!0},index:{type:"number"}};exports.HISTORY_STORAGE_SCHEMA=f;var _=function e(t,o){var p={},a=!1;return t?(Object.entries(o).forEach(function(o){var n=o[0],s=o[1];if(!a){var u=n in t,i="string"!=typeof s.type,l=u&&Array.isArray(t[n]),y=!!s.multi===l;if(u&&y||("default"in s?i&&!s.multi||(p[n]=s.default):a=!0),i)if(l){var S=[];t[n].forEach(function(t){var r=e(t,s.type);r&&S.push(r)}),p[n]=S}else{var f=e(t[n],s.type);f?p[n]=f:s.default||(a=!0)}else(l?t[n].every(function(e){return r(e)===s.type}):r(t[n])===s.type)?p[n]=t[n]:("default"in s||(a=!0),p[n]=s.default)}}),a?null:p):null};exports.conform_to_schema=_;
},{"~/common":"rTqy","~/model/types":"JBX6"}],"BueH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorHistory=exports.EditorHistoryManager=void 0;var t=require("~/common"),e=require("./schema"),i=function(){return(i=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},r=function(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(i[r[o]]=t[r[o]])}return i},o="tts-history",n=function(){function e(t,e,i){this._on_change=function(){},this.history=null!=e?e:[],this.index=null!=i?i:-1,this.initialized=!1,this.limit=t,this.loaded=!!e}return e.prototype.setHistory=function(t){this.history=t,this.storeHistory()},e.prototype.setIndex=function(t){this.index=t,this.storeHistory()},e.prototype.storeHistory=function(){localStorage.setItem(o,JSON.stringify({data:this.history,index:this.index}))},e.prototype.initialize=function(t,e){this.initialized?console.warn("Attempted to re-initialize EditorHistoryManager"):(this.loaded||this.reset(t),this._on_change=e,this.initialized=!0)},e.prototype.getCurrentState=function(){return this.history[this.index]},e.prototype.reset=function(t){this.index=0,this.setHistory([i(i({},t),{keep:!0})])},e.prototype.push=function(e,o){var n,s;void 0===o&&(o=!1);e.keep;var h=r(e,["keep"]),a=this.getCurrentState(),l=a.keep,d=r(a,["keep"]);if("function"==typeof o&&(o=o(d,h)),!(0,t.deep_equals)(d,h)){if(o){var p=null!==(n=this.history[this.index-1])&&void 0!==n?n:{},u=(p.keep,r(p,["keep"]));(l||(0,t.deep_equals)(u,h))&&(o=!1)}var y=Math.max(this.history.length-this.limit+(o?0:1),0);this.setHistory(this.history.slice(y,this.index+(o?0:1)).concat(i(i({},e),{keep:null!==(s=e.keep)&&void 0!==s&&s}))),this.setIndex(this.history.length-1)}},e.prototype.undo=function(){var t=this.getCurrentState();if(this.index<=0)return console.warn("Cannot undo, reached start of history."),t;this.setIndex(this.index-1);var e=this.getCurrentState();return this._on_change(i(i({},e),{cursor_before:t.cursor_before}),!0),e},e.prototype.redo=function(){if(this.index>=this.history.length-1)return console.warn("Cannot redo, reached end of history."),this.getCurrentState();this.setIndex(this.index+1);var t=this.getCurrentState();return this._on_change(t,!1),t},e.prototype.keep=function(){this.history[this.index].keep=!0,this.setHistory(this.history)},e}();exports.EditorHistoryManager=n;var s=function(){var i,r,s,h,a=null!==(s=null===(r=null===(i=(0,t.get_stored_state)())||void 0===i?void 0:i.settings)||void 0===r?void 0:r.history_steps)&&void 0!==s?s:t.DEFAULT_HISTORY_STEPS_LIMIT,l=JSON.parse(null!==(h=localStorage.getItem(o))&&void 0!==h?h:"null"),d=l?(0,e.conform_to_schema)(l,e.HISTORY_STORAGE_SCHEMA):null;return d&&d.data.length===l.data.length?new n(a,d.data,d.index):new n(a)},h=s();exports.EditorHistory=h;
},{"~/common":"rTqy","./schema":"tAAz"}],"p5UI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./context");Object.keys(e).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in exports&&exports[t]===e[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return e[t]}}))});var t=require("./history");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var r=require("./initial-state");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var o=require("./schema");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./types");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});
},{"./context":"MkpQ","./history":"BueH","./initial-state":"uIaN","./schema":"tAAz","./types":"JBX6"}],"leC2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.snippet_to_string=exports.get_uncategorized_messages=exports.match_case=exports.insert_text_at_selection=exports.ensure_number=void 0;var t=require("~/common"),e=function(){return(e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},n=function(t,e){var n=t;return"string"==typeof t&&(n=parseInt(t)),isNaN(n)?null!=e?e:0:n};exports.ensure_number=n;var r=function(t,e,n,r){var o,i,s,u,a=null!==(o=r.current)&&void 0!==o?o:{},l=a.selectionStart,c=void 0===l?t.length:l,p=a.selectionEnd,d=void 0===p?t.length:p,f=n-(t.length-(d-c));if(f<1)return null===(i=r.current)||void 0===i||i.focus(),[t,t.length];f<e.length&&(e=e.slice(0,f));var v=null!==(s=null==t?void 0:t.slice(0,c))&&void 0!==s?s:"",_=null!==(u=null==t?void 0:t.slice(d))&&void 0!==u?u:"";return!e.startsWith(" ")||t&&!v.endsWith(" ")&&0!==c||(e=e.slice(1)),e.endsWith(" ")&&_.startsWith(" ")&&(_=_.slice(1)),[(""+v+e+_).slice(0,n),(""+v+e).length]};exports.insert_text_at_selection=r;var o=/[A-Z-]/,i=function(t,e,n){for(var r="",i=0;i<t.length;i++){var s=t.charAt(i),u=e.charAt(i);n&&("string"==typeof n?n===s||n.includes(s):n.test(s))||(o.test(u)?r+=s.toLocaleUpperCase():r+=s.toLocaleLowerCase())}return r};exports.match_case=i;var s=function(n,r,o){var i,s=n.filter(function(t){return!r.some(function(e){return e.data.includes(t.id)})}).map(function(t){return t.id}),u=(0,t.union_arrays)(null!==(i=null==o?void 0:o.data.filter(function(t){return n.some(function(e){return e.id===t})&&!r.some(function(e){return e.data.includes(t)})}))&&void 0!==i?i:[],s);return e(e({},null!=o?o:{name:t.UNCATEGORIZED_GROUP_NAME,open:!1}),{data:u})};exports.get_uncategorized_messages=s;var u=function(t){var e,n;return(t.options.space_before?" ":"")+(null!==(e=t.options.prefix)&&void 0!==e?e:"")+t.text+(null!==(n=t.options.suffix)&&void 0!==n?n:"")+(t.options.space_after?" ":"")};exports.snippet_to_string=u;
},{"~/common":"rTqy"}],"TTiJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.upload_file=exports.getFirstFocusable=exports.FOCUSABLE_SELECTORS=exports.POTENTIAL_FOCUSABLE_SELECTORS=exports.silence_event=exports.classNamesWithSuffix=exports.maybeClassName=void 0;var e=require("~/view/components"),t=function(e){return e?" "+e:""};exports.maybeClassName=t;var r=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.filter(function(e){return!!e}).map(function(t){return""+t+e}).join(" ")};exports.classNamesWithSuffix=r;var n=function(e){e.preventDefault(),e.stopPropagation()};exports.silence_event=n;var o=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","*[tabindex]:not([tabindex='-1'])","*[contenteditable]"];exports.POTENTIAL_FOCUSABLE_SELECTORS=o;var a=o.map(function(e){return e.endsWith(":not([tabindex='-1'])")?e:e+":not([tabindex='-1'])"});exports.FOCUSABLE_SELECTORS=a;var i=function(e,t){return t?e.querySelector(a.map(function(e){return t+" "+e}).join(", ")):e.querySelector(a.join(", "))};exports.getFirstFocusable=i;var s=function(t){return new Promise(function(r,n){if("application/json"!==t.type)return n("You must select a valid JSON file.");var o=new FileReader;o.onload=function(t){if(t.target)try{var o=JSON.parse(t.target.result),a=(0,e.validate_import_data)(o);a?r(a):n("That file did not contain any data that could be imported.")}catch(i){console.error("Failed to parse import file:",i),n("You must select a valid JSON file.")}},o.readAsText(t)})};exports.upload_file=s;
},{"~/view/components":"AOf9"}],"SR4s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.filter_options_by_props=exports.filter_options=exports.filter_options_with_score=exports.escape_regex_str=void 0;var r=require("~/common"),e=function(r){return r.replace(/[\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/(\[.*)-(.*\])/g,"$1\\-$2")};exports.escape_regex_str=e;var t=function(t,o,n){if(!t)return o.map(function(r){return{opt:r,score:0}});var p=e(t),i=new RegExp(p,"i"),s=new RegExp("^"+p+"$","i"),c=new RegExp("^"+p,"i"),u=new RegExp("\b"+p,"i"),a=new RegExp("[a-z0-9]"+e((0,r.capitalize)(t))),f=new RegExp("[^w]"+p,"i");return o.filter(function(r){return n(r,i)}).map(function(r){return n(r,s)?{score:5,opt:r}:n(r,c)?{score:4,opt:r}:n(r,u)?{score:3,opt:r}:n(r,a)?{score:2,opt:r}:n(r,f)?{score:1,opt:r}:{score:0,opt:r}}).sort((0,r.comparator)("score","desc"))};exports.filter_options_with_score=t;var o=function(r,e,o){return t(r,e,o).map(function(r){return r.opt})};exports.filter_options=o;var n=function(e,o,n){if(!e)return o;var p={};n.forEach(function(r){p[r]=t(e,o,function(e,t){return t.test(e[r])})});var i=[];return n.forEach(function(r){p[r]&&(i=i.concat(p[r]))}),i.sort((0,r.comparator)("score","desc")).map(function(r){return r.opt})};exports.filter_options_by_props=n;
},{"~/common":"rTqy"}],"Zebh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useCallbackAfterUpdate=exports.useContextState=exports.useRequestStatus=exports.useMemoRef=exports.useValueRef=exports.useStateWithRef=exports.useStateRef=exports.useStateObject=exports.useStateIfMounted=void 0;var e=r(require("preact/hooks"));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}function r(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=o?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(u,a,c):u[a]=e[a]}return u.default=e,n&&n.set(e,u),u}var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var u in t=arguments[r])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e}).apply(this,arguments)},u=function(){var t=e.useRef(!0);return e.useEffect(function(){return function(){t.current=!1}},[]),t},o=function(t){var r=u(),n=e.useState(t),o=n[0],a=n[1];return[o,e.useCallback(function(e){r.current&&a(e)},[a,r])]};exports.useStateIfMounted=o;var a=function(t){var r=u(),o=e.useState(t),a=o[0],c=o[1];return[a,e.useCallback(function(e){r.current&&c("function"==typeof e?e:function(t){return n(n({},t),e)})},[c,r])]};exports.useStateObject=a;var c=function(t){var r=u(),n=e.useRef(t),o=e.useState(t),a=o[0],c=o[1];return[a,e.useCallback(function(e){r.current&&(n.current="function"==typeof e?e(n.current):e,c(e))},[c,r]),n]};exports.useStateRef=c;var s=function(t,r){var n=u(),o=e.useState(t),a=o[0],c=o[1];return e.useEffect(function(){r.current=t},[]),[a,e.useCallback(function(e){n.current&&(r.current="function"==typeof e?e(r.current):e,c(e))},[c,n])]};exports.useStateWithRef=s;var f=function(t){var r=e.useRef(t);return r.current=t,r};exports.useValueRef=f;var i=function(t,r){var n=e.useMemo(t,r);return f(n)};exports.useMemoRef=i;var l=function(t){var r=o({pending:!1,success:!1,error:null}),n=r[0],u=r[1];return[n,e.useCallback(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return u({pending:!0,success:!1,error:null}),t.apply(void 0,e).then(function(e){return u({pending:!1,success:!0,error:null}),e}).catch(function(e){return u({pending:!1,success:!1,error:e}),e})},[t])]};exports.useRequestStatus=l;var p=function(t){var r=e.useContext(t);return[r.value,r.setValue]};exports.useContextState=p;var v=function(t,r,n){var u=e.useRef(!1);return e.useEffect(function(){var e;u.current&&r.current&&(null===(e=r.current)||void 0===e||e.call(r),u.current=!1)},n),[e.useCallback(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];u.current=!0,t.apply(void 0,e)},[t]),e.useCallback(function(){var e;u.current=!1,null===(e=r.current)||void 0===e||e.call(r)},[])]};exports.useCallbackAfterUpdate=v;
},{"preact/hooks":"MwGB"}],"KGSM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useUploadFiles=exports.useDragAndDrop=exports.useDebounce=exports.useCopyToClipboard=exports.useTempAnimation=exports.useRenderPropsFunc=exports.useHoldClick=void 0;var e=u(require("preact/hooks")),r=require("~/view/components"),n=require("~/view/utils");function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}function u(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var a=o?Object.getOwnPropertyDescriptor(e,c):null;a&&(a.get||a.set)?Object.defineProperty(u,c,a):u[c]=e[c]}return u.default=e,n&&n.set(e,u),u}var o=function(e,r,n,t){return new(n||(n=Promise))(function(u,o){function c(e){try{i(t.next(e))}catch(r){o(r)}}function a(e){try{i(t.throw(e))}catch(r){o(r)}}function i(e){var r;e.done?u(e.value):(r=e.value,r instanceof n?r:new n(function(e){e(r)})).then(c,a)}i((t=t.apply(e,r||[])).next())})},c=function(e,r){var n,t,u,o,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,t&&(u=2&o[0]?t.return:o[0]?t.throw||((u=t.return)&&u.call(t),0):t.next)&&!(u=u.call(t,o[1])).done)return u;switch(t=0,u&&(o=[2&o[0],u.value]),o[0]){case 0:case 1:u=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,t=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(u=(u=c.trys).length>0&&u[u.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!u||o[1]>u[0]&&o[1]<u[3])){c.label=o[1];break}if(6===o[0]&&c.label<u[1]){c.label=u[1],u=o;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(o);break}u[2]&&c.ops.pop(),c.trys.pop();continue}o=r.call(e,c)}catch(a){o=[6,a],t=0}finally{n=u=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a={once:!0},i=function(r,t,u,o){void 0===u&&(u=150),void 0===o&&(o=750);var c=(0,n.useStateRef)(!1),i=c[0],l=c[1],s=c[2],f=(0,n.useValueRef)(r),p=(0,n.useValueRef)(t),v=(0,n.useValueRef)(u),d=e.useRef(),m=e.useCallback(function(){var e;s.current&&(d.current&&clearTimeout(d.current),null===(e=f.current)||void 0===e||e.call(f),d.current=setTimeout(m,v.current))},[]),b=e.useCallback(function(){l(!1),clearTimeout(d.current),d.current=null},[]);e.useEffect(function(){if(i)return d.current=setTimeout(m,o),window.addEventListener("mouseup",b,a),window.addEventListener("blur",b,a),function(){var e;null===(e=p.current)||void 0===e||e.call(p),window.removeEventListener("mouseup",b),window.removeEventListener("blur",b)}},[i]);var y=e.useCallback(function(e){var r;e.initialClick=!0,null===(r=f.current)||void 0===r||r.call(f,e),l(!0)},[]);return e.useMemo(function(){var e={onMouseDown:y};return i&&(e.onMouseLeave=b),e},[i])};exports.useHoldClick=i;var l=function(r,n,t){var u=(0,e.useCallback)(r,n);return u.displayName=t,u};exports.useRenderPropsFunc=l;var s=function(r,t){var u=e.useRef(),o=(0,n.useStateRef)(!1),c=o[0],a=o[1],i=o[2],l=e.useCallback(function(){a(!1),u.current&&clearTimeout(u.current),u.current=null},[]),s=e.useCallback(function(){i.current&&l(),u.current&&clearTimeout(u.current),t?u.current=setTimeout(function(){a(!0),u.current=setTimeout(l,r)},t):(a(!0),u.current=setTimeout(l,r))},[r,t]);return e.useEffect(function(){if(c)return function(){u.current&&clearTimeout(u.current),u.current=null}},[c]),[c,s,a]};exports.useTempAnimation=s;var f=function(r,n){return e.useCallback(function(){return o(void 0,void 0,void 0,function(){var e,t,u;return c(this,function(o){return e=document.getElementById("clipboard-input"+(n?"-"+n:"")),r&&e instanceof HTMLTextAreaElement?(t=document.activeElement,e.value=r,e.select(),e.setSelectionRange(0,99999),e.focus(),u=document.execCommand("copy"),e.value="",e.blur(),null==t||t.focus(),[2,u?Promise.resolve():Promise.reject()]):[2,Promise.reject()]})})},[r])};exports.useCopyToClipboard=f;var p=function(r,n){void 0===n&&(n=150);var t=e.useRef(null),u=e.useCallback(function(){for(var e=[],u=0;u<arguments.length;u++)e[u]=arguments[u];t.current&&clearTimeout(t.current),t.current=setTimeout(function(){r.apply(void 0,e),clearTimeout(t.current),t.current=null},n)},[r]),o=e.useCallback(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]);return e.useEffect(function(){return function(){clearTimeout(t.current),t.current=null}},[r]),[u,o]};exports.useDebounce=p;var v=function(r){var t=(0,n.useStateIfMounted)(!1),u=t[0],o=t[1],c=(0,e.useCallback)(function(e){e.preventDefault(),e.stopPropagation(),o(!0)},[]),a=(0,e.useCallback)(function(){return o(!1)},[]),i=(0,e.useCallback)(function(e){e.preventDefault(),e.stopPropagation(),o(!1),r(e.dataTransfer.files),e.dataTransfer.clearData()},[r]);return[u,(0,e.useMemo)(function(){return{onDragOver:c,onDragEnter:c,onDrop:i,onDragLeave:a,onDragExit:a,onDragEnd:a}},[c,a,i])]};exports.useDragAndDrop=v;var d=function(t,u,o){return(0,e.useCallback)(function(e){return function(){if(e.length>1){for(var t=[],u=0;u<e.length;u++)t.push((0,n.upload_file)(e.item(u)));return Promise.all(t).then(function(e){return r.import_multiple_files.apply(void 0,e)})}var o=e[0];return o?(0,n.upload_file)(o):Promise.resolve()}().catch(function(e){return"string"==typeof e?null==u||u(e):console.error(e),null}).then(function(e){var r;if(null===(r=null==o?void 0:o.current)||void 0===r||r.reset(),e)return t(e)})},[t,u])};exports.useUploadFiles=d;
},{"preact/hooks":"MwGB","~/view/components":"AOf9","~/view/utils":"YORt"}],"AnRo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useSaveSnippetInSection=exports.useSaveMessage=exports.useSaveMessageInCategory=exports.useLoadedMessage=exports.useInsertSnippet=void 0;var e=a(require("preact/hooks")),n=require("~/common"),t=require("~/model"),r=require("~/view/utils");function u(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(u=function(e){return e?t:n})(e)}function a(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u(n);if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}var i=function(){return(i=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u]);return e}).apply(this,arguments)},o=function(n,t,u){var a=(0,r.useValueRef)(n),i=(0,r.useValueRef)(t),o=e.useRef(-1),c=e.useRef(!1),s=e.useCallback(function(e,n){var t;n||-1===o.current||(u.current.selectionStart=o.current,u.current.selectionEnd=o.current);var s=(0,r.insert_text_at_selection)(a.current,e,i.current,u),l=s[0],d=s[1];return o.current=d,"end"===n&&(l===a.current?o.current=-1:c.current=!0),l===a.current&&(null===(t=u.current)||void 0===t||t.focus()),l},[]);return e.useEffect(function(){var e;-1!==o.current&&(null===(e=u.current)||void 0===e||e.focus(),u.current.selectionStart=o.current,u.current.selectionEnd=o.current,o.current=-1),c.current&&(o.current=-1,c.current=!1)},[n]),s};exports.useInsertSnippet=o;var c=function(n){var u=(0,r.useContextState)(t.LOADED_MESSAGE),a=u[0],i=u[1];return[e.useMemo(function(){var e;return null!==(e=n.find(function(e){return e.id===a}))&&void 0!==e?e:null},[n,a]),a,i]};exports.useLoadedMessage=c;var s=function(){var u=(0,r.useContextState)(t.MESSAGE_CATEGORIES),a=u[0],o=u[1],c=(0,r.useValueRef)(a),s=(0,e.useCallback)(function(e,t){var r,u=null!==(r=c.current.find(function(n){return n.name===e}))&&void 0!==r?r:{name:e,open:!0,data:[]};if(!u.data.includes(t)){var a=c.current.map(function(r){return i(i({},r),{data:r.name===e?r.data:(0,n.remove_item_from)(r.data,function(e){return e===t})})});o((0,n.replace_item_in)(a,function(n){return n.name===e},i(i({},u),{data:(0,n.replace_item_in)(u.data,function(e){return e===t},t,"end")}),"end"))}},[]),l=(0,e.useCallback)(function(e){o(c.current.map(function(t){return i(i({},t),{data:(0,n.remove_item_from)(t.data,function(n){return n===e})})}))},[]);return(0,e.useCallback)(function(e,n,t){n&&!n.id||e&&n&&n.id!==e||(n?t&&s(t,n.id):l(e))},[])};exports.useSaveMessageInCategory=s;var l=function(){var u=(0,r.useContextState)(t.MESSAGES),a=u[0],o=u[1],l=s(),d=c(a),f=d[0],v=d[1],p=d[2],m=e.useContext(t.EDITOR_STATE).value,_=m.text,S=m.speed,x=m.speed_char,g=m.max_length,b=m.bits,E=m.voice,y=(0,r.useContextState)(t.EDITOR_UNSAVED),h=y[0],C=y[1],M=e.useMemo(function(){var e,n,t,r,u;return f?f.text!==_||(null===(e=f.options)||void 0===e?void 0:e.speed)!==S||(null===(n=f.options)||void 0===n?void 0:n.speed_char)!==x||(null===(t=f.options)||void 0===t?void 0:t.bits)!==b||(null===(r=f.options)||void 0===r?void 0:r.voice)!==E||(null===(u=f.options)||void 0===u?void 0:u.max_length)!==g:!!_},[f,_,S,g,b,x,E]);e.useEffect(function(){C(M)},[M]);var O=e.useRef(null),k=(0,r.useValueRef)(a),I=(0,r.useValueRef)(v),R=e.useCallback(function(e,t,r){var u;if(t&&!t.id)return(0,n.do_alert)("couldn't save due to missing id"),console.error("couldn't save due to missing id"),!1;if(e&&t&&t.id!==e)return(0,n.do_alert)("couldn't save due to mismatched ids"),console.error("couldn't save due to mismatched ids"),!1;var a=null!==(u=k.current)&&void 0!==u?u:[],c=a.find(function(e){return e.name===(null==t?void 0:t.name)});if(c&&c.id!==e)return(0,n.do_alert)("A message with this name already exists."),!1;var s=a.findIndex(function(n){return n.id===e}),d=null==a?void 0:a.slice(),f=d.find(function(e){return e.id===I.current});d[-1===s?k.current.length:s]=t;var v=d.filter(function(e){return!!e});if(o(v),l(e,t,r),e===I.current){if(t)if(e){if((0,n.deep_equals)(t,i(i({},null!=f?f:{}),{name:t.name})))return p(e,!0,!0),!0}else O.current=t.id;else O.current=null;C(!t)}else e||(O.current=t.id,C(!t));return!0},[]);return e.useEffect(function(){var e=O.current;null==e||h||(p(e,!1,!0),O.current=null)},[h]),e.useEffect(function(){"string"==typeof v&&v.length>0&&a.findIndex(function(e){return e.id===v})<0&&p(null,!0,!0)},[v,a]),[f,R]};exports.useSaveMessage=l;var d=function(t,r){var u=(0,e.useCallback)(function(e,u){var a=t.current.find(function(n){return n.name===e});if(!a.data.includes(u)){var o=t.current.map(function(t){return i(i({},t),{data:t.name===e?t.data:(0,n.remove_item_from)(t.data,function(e){return e===u})})});r((0,n.replace_item_in)(o,function(n){return n.name===e},i(i({},a),{data:(0,n.replace_item_in)(a.data,function(e){return e===u},u,"end")}),"end"))}},[]),a=(0,e.useCallback)(function(e){r(t.current.map(function(t){return i(i({},t),{data:(0,n.remove_item_from)(t.data,function(n){return n===e})})}))},[]);return(0,e.useCallback)(function(e,n,t){n&&!n.id||e&&n&&n.id!==e||(n?t&&u(t,n.id):a(e))},[])};exports.useSaveSnippetInSection=d;
},{"preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI","~/view/utils":"YORt"}],"FRJR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IntroFooter=void 0;var t=r(require("preact"));function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(e=function(t){return t?n:r})(t)}function r(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=e(r);if(n&&n.has(t))return n.get(t);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=t[a]}return o.default=t,n&&n.set(t,o),o}var n={"intro-start":"intro-editor","intro-editor":"intro-messages","intro-messages":"intro-snippets","intro-snippets":"intro-help","intro-help":null},o=function(e){var r=e.item,o=e.setItem,i=e.back;return t.h("div",{className:"modal-footer"},"intro-start"===r?t.h("button",{className:"btn btn-large btn-negative",onClick:function(){return o("intro-help")}},"Skip"):t.h("button",{className:"btn btn-large",onClick:i},"Back"),t.h("button",{className:"btn btn-large btn-primary",onClick:function(){return o(n[r])}},"intro-start"===r?"Start":"intro-help"===r?"Get Started":"Next"))};exports.IntroFooter=o;
},{"preact":"aSor"}],"PpLA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OptimizeSampleDemo=void 0;var e=n(require("preact")),t=require("~/common"),r=require("~/model"),o=require("~/view/utils");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=n?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}var a=function(){return(a=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},l="You had seven and a half bags of   cheetos before tonight, don't you think you ate them too fast? ",p=function(){var i=(0,o.optimize_message)(l,{current:null},r.OptimizeTrigger.manual,a(a({},t.DEFAULT_STATE.settings),{optimize_level:r.OptimizeLevel.max}))[0];return e.h("div",{className:"help-demo help-demo-optimize-sample"},"For example, the message",e.h("div",{className:"help-demo-optimize-sample-text tts-text"},'"',l,'" (',l.length," chars)"),"would be transformed into the following after optimization:",e.h("div",{className:"help-demo-optimize-sample-text tts-text"},'"',i,'" (',i.length," chars)"))};exports.OptimizeSampleDemo=p;
},{"preact":"aSor","~/common":"rTqy","~/model":"p5UI","~/view/utils":"YORt"}],"yR43":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PauseSpeedDemo=void 0;var e=s(require("preact")),t=require("preact/hooks"),a=require("~/common"),r=require("~/view/components"),o=require("~/view/utils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var n=o?Object.getOwnPropertyDescriptor(e,s):null;n&&(n.get||n.set)?Object.defineProperty(r,s,n):r[s]=e[s]}return r.default=e,a&&a.set(e,r),r}var n={text:"",promise:new Promise(function(){}),data:""},i=function(e){return"this is before the pause "+e+" this is after the pause "+a.DEFAULT_SPEED_CHAR.repeat(20)},p=function(){var a=(0,o.useAudioPlayer)("pause-demo-modal-player",n),u=a[0],s=a[1],p=(0,t.useMemo)(function(){return[i((0,r.generate_pause)(1.3,"Brian",!1)),i((0,r.generate_pause)(1.3,"Brian",!0))]},[]),l=p[0],m=p[1];return e.h("div",{className:"help-demo help-demo-pause"},e.h("h4",{className:"help-demo-prompt"},"Try it out:"),e.h("div",{className:"help-demo-pause-top"},e.h("div",{className:"help-demo-pause-item"},e.h("div",{className:"help-demo-pause-item-text tts-text"},l),e.h("button",{className:"help-demo-pause-item-button icon-button",onClick:function(){return s(l)}},e.h("i",{className:"fas fa-volume-up"}))),e.h("div",{className:"help-demo-pause-item"},e.h("div",{className:"help-demo-pause-item-text tts-text"},m),e.h("button",{className:"help-demo-pause-item-button icon-button",onClick:function(){return s(m)}},e.h("i",{className:"fas fa-volume-up"})))),e.h("div",{className:"help-demo-pause-player"},e.h(r.AudioPlayer,{data:u,id:"pause-demo-modal-player"})))};exports.PauseSpeedDemo=p;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/view/components":"AOf9","~/view/utils":"YORt"}],"zDF6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReportMissingHelpLink=void 0;var e=u(require("preact")),t=require("preact/hooks"),r=require("~/common"),n=require("~/model");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=u?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}var i=function(e){return'Missing Help Data for "'+e+'"'},a=function(e){return'Found on element "'+(e||"unknown")+'"'},c=function(){var o=(0,t.useContext)(n.HELP_ITEM).value,u=(0,t.useMemo)(function(){for(var e=document.querySelector('[data-help="'+o+'"]')||document.querySelector('[data-tutorial="'+o+'"]'),t="",n=e,u=function(){var e="";n.classList.forEach(function(t){e+="."+t});var r=n.nodeName.toLowerCase()+(n.id?"#"+n.id:"")+e;t=t?r+" "+t:r,n=n.parentElement};n instanceof HTMLElement;)u();var c={title:i(o),body:a(t),labels:"bug"};return r.REPOSITORY_URL+"/issues/new?"+Object.entries(c).map(function(e){var t=e[0],r=e[1];return t+"="+encodeURIComponent(r)}).join("&")},[o]);return o?e.h("a",{href:u,target:"_blank"},"Report this issue"):null};exports.ReportMissingHelpLink=c;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI"}],"GziJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SnippetAddDemo=void 0;var e=a(require("preact")),t=require("preact/hooks"),r=require("~/view/components"),n=require("~/view/utils");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}var u={id:"test",text:"TEXT",options:{prefix:"pre",suffix:"post",space_before:!0,space_after:!0,default_count:1}},i=function(){},s=function(){return new Promise(function(){})},p=function(o){var a=(0,t.useRef)(),p=(0,n.useStateIfMounted)("This is a sample message. Blablabla."),c=p[0],l=p[1],f=(0,n.useInsertSnippet)(c,400,a),d=(0,t.useCallback)(function(e,t){var r=f(e,t);return l(r),r},[f]);return(0,t.useEffect)(function(){var e;a.current&&(null===(e=a.current)||void 0===e||e.focus(),a.current.selectionStart=25,a.current.selectionEnd=25)},[]),e.h("div",{className:"help-demo help-demo-snippet-add"},e.h("h4",{className:"help-demo-prompt"},"Try it out:"),e.h("div",{className:"help-demo-snippet-add-content"},e.h("textarea",{ref:a,className:"tts-textarea-input tts-text",value:c,rows:4,cols:40,onInput:function(e){l(e.target.value)}}),e.h(r.SnippetsRow,{row:u,updateRow:i,onClickDelete:i,onClickEdit:i,previewText:s,addToMessage:d})))};exports.SnippetAddDemo=p;
},{"preact":"aSor","preact/hooks":"MwGB","~/view/components":"AOf9","~/view/utils":"YORt"}],"l78C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SnippetEffectDemo=void 0;var e=a(require("preact"));function t(e){if("function"!=typeof WeakMap)return null;var a=new WeakMap,r=new WeakMap;return(t=function(e){return e?r:a})(e)}function a(e,a){if(!a&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t(a);if(r&&r.has(e))return r.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var p=s?Object.getOwnPropertyDescriptor(e,l):null;p&&(p.get||p.set)?Object.defineProperty(n,l,p):n[l]=e[l]}return n.default=e,r&&r.set(e,n),n}var r=function(){return e.h("div",{className:"help-demo help-demo-snippet-effects"},e.h("div",{className:"row tts-snippets-modal-text"},e.h("label",{className:"tts-snippets-modal-prefix"},e.h("span",null,"Prefix"),e.h("input",{value:"y",readonly:!0,className:"tts-text"})),e.h("label",{className:"tts-snippets-modal-input"},e.h("span",null,"Main Text"),e.h("input",{value:"PX",readonly:!0,className:"tts-text"})),e.h("label",{className:"tts-snippets-modal-suffix"},e.h("span",null,"Suffix"),e.h("input",{value:"",readOnly:!0,className:"tts-text"}))))};exports.SnippetEffectDemo=r;
},{"preact":"aSor"}],"AWNy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SnippetTextDemo=void 0;var e=s(require("preact"));function t(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,p=new WeakMap;return(t=function(e){return e?p:s})(e)}function s(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var p=t(s);if(p&&p.has(e))return p.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var n=i?Object.getOwnPropertyDescriptor(e,r):null;n&&(n.get||n.set)?Object.defineProperty(a,r,n):a[r]=e[r]}return a.default=e,p&&p.set(e,a),a}var p={id:"sample",text:"Main",options:{space_after:!0,space_before:!0,prefix:"pre",suffix:"?^",default_count:1}},a=function(){return e.h("div",{className:"help-demo help-demo-snippet-text"},e.h("div",{className:"snippet"},e.h("div",{className:"snippet-space-before","data-show":""+p.options.space_before},e.h("div",{className:"help-demo-snippet-text-label"},"Space Before")),p.options.prefix&&e.h("div",{className:"snippet-prefix"},e.h("span",{className:"tts-text"},p.options.prefix),e.h("div",{className:"help-demo-snippet-text-label"},"Prefix")),e.h("div",{className:"snippet-text"},e.h("span",{className:"tts-text"},p.text),e.h("div",{className:"help-demo-snippet-text-label"},"Main Text")),p.options.suffix&&e.h("div",{className:"snippet-suffix"},e.h("span",{className:"tts-text"},p.options.suffix),e.h("div",{className:"help-demo-snippet-text-label"},"Suffix")),e.h("div",{className:"snippet-space-after","data-show":""+p.options.space_after},e.h("div",{className:"help-demo-snippet-text-label"},"Space After"))))};exports.SnippetTextDemo=a;
},{"preact":"aSor"}],"AHri":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./IntroFooter");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./OptimizeSample");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./PauseSpeed");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var n=require("./ReportMissingHelpLink");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var o=require("./SnippetAdd");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var u=require("./SnippetEffect");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});var i=require("./SnippetText");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===i[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}}))});
},{"./IntroFooter":"FRJR","./OptimizeSample":"PpLA","./PauseSpeed":"yR43","./ReportMissingHelpLink":"zDF6","./SnippetAdd":"GziJ","./SnippetEffect":"l78C","./SnippetText":"AWNy"}],"uLYc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HELP_DATA=void 0;var e=l(require("preact")),t=require("~/common"),n=require("./demos");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var l={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(l,s,a):l[s]=e[s]}return l.default=e,n&&n.set(e,l),l}var o=function(e){return e},s={optimize:"Message optimization will remove unneeded characters, without altering the speech, to maximize the amount of text you can fit within the character limit.",speed:"The Speed Modifier causes the speech to become higher-pitched and faster, as if the speaker is excited or panicking.",speed_enable:'Enabling "Speed Modifier" will fill the rest of the message up to the character limit with the speed modifier character.',speed_brian:"Brian is the only voice that consistently works well with the speed modifier. Most other voices will have little to no change in pitch or speed.",speed_amy:"When using Amy, speed modifiers have the opposite of their normal effects."},a=o({"reset-editor":{key:"reset-editor",name:"Reset Editor Button",content:"Clicking the Reset button will clear the text in the editor and start a new message. Changes to the current message will not be saved."},"pause-add":{key:"pause-add",name:"Add Pause",content:function(){return e.h(e.Fragment,null,"Add text to the message that will make the speaker pause for the specified amount of time.",e.h("br",null),"Right-Click the Add Pause button to quickly add a pause using the duration that was previously set.")}},"pause-speed":{key:"pause-speed",name:"Pause: Preserve Speed Modifier",content:function(i){var l=i.goToHelp;return e.h(e.Fragment,null,e.h("p",null,"The normal way to add a pause is using ",e.h("code",null,"/"),", separated by spaces. However, this behaves like punctuation, which removes the effect of the speed modifier on any text before it. The"," ",e.h("code",null,t.PAUSE_CHAR_SPEED_MODIFIED)," character has a similar effect, but preserves the effect of the speed modifier."),e.h("h4",null,"Why not use ",e.h("code",null,t.PAUSE_CHAR_SPEED_MODIFIED)," all the time?"),e.h("p",null,"The ",e.h("code",null,t.PAUSE_CHAR_SPEED_MODIFIED)," character, while quiet, is not completely silent like slashes are. It can also affect the pronunciation of words before and after it. For example,"," ",e.h("code",null,t.PAUSE_CHAR_SPEED_MODIFIED.repeat(4)," ow"),' will sound more like "pow" than "ow", even with the space in between.',e.h("br",null)),e.h("p",null,e.h("button",{className:"link",onClick:function(){return l("speed-overview")}},"Learn more about the Speed Modifier and Punctuation.")),e.h(n.PauseSpeedDemo,null))}},"editor-voice":{key:"tts-voice",name:"Text-to-Speech Voice",tutorial:!0,content:function(){return e.h(e.Fragment,null,e.h("p",null,"Choose the TTS voice to use for the current message."),e.h("h3",null,"Important Tips"),e.h("ul",null,e.h("li",null,s.speed_brian)))}},"use-bits":{key:"use-bits",name:"Bits String",content:function(){return e.h(e.Fragment,null,e.h("p",null,"Enable this if you plan to send your message using Bits in Twitch chat. This will count the Bits text towards the character limit, but won't be part of the message speech. This will ensure that the message sounds exactly the same when you send it as it does in testing."))}},"snippets-overview":{key:"snippets-overview",name:"Snippets",content:function(t){return e.h(e.Fragment,null,e.h("p",null,"Snippets are bits of text that can be easily inserted into your message. Expand each section below to learn more."),e.h("details",null,e.h("summary",null,"The Parts of a Snippet"),a["snippet-text"].content(t)),e.h("details",null,e.h("summary",null,"Snippet Groups"),a["snippets-group"].content()),e.h("details",null,e.h("summary",null,"Inserting Snippets"),a["snippet-insert"].content()),e.h("details",null,e.h("summary",null,"Snippet Actions"),a["snippet-actions"].content()),e.h("details",null,e.h("summary",null,"Example: Creating Sound Effects"),a["snippet-effects"].content()))}},"snippets-group":{key:"snippets-group",name:"Snippet Group",content:function(){return e.h("p",null,"Snippet Groups help keep your snippets organized. Click on the group to expand/hide the snippets inside. Click the Edit button (",e.h("i",{className:"fas fa-edit"}),") to rename or delete the group.")}},"snippet-text":{key:"snippet-text",name:"Snippet Text",content:function(t){var i=t.goToHelp;return e.h(e.Fragment,null,e.h("p",null,"A snippet is made up of three parts: the prefix, the main text, and the suffix."),e.h("p",null,"The ",e.h("b",null,"prefix")," is inserted at the beginning of the snippet, and is not repeated. This allows you to start the snippet with a certain character or string before the repeated main text. This is most commonly used for"," ",e.h("button",{className:"link",onClick:function(){return i("snippet-effects")}},"Creating Sound Effects"),"."),e.h("p",null,"The ",e.h("b",null,"main text")," is inserted in the middle of the snippet, and can be repeated however many times you want. See the"," ",e.h("button",{className:"link",onClick:function(){return i("snippet-insert")}},"Insert Snippet help section")," ","to learn how to use this."),e.h("p",null,"The ",e.h("b",null,"suffix")," is inserted at the end of the snippet, and, like the prefix, it is not repeated. This is particularly useful for punctuation."),e.h("p",null,e.h("b",null,"Other options")),e.h("ul",null,e.h("li",null,e.h("b",null,"Space Before/After"),": When these are enabled, the editor will ensure that there is always a space before and/or after the snippet when you insert it. Some snippets won't be spoken correctly when they aren't separated from other words. Others will work fine."),e.h("li",null,e.h("b",null,"Default Repeat Count"),": This sets the default number of times the main text is repeated when you insert the snippet once. For example, if the snippet below had a default repeat count of 3, inserting it once would add the text ",e.h("code",null,"preMainMainMain?^")," ","to the message.")),e.h("p",null,"Note that all parts of the snippet ",e.h("b",null,"except the Main Text")," are optional."),e.h(n.SnippetTextDemo,null))}},"snippet-insert":{key:"snippet-insert",name:"Insert Snippet",tutorial:!0,content:function(){return e.h(e.Fragment,null,e.h("p",null,"Left-Click this button to insert the entire snippet into the editor. When you Left-Click and hold, the main text will be repeatedly inserted into the editor until you release the button."),e.h("p",null,"Right-Click this button to insert only the main text, without the prefix, suffix, or spaces. Right-Click and hold to repeatedly insert only the main text."),e.h("p",null,"Select text in the editor and then insert the snippet to overwrite the selected text."),e.h(n.SnippetAddDemo,null))}},"snippet-actions":{key:"snippet-actions",name:"Snippet Actions",content:function(){return e.h(e.Fragment,null,e.h("p",null,"Clicking the Gear icon (",e.h("i",{className:"fas fa-cog"}),") next to a snippet will reveal a list of actions."),e.h("dl",null,e.h("dt",null,e.h("i",{className:"fas fa-volume-up"})," Listen:"),e.h("dd",null,"Play an audio preview of the snippet."),e.h("dt",null,e.h("i",{className:"fas fa-clipboard"})," Copy to Clipboard:"),e.h("dd",null,"Copy the snippet to the clipboard. (Hint: Right-Click to copy only the main text.)"),e.h("dt",null,e.h("i",{className:"fas fa-edit"})," Edit:"),e.h("dd",null,"Edit the snippet text and options."),e.h("dt",null,e.h("i",{className:"fas fa-trash"})," Delete:"),e.h("dd",null,"Delete the snippet.")))}},"snippet-effects":{key:"snippet-effects",name:"Snippet Example: Creating Sound Effects",content:function(){return e.h(e.Fragment,null,e.h("p",null,"Most TTS voices will make sound effects when you repeat a sequence of characters. For example, ",e.h("code",null,"yPXPXPXPXPX"),"will sound like a sprinkler or spray bottle. However, repeating the characters ",e.h("code",null,"PX"),' alone will simply be pronounced as "pee ecks". Starting the sequence with a vowel will cause the speech engine to pronounce it as a word rather than letters.'),e.h("p",null,"So if we want to create a snippet for this sound, it would look something like this."),e.h(n.SnippetEffectDemo,null))}},"snippet-export":{key:"snippet-export",name:"Export Snippet",content:"Export a snippet to backup or share it with others."},"messages-overview":{key:"messages-overview",name:"Messages",content:function(){return e.h(e.Fragment,null,e.h("h4",null,"View and load your saved Messages."),e.h("p",null,"Key Features:"),e.h("ul",null,e.h("li",null,"Copy Message text straight to the clipboard"),e.h("li",null,"Load saved Messages into the editor."),e.h("li",null,"Rename or delete saved Messages.")),e.h("p",null,"Note: If you load a Message into the editor and modify it, you will have the option to either save changes to the existing Message or save it as a new Message."))}},"messages-group":{key:"messages-group",name:"Message Group",content:function(){return e.h("p",null,"Message Groups help keep your messages organized. Click on the group to expand/hide the messages inside. Click the Edit button (",e.h("i",{className:"fas fa-edit"}),") to rename or delete the group.")}},"messages-export":{key:"messages-export",name:"Export Message",content:"Export a message to backup or share it with others."},"optimize-full":{key:"optimize-full",name:"Message Optimization",content:function(t){var i=t.goToHelp;return e.h(e.Fragment,null,e.h("p",null,s.optimize," This becomes helpful when you have a long message, or you want to get the most out of the"," ",e.h("button",{className:"link",onClick:function(){return i("speed-overview")}},"Speed Modifier"),"."),e.h(n.OptimizeSampleDemo,null),e.h("hr",null),e.h("h3",null,"Message Optimization Settings"),a["optimize-settings"].content())}},"optimize-settings":{key:"optimize-settings",name:"Message Optimization: Settings",content:function(){return e.h(e.Fragment,null,e.h("p",null,"The following options are available for configuring message optimization:"),e.h("dl",null,e.h("dt",null,e.h("b",null,"Automatically Trim Spaces")),e.h("dd",null,"When this is enabled, any unnecessary spaces in the message text will be removed. This includes spaces at the beginning and end of the message, as well as multiple consecutive spaces."),e.h("dt",null,e.h("b",null,"Optimize Words (Trigger)")),e.h("dd",null,"This setting determines when the message will be optimized.",e.h("ol",null,e.h("li",null,e.h("b",null,"Manually"),': Only optimize when you click the "Optimize Message" button above the editor.'),e.h("li",null,e.h("b",null,"When you click submit"),': Optimize when you click the "Submit" button.'),e.h("li",null,e.h("b",null,"When you stop typing"),": Automatically optimize a few seconds after you stop typing."),e.h("li",null,e.h("b",null,"As you're typing"),": Optimize immediately as you type."))),e.h("dt",null,e.h("b",null,"Optimization Level")),e.h("dd",null,"This setting determines how aggressive the optimization will be with regard to preserving the speech of the original text.",e.h("ol",null,e.h("li",null,e.h("b",null,"Minimum"),": Speech should be identical before and after optimization."),e.h("li",null,e.h("b",null,"Normal"),": Optimization will cause some very minor changes in speech, but shouldn't be noticeable."),e.h("li",null,e.h("b",null,"Maximum"),": Some parts of speech may change noticeably, but should still have the correct syllables.")))))}},"optimize-manual":{key:"optimize-manual",name:"Manually Trigger Optimization",tutorial:!0,content:function(t){var n=t.goToHelp;return e.h(e.Fragment,null,e.h("p",null,"Clicking this button will optimize the current text in the editor."),e.h("p",null,s.optimize),e.h("p",null,"See the"," ",e.h("button",{className:"link",onClick:function(){return n("optimize-full")}},"Message Optimization help page")," ","to learn more."))}},"speed-overview":{key:"speed-overview",name:"Speed Modifier",tutorial:!0,content:function(){return e.h(e.Fragment,null,e.h("p",null,s.speed),e.h("p",null,s.speed_enable),e.h("details",null,e.h("summary",null,"Speed Modifier Characters"),a["speed-chars"].content()),e.h("h3",null,"Important Tips"),e.h("ul",null,e.h("li",null,"Any text that is followed by punctuation will not be affected by the speed modifier. For example, in the message"," ",e.h("code",null,"Hey you, get off my lawn",t.DEFAULT_SPEED_CHAR.repeat(10)),", ",e.h("code",null,"Hey you")," will be spoken normally, and"," ",e.h("code",null,"get off my lawn")," will be sped up."),e.h("li",null,s.speed_brian),e.h("li",null,s.speed_amy," So ",e.h("code",null,t.SPEED_CHARS[0])," and"," ",e.h("code",null,t.SPEED_CHARS[1])," will make her speak slower/deeper, and"," ",e.h("code",null,t.SPEED_CHARS[2])," will make her speed up.")))}},"speed-chars":{key:"speed-chars",name:"Speed Modifier Characters",content:function(){return e.h("ul",null,e.h("li",null,e.h("code",null,t.SPEED_CHARS[0]),': "Inverted Exclamation Mark" is the default speed modifier character. It is the most reliable and consistent for producing the desired speed and pitch.'),e.h("li",null,e.h("code",null,t.SPEED_CHARS[1]),': "Opening Parenthesis Closing Parenthesis" performs very similarly to ',e.h("code",null,t.SPEED_CHARS[0]),", but with slightly less intensity and subtle differences in inflection. Try this if ",e.h("code",null,t.SPEED_CHARS[0])," isn't quite giving you the result you want."),e.h("li",null,e.h("code",null,t.SPEED_CHARS[2]),': "Greater Than or Equal To" surprisingly has the opposite effect of the other modifiers: it causes the speaker to slow down and lower their pitch later in the sentence.'))}},"tutorials-help":{key:"tutorials-help",name:"Feature Tutorials",content:function(){return e.h("p",null,"These tutorials will appear the first time you use certain features. They're meant to give you a brief explanation along with any important tips about how the feature works. After you see them once, they won't appear again unless you use the help button in the top right corner of the page.")}},"bits-default":{key:"bits-default",name:"Default Bits String",content:function(){return e.h(e.Fragment,null,e.h("p",null,"Choose the string that you plan to use most often when creating messages with Bits."),e.h("p",null,"This defaults to ",e.h("code",null,"uni300")," because this is (currently) the shortest Bit text available, which leaves more room for speed modifier characters."))}},"history-steps":{key:"history-steps",name:"Maximum Undo/Redo Steps",content:function(){return e.h(e.Fragment,null,e.h("p",null,"Adjust the maximum number of undo/redo steps that will be stored. When you exceed this number, the oldest step will be discarded."),e.h("p",null,"Note: You should only need to adjust this if you're on a slow computer and the app is having performance issues."))}},"import-export-overview":{key:"import-export-overview",name:"Import/Export Data",content:function(){return e.h(e.Fragment,null,e.h("p",null,"Import and Export Messages, Snippets, and Settings to backup or share with others."),e.h("details",null,e.h("summary",null,"Export Data"),a["export-details"].content()),e.h("details",null,e.h("summary",null,"Import Data"),a["import-details"].content()))}},"export-details":{key:"export-details",name:"Export Data",content:function(){return e.h("p",null,"Export data to backup or share with others. Select which data you wish to include (Messages, Snippets, and Settings). The output will be a"," ",e.h("code",null,".json")," file.")}},"import-details":{key:"import-details",name:"Import Data",content:function(){return e.h(e.Fragment,null,e.h("p",null,"Import data that was exported from the app. You must provide a valid"," ",e.h("code",null,".json")," file."),e.h("p",null,"If there are conflicts during the import (e.g. two Messages with the same name), you will be prompted to resolve them (e.g. by renaming one of the Messages). Exact duplicates will automatically be discarded."))}},"import-export-reset":{key:"import-export-reset",name:"Reset Storage",content:function(){return e.h(e.Fragment,null,e.h("p",null,"Resetting storage will clear all saved messages, snippets, and settings, and restore the default sample data. If there's anything you might want to keep, you should export the data before resetting."),e.h("p",null,"Note: ",e.h("b",null,"This operation is not reversible.")))}},organize:{key:"organize",name:"Organize Groups and Items",content:function(){return e.h(e.Fragment,null,"Clicking the reorganize button (",e.h("i",{class:"fas fa-sort"}),") will enable control over the order and grouping of the items in the list. You can reorder items inside groups, reorder groups, and move items from one group to another.")}},"help-docs":{key:"help-docs",name:"Read the TTS Guide",content:function(){return e.h(e.Fragment,null,e.h("p",null,"This guide will walk you through the basics of TTS manipulation, including general inflection and pronunciation, speed modifiers, and sound effects."),e.h("a",{href:t.REPOSITORY_URL+"/blob/master/docs/guide.md",target:"_blank",className:"btn btn-primary btn-large"},"Read the TTS Guide"))}},"skip-tutorials":{key:"skip-tutorials",name:"Skip All Tutorials",content:function(){return e.h(e.Fragment,null,a["tutorials-help"].content(),e.h("p",null,"Are you sure you want to turn off these tutorials?"))}},"not-found":{key:"not-found",name:"Not Found",content:function(){return e.h(e.Fragment,null,e.h("p",null,"Sorry! We don't have any information about that."),e.h("p",null,"Did we miss something? ",e.h(n.ReportMissingHelpLink,null),"."))}},"intro-start":{key:"intro-start",name:"",content:function(){return e.h(e.Fragment,null,e.h("h1",null,"Welcome to the TTS Playground!"),e.h("p",null,"Let's take a quick tour of the app and its features!"))}},"intro-editor":{key:"intro-editor",name:"Editor",content:function(){return e.h(e.Fragment,null,e.h("h4",null,"Craft and assemble your messages in the editor."),e.h("p",null,"Key features:"),e.h("ul",null,e.h("li",null,"Full undo/redo support (Ctrl+Z, Ctrl+Shift+Z)"),e.h("li",null,"Easily add pauses and snippets"),e.h("li",null,"Toggle speed modifier"),e.h("li",null,"Save Messages to access them later")))}},"intro-messages":{key:"intro-messages",name:"Messages",content:function(){return e.h(e.Fragment,null,e.h("h4",null,"View and load your saved Messages."),e.h("p",null,"Key Features:"),e.h("ul",null,e.h("li",null,"Copy Message text straight to the clipboard"),e.h("li",null,"Load saved Messages into the editor.")))}},"intro-snippets":{key:"intro-snippets",name:"Snippets",content:function(){return e.h(e.Fragment,null,e.h("h4",null,"Insert repeated text snippets into your message with single click."),e.h("p",null,"Key Features:"),e.h("ul",null,e.h("li",null,"Create, test, and store repeated text snippets"),e.h("li",null,"Insert snippets into the editor by clicking the Add button (",e.h("i",{className:"fas fa-plus"}),")"),e.h("li",null,"Click and hold the Add button (",e.h("i",{className:"fas fa-plus"}),") to repeat the snippet."),e.h("li",null,"Group snippets to keep them organized")))}},"intro-help":{key:"intro-help",name:"Help Button",content:function(){return e.h(e.Fragment,null,e.h("p",null,"If you're not sure how something works:"),e.h("ol",null,e.h("li",null,"Click the Help button in the top right corner."),e.h("li",null,"Click the item on the page that you want to learn about."),e.h("li",null,"Read the information provided in the help popup.")))}}});exports.HELP_DATA=a;
},{"preact":"aSor","~/common":"rTqy","./demos":"AHri"}],"UBzI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useHelpItem=void 0;var e=o(require("preact/hooks")),t=require("~/model"),r=require("~/view/components/help/help-data"),n=require("~/view/utils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}var a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var u in t=arguments[r])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e}).apply(this,arguments)},i=function(e){var t,r,n,u,o=null===(t=null==e?void 0:e.dataset)||void 0===t?void 0:t.help,a=null===(r=null==e?void 0:e.dataset)||void 0===r?void 0:r.tutorial;return o||a||"OPTION"!==e.tagName||(o=null===(n=null==(e=e.parentElement)?void 0:e.dataset)||void 0===n?void 0:n.help,a=null===(u=null==e?void 0:e.dataset)||void 0===u?void 0:u.tutorial),[o,a]},l=function(u){var o=(0,n.useContextState)(t.HELP_ITEM),l=o[0],c=o[1],s=(0,n.useContextState)(t.HELP_COMPLETED),f=s[0],v=s[1],p=(0,n.useValueRef)((0,e.useContext)(t.EDITOR_SETTINGS).value.skip_tutorials),d=(0,n.useStateIfMounted)(!1),O=d[0],P=d[1],y=(0,n.useValueRef)(f),E=(0,n.useValueRef)(u),_=(0,n.useValueRef)(l);e.useEffect(function(){f["intro-help"]||c("intro-start")},[]),e.useEffect(function(){l&&r.HELP_DATA[l]||P(!1)},[l]);var b=e.useCallback(function(e,t){var n,u;e in r.HELP_DATA?(c(e),y.current[e]||v(a(a(a({},y.current),t?((n={})[t]=!0,n):{}),((u={})[e]=!0,u)))):E.current&&c(e)},[]);return[l,e.useCallback(function(e){var t;if(!_.current){var u=i(e.target),o=u[0],a=u[1],l=!E.current&&a?a:o;if(l){var c=!E.current&&(!!a&&!y.current[a]||!!(null===(t=r.HELP_DATA[o])||void 0===t?void 0:t.tutorial)&&!y.current[o]);(E.current||c&&!p.current)&&((0,n.silence_event)(e),P(c),b(l,a))}}},[]),O]};exports.useHelpItem=l;
},{"preact/hooks":"MwGB","~/model":"p5UI","~/view/components/help/help-data":"uLYc","~/view/utils":"YORt"}],"RALr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useOptimizeMessageTrigger=exports.useOptimizeMessage=void 0;var e=u(require("preact/hooks")),t=require("~/model"),r=require("~/view/utils");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var u={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=i?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(u,o,c):u[o]=e[o]}return u.default=e,r&&r.set(e,u),u}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var u in t=arguments[r])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e}).apply(this,arguments)},o=function(n,u,o){var c=(0,r.useContextState)(t.EDITOR_STATE),a=c[0],l=c[1],s=(0,r.useValueRef)(a),f=(0,r.useValueRef)(n),v=e.useRef(1/0);e.useEffect(function(){u.current=!1},[a.text]);var p=e.useRef(function(){}),d=(0,r.useCallbackAfterUpdate)(e.useCallback(function(e){var t,n,c,a,d=e.detail,g=d.trigger,m=d.input,O=d.callback;if(u.current&&v.current<=g||!o.current)O(s.current.text,null===(t=m.current)||void 0===t?void 0:t.selectionStart,null===(n=m.current)||void 0===n?void 0:n.selectionEnd,g);else{var E=f.current,x=E.trim_whitespace,b=E.optimize_words;if(!x&&g>b)O(s.current.text,null===(c=m.current)||void 0===c?void 0:c.selectionStart,null===(a=m.current)||void 0===a?void 0:a.selectionEnd,g);else{var w=(0,r.optimize_message)(s.current.text,m,g,f.current),y=w[0],T=w[1],_=w[2];s.current.text!==y&&O&&(p.current=function(){p.current=function(){},O(y,T,_,g)}),v.current=g,u.current=!0,l(i(i({},s.current),{text:y})),s.current.text===y&&O&&O(y,T,_,g)}}},[]),p,[a.text])[0];e.useEffect(function(){return window.addEventListener("optimize-message",d),function(){return window.removeEventListener("optimize-message",d)}},[])};exports.useOptimizeMessage=o;var c=function(n,u,i){var o=(0,r.useValueRef)(e.useContext(t.EDITOR_SETTINGS).value),c=e.useContext(t.EDITOR_STATE).value,a=(0,r.useValueRef)(c),l=(0,r.useContextState)(t.OPTIMIZE_MESSAGE_CALLBACK),s=l[0],f=l[1],v=e.useCallback(function(e,r){var c,l,s,f,v;if(null==u||u(a.current.text,null===(c=n.current)||void 0===c?void 0:c.selectionStart,null===(l=n.current)||void 0===l?void 0:l.selectionEnd,e),!o.current.trim_whitespace&&e>o.current.optimize_words)return null==i||i(a.current.text,null===(s=n.current)||void 0===s?void 0:s.selectionStart,null===(f=n.current)||void 0===f?void 0:f.selectionEnd,e),void(e===t.OptimizeTrigger.manual&&(null==r||r.focus()));var p=new CustomEvent("optimize-message",{bubbles:!0,detail:{trigger:e,input:n,callback:function(){for(var n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];i.apply(void 0,n),e===t.OptimizeTrigger.manual&&(null==r||r.focus())}}});null===(v=n.current)||void 0===v||v.dispatchEvent(p)},[n,i]);return e.useEffect(function(){f(function(){return v})},[v]),s};exports.useOptimizeMessageTrigger=c;
},{"preact/hooks":"MwGB","~/model":"p5UI","~/view/utils":"YORt"}],"Xrde":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useDragToOpen=exports.useDragReorder=exports.move_organizer_section=exports.move_organizer_item=void 0;var e=u(require("preact/hooks")),t=require("~/common"),n=require("~/view/utils");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(u,i,a):u[i]=e[i]}return u.default=e,n&&n.set(e,u),u}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var u in t=arguments[n])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e}).apply(this,arguments)},i=function(e){return"true"===e.getAttribute("data-disable-reorder")||""+e.getAttribute("draggable")=="false"},a=function(e,n,r){var u=e,i=e[n.section_index],a=o({},e[r.section]),c=i.data.filter(function(e,t){return t!==n.item_index});return n.section_index===r.section?a.data=c:u=(0,t.replace_item_in)(u,function(e,t){return t===n.section_index},o(o({},i),{data:c})),a.data=(0,t.add_item_to)(a.data,n.value,r.item),(0,t.replace_item_in)(u,function(e,t){return t===r.section},a)};exports.move_organizer_item=a;var c=function(e,n,r){if(n.value&&r>-1&&r!==n.section_index){var u=e.filter(function(e,t){return t!==n.section_index});return(0,t.add_item_to)(u,n.value,r)}};exports.move_organizer_section=c;var l=function(t,r){var u=(0,n.useStateRef)(null),o=u[0],l=u[1],s=u[2],f=(0,n.useStateRef)(null),d=f[0],p=f[1],v=f[2],m=(0,n.useStateIfMounted)(!1),g=m[0],_=m[1],b=e.useCallback(function(e,n){var u;if("section"===e.type)u=c(t.current,e,n.section);else{if("item"!==e.type)return;u=a(t.current,e,n)}r(u)},[r]),y=e.useCallback(function(){l(null),p(null),_(!1)},[]),x=e.useCallback(function(e){return function(t){t.preventDefault(),null!=s.current&&("item"!==s.current.type||s.current.section_index!==e?p({section:e,item:null}):p(null))}},[]),D=e.useCallback(function(e,t){var n;if("item"===(null===(n=s.current)||void 0===n?void 0:n.type))return function(n){n.preventDefault(),null!=s.current&&p({section:e,item:t})}},[]),O=e.useCallback(function(e){e.preventDefault(),e.stopPropagation();var t=s.current,n=v.current;null==t||null==n||n.section===t.section_index&&n.item===t.item_index||b(t,n),y()},[b,d]);e.useEffect(function(){if(null!=o){var e=function(e){null!=s.current&&(null==v.current?(e.preventDefault(),e.stopPropagation(),y()):O(e))};return document.body.addEventListener("dragend",e,{once:!0}),document.body.addEventListener("drop",e,{once:!0}),document.body.addEventListener("mouseup",e,{once:!0}),function(){document.body.removeEventListener("dragend",e),document.body.removeEventListener("mouseup",e)}}},[o]);return[o,l,d,function(e,t){var n=s.current,r=v.current;return{onMouseDown:function(e){e.stopPropagation()},onDragStartCapture:function(n){i(n.currentTarget)?n.preventDefault():(l({type:"section",value:e,section_index:t,item_index:null}),setTimeout(function(){var e;"section"===(null===(e=s.current)||void 0===e?void 0:e.type)&&_(!0)},100))},"data-grabbed":""+("section"===(null==n?void 0:n.type)&&(null==n?void 0:n.section_index)===t),"data-drop-target":""+("item"===(null==n?void 0:n.type)&&(null==r?void 0:r.section)===t&&(null==o?void 0:o.section_index)!==t&&null===r.item)}},g,x,D,O]};exports.useDragReorder=l;var s=1e3,f=function(e){(null==e?void 0:e.current)&&(clearTimeout(e.current),e.current=null)},d=function(t,r,u){var o=(0,n.useValueRef)(t),i=(0,n.useStateRef)(null),a=i[1],c=i[2],l=e.useRef(null),d=e.useCallback(function(e,t){c.current===e&&(f(l),r(t.name,!0))},[r]);return e.useEffect(function(){if(u)return function(){f(l),a(null)}},[u]),[e.useCallback(function(e,t){return function(n){!o.current[e.name]&&n.target.classList.contains("organizer-reorder-area")&&"section"===n.target.getAttribute("data-type")&&(n.preventDefault(),a(t),l.current=setTimeout(function(){d(t,e)},s))}},[d]),e.useCallback(function(e,t){return function(t){e.open||o.current[e.name]||!t.target.classList.contains("organizer-reorder-area")||"section"!==t.target.getAttribute("data-type")||(t.preventDefault(),f(l),a(null))}},[r])]};exports.useDragToOpen=d;
},{"preact/hooks":"MwGB","~/common":"rTqy","~/view/utils":"YORt"}],"urVX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useMessageFullText=exports.useAudioPlayer=exports.usePlaySnippet=exports.usePlayMessage=void 0;var e=o(require("preact/hooks")),t=require("~/common"),r=require("~/model"),u=require("~/view/utils");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(u,a,s):u[a]=e[a]}return u.default=e,r&&r.set(e,u),u}var a=function(n,o,a){var s,i=null!==(s=e.useContext(r.EDITOR_SETTINGS).value)&&void 0!==s?s:{},c=i.bits_string,f=i.stop_playback_at_modifier,l=n.text,p=n.options,d=p.speed,v=p.max_length,_=p.bits,y=p.voice,x=p.speed_char,g=(0,u.useValueRef)(y),b=e.useRef(0),R=(0,u.useStateRef)(""),P=R[0],h=R[1],m=R[2],M=(0,u.useMemoRef)(function(){return d&&v!==l.length?""+l+(0,t.get_speed_modifier)(n):l},[d,l,v,_,c,x]),O=(0,u.useMemoRef)(function(){return f?(0,t.get_speed_duration)(n):void 0},[n,f]),S=(0,u.useRequestStatus)(t.get_tts_data),T=S[0],E=S[1],k=e.useCallback(function(e){E(M.current,a,g.current).then(function(r){r===m.current?m.current&&(0,t.play_audio)(o,!1,e,O.current):(b.current=e,h(r))})},[a,o]);return e.useEffect(function(){P&&((0,t.play_audio)(o,!0,b.current,O.current),b.current=0)},[P]),[P,T,k,_?_+" "+M.current:M.current]};exports.usePlayMessage=a;var s=function(n,o){var a,s=null===(a=e.useContext(r.EDITOR_STATE).value)||void 0===a?void 0:a.voice,i=(0,u.useValueRef)(s),c=(0,u.useStateRef)(""),f=c[0],l=c[1],p=c[2],d=(0,u.useRequestStatus)(t.get_tts_data),v=d[0],_=d[1],y=e.useCallback(function(e,r){var u=e.text,a=e.options,s=a.prefix,c=void 0===s?"":s,f=a.default_count,d=a.suffix,v=void 0===d?"":d,y=""+c+u.repeat(r||f||1)+v;return _(y,o,i.current).then(function(e){e===p.current?p.current&&(0,t.play_audio)(n,!1):l(e)})},[]);return e.useEffect(function(){f&&(0,t.play_audio)(n)},[f]),[f,v,y]};exports.usePlaySnippet=s;var i=function(n,o){var a,s=null===(a=e.useContext(r.EDITOR_STATE).value)||void 0===a?void 0:a.voice,i=(0,u.useValueRef)(s),c=(0,u.useStateRef)(""),f=c[0],l=c[1],p=c[2];e.useEffect(function(){f&&(0,t.play_audio)(n)},[f]);var d=e.useCallback(function(e){return e?(0,t.get_tts_data)(e,o,i.current).then(function(e){e===p.current?(0,t.play_audio)(n,!1):l(e)}):Promise.resolve()},[]);return[f,d]};exports.useAudioPlayer=i;var c=function(r){var u=null!=r?r:{options:{}},n=u.text,o=u.options,a=o.max_length,s=o.speed,i=o.bits,c=o.speed_char;return e.useMemo(function(){if(!n)return"";var e=i?i+" "+n:n;return!s||e.length>=a-1?e:""+e+(0,t.get_speed_modifier)(r)},[n,a,s,c])};exports.useMessageFullText=c;
},{"preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI","~/view/utils":"YORt"}],"oVMM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./data");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./dom");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./editor");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./help");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./optimize");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var u=require("./organizer");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});var i=require("./tts");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===i[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}}))});
},{"./data":"Zebh","./dom":"KGSM","./editor":"AnRo","./help":"UBzI","./optimize":"RALr","./organizer":"Xrde","./tts":"urVX"}],"BlZo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RESTORE_WHITESPACE_TRANSFORMS=exports.SAFE_WHITESPACE_TRANSFORMS=exports.TRANSFORMS=exports.PLAIN_TRANSFORMS=exports.WORD_CHARACTERS=void 0;var e,r,t=require("~/model"),n=require("~/view/utils/common"),i="a-z0-9'";exports.WORD_CHARACTERS=i;var o=((e={})[t.OptimizeLevel.safe]={too:"2",one:"1",two:"2",three:"3",four:"4",five:"5",six:"6",seven:"7",eight:"8",nine:"9",ten:"10",and:"&",be:"",bee:"",at:"@",no:"",i:"",bees:"b's"},e[t.OptimizeLevel.normal]={are:"",r:"",you:"",u:"",see:"",why:"",y:"",before:"b4",none:"nun",know:"",speedy:"spee","speedy's":"spee's",m8:"8",mate:"8",matey:"80"},e[t.OptimizeLevel.max]={for:"4",fore:"4",to:"2",a:""},e);exports.PLAIN_TRANSFORMS=o;var a=((r={})[t.OptimizeLevel.safe]=[{match:function(e){return/^\w*ight$/i.test(e)},transform:function(e){return e.replace(/ight$/i,function(e){return(0,n.match_case)("ite",e)})}},{match:function(e){return/th/i.test(e)},transform:function(e){return e.replace(/th/i,function(e){return(0,n.match_case)("",e)})}},{match:function(e){return/st/i.test(e)},transform:function(e){return e.replace(/st/i,function(e){return(0,n.match_case)("",e)})}},{match:function(e){return/fl/i.test(e)},transform:function(e){return e.replace(/fl/i,function(e){return(0,n.match_case)("",e)})}},{match:function(e){return new RegExp("([aeiouy])(\\1){2,}","i").test(e)},transform:function(e){return e.replace(new RegExp("([aeiouy])(\\1){2,}","gi"),"$1$1")}}],r[t.OptimizeLevel.normal]=[{match:function(e){return/[aeiouy]'ve\b/i.test(e)},transform:function(e){return e.replace(/'ve\b/i,function(e){return(0,n.match_case)("'ve",e,"'")})}}],r[t.OptimizeLevel.max]=[{match:function(e){return/fore?$/i.test(e)},transform:function(e){return e.replace(/fore?$/i,"4")}},{match:function(e){return/^fore?/i.test(e)},transform:function(e){return e.replace(/^fore?/i,"4")}},{match:function(e){return/^fou?r\w*/i.test(e)},transform:function(e){return e.replace(/^fou?r/i,"4")}}],r);exports.TRANSFORMS=a;var f=[{before:"[ &,@]",after:"[ a-z0-9-]",reversible:!0},{before:"[-]",after:"[ -a-z0-9]",reversible:!0},{before:"[ a-z-]",after:"[ 0-9]",reversible:!0},{before:".",after:"[\n\r]",reversible:!0},{before:"[?!]",after:"[ a-z-]"}];exports.SAFE_WHITESPACE_TRANSFORMS=f;var u=[{before:/[-]\?$/i,after:/^[^-]/i},{before:/[$]\d+(\.\d+)?$/i,after:/^[^-]/i},{before:/'[a-z]+$/i,after:/^[^-]/i}];exports.RESTORE_WHITESPACE_TRANSFORMS=u;
},{"~/model":"p5UI","~/view/utils/common":"leC2"}],"Dc0T":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.optimize_message=exports.optimize_selection=exports.optimize_message_words=exports.optimize_whitespace=exports.trim_excess_whitespace=void 0;var e=require("~/model/types"),t=require("~/view/utils/common"),n=require("~/view/utils/optimize-transforms");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s="[^\\S\r\n]",l=function(e,t){return!e.endsWith(".")&&(n.SAFE_WHITESPACE_TRANSFORMS.some(function(n){return new RegExp(n.before+"$","i").test(e)&&new RegExp("^"+n.after,"i").test(t)||!!n.reversible&&(new RegExp("^"+n.before,"i").test(t)&&new RegExp(n.after+"$","i").test(e))})&&!n.RESTORE_WHITESPACE_TRANSFORMS.some(function(n){return n.before.test(e)&&n.after.test(t)}))},o=function(i,s){void 0===s&&(s=e.OptimizeLevel.normal);for(var l=function(e){var r=n.PLAIN_TRANSFORMS[e];if(i.toLowerCase()in r){var s=r[i.toLowerCase()];return i===i.toLowerCase()?{value:s.toLowerCase()}:i===i.toUpperCase()?{value:s.toUpperCase()}:{value:i.replace(i,function(e){return(0,t.match_case)(s,e)})}}},o=e.OptimizeLevel.safe;o<=s;o++){var c=l(o);if("object"===r(c))return c.value}var a=i;for(o=e.OptimizeLevel.safe;o<=s;o++){n.TRANSFORMS[o].forEach(function(e){var t,n;e.match(a)&&(a="string"==typeof e.transform?e.transform:null!==(n=null===(t=e.transform)||void 0===t?void 0:t.call(e,a))&&void 0!==n?n:a)})}return a},c=function(e,t){return void 0===t&&(t=0),(0===t?e:e.slice(t)).search(/\S/)},a=function(e,t){void 0===t&&(t=e.length);var n=(t===e.length?e:e.slice(0,t)).split("").reverse().join("").search(/\S/);return-1===n?n:e.length-n},u=function(e,t){if(t>e.length||t<=0||" "===e[t-1]||"\n"===e[t-1])return-1;var n=e.slice(0,t).split("").reverse().join("").search(/\s/);return-1===n?0:t-n},g=function(e){var t=e.search(new RegExp("[^"+n.WORD_CHARACTERS+"]","i"));return-1===t?e:e.slice(0,t)},h=function(e){var t=e.search(new RegExp("["+n.WORD_CHARACTERS+"]","i"));return-1===t?e:e.slice(0,t)},p=function(e){return e.replace(/\s+(\n)/g,"$1").replace(/(\s)\s+/g,"$1")},v=function(e,t){e=e.replace(new RegExp(s,"gi")," ");var n=t.current||{},r=n.selectionStart,i=void 0===r?-1:r,l=n.selectionEnd,o=void 0===l?-1:l;if(-1===i||-1===o||i===o&&(0===i||o===e.length)){var c=p(e.trim());return-1===i||-1===o?[c,-1,-1]:0===i?[c,0,0]:[c,c.length,c.length]}var a=p(e.slice(0,i).trimStart()),u=p(e.slice(i,o)),g=p(e.slice(o).trimEnd());return 0===g.length&&0===(u=u.trimEnd()).length&&(a=a.trimEnd()),0===a.length&&0===(u=u.trimStart()).length&&(g=g.trimStart()),/\s$/i.test(a)&&/^\s/i.test(u)&&("\n"===u[0]?a=a.slice(0,-1):u=u.slice(1)),/\s$/i.test(u)&&/^\s/i.test(g)&&("\n"===g[0]?u=u.slice(0,-1):g=g.slice(1)),i===o&&(/\s$/i.test(a)?(/^\s/i.test(g)||0===g.length)&&("\n"===g[0]||0===g.length?a=a.slice(0,-1):g=g.slice(1)):/^\s/i.test(g)&&0===a.length&&(g=g.slice(1))),[""+a+u+g,a.length,a.length+u.length]};exports.trim_excess_whitespace=v;var f=function(t,n,r){var i=n.current||{},o=i.selectionStart,u=void 0===o?-1:o,g=i.selectionEnd,h=void 0===g?-1:g,v=r<=e.OptimizeTrigger.blur;if(u!==h&&r!==e.OptimizeTrigger.manual)return[t,u,h];var f=u,m=t.replace(new RegExp(s,"g")," "),d=c(m),S=f<d&&!v,E=m.slice(v?0:f,d).includes("\n")&&!v;m=m.trimStart(),f=Math.max(f-d,0);var _=a(m),R=f>_&&!v,w=m.slice(_,v?void 0:f).includes("\n")&&!v;m=m.trimEnd(),f=S?0:Math.min(f,m.length);var x=p(m.slice(0,f).trimStart()),z=p(m.slice(f).trimEnd());f=x.length,m=""+x+z;for(var O=R||/\s/.test(m[f-1]),y=R?w:"\n"===m[f-1],b=S||/\s/.test(m[f]),T=S?E:"\n"===m[f],A="",C=-1,$=0;$<m.length;$++){var M=m[$];if(f===$&&-1===C&&(C=A.length)," "===M||"\n"===M)if(!v&&$+1===f&&O)C=(A+=y?"\n":" ").length;else if(!v&&$===f&&b)A+=T?"\n":" ";else{var L=A,W=m.slice($+1);"\n"===M?(v||$>0&&$<m.length)&&"\n"!==L.slice(-1)&&(A+=M):l(L,W)||(A+=M)}else S&&0===A.length&&(A+=E?"\n":" "),A+=M,"."===M&&"\n"!==m[$+1]&&" "!==m[$+1]&&(A+=" ")}return R&&(A+=w?"\n":" "),(-1===C||R)&&(C=A.length),[A,C,C]};exports.optimize_whitespace=f;var m=function(t,r,i,s){var l=s.optimize_words,c=s.optimize_level,a=r.current||{},p=a.selectionStart,v=void 0===p?-1:p,f=a.selectionEnd,m=void 0===f?-1:f,d=i<=e.OptimizeTrigger.blur;if(!(i<=l)||v!==m&&i!==e.OptimizeTrigger.manual)return[t,v,m];for(var S=t,E=v,_=u(S,E),R=-1!==_?E-_:-1,w=S.split(/( |(?=\n))/),x="",z=0===E?0:-1,O="",y=function(e,t){O+=e,x+=t},b=0,T=w;b<T.length;b++){var A=T[b],C=O.length,$=x.length;if(C===E&&(z=$),0!==A.length)if(0===C||/\s$/.test(x)||/^\s/.test(A)||(y(" "," "),C=O.length,$=x.length,C===E&&(z=$)),/^\s+$/.test(A))y(A,A);else if(A.startsWith("\n")&&(y("\n","\n"),C=O.length,$=x.length,C===E&&(z=$),A=A.slice(1)),new RegExp("^["+n.WORD_CHARACTERS+"]+$","i").test(A))if(d||_!==C){var M=o(A,c);_===C&&(z=$+Math.min(M.length,R)),y(A,M)}else y(A,A),z=$+R;else for(var L=A,W=_===C,j=R;L.length>0;){var F=g(L);if(F.length){var H=F;(!W||j>F.length||0===j||d)&&(H=o(F,c)),W&&j<=F.length?(z=$+Math.min(H.length,j),W=!1):j-=F.length,y(F,H),C=O.length,$=x.length,L=L.slice(F.length)}if(0!==L.length){var N=h(L);N.length&&(W&&(j<N.length?z=$+Math.min(N.length,R):j-=N.length),y(N,N),C=O.length,$=x.length,L=L.slice(N.length))}}}return x.endsWith("  ")&&(x=x.slice(0,x.length-1)),-1===z&&(z=x.length),[x,z,z]};exports.optimize_message_words=m;var d=function(e,t,n,r){var s=t.current||{},o=s.selectionStart,u=void 0===o?-1:o,g=s.selectionEnd,h=void 0===g?-1:g,v=e.slice(0,u),d=e.slice(u,h),S=e.slice(h),E=m(d,{current:i(i({},t.current),{selectionStart:0,selectionEnd:d.length})},n,r)[0],_=f(E,{current:i(i({},t.current),{selectionStart:0,selectionEnd:E.length})},n)[0];d=p(d);var R=c(d),w=/^\s/i.test(d)&&R>0,x=d.slice(0,R).includes("\n"),z=a(d),O=/\s$/i.test(d)&&z>0,y=d.slice(z).includes("\n"),b=w&&(0===v.length||(x?"\n"!==v.slice(-1):!l(v,_))),T=b&&"\n"===d[0],A=O&&(0===S.length||(y?"\n"!==S[0]:!l(E,_))),C=A&&"\n"===d.slice(-1),$=v+(b?T?"\n":" ":"")+_+(A?C?"\n":" ":"");return[""+$+S,u,$.length]};exports.optimize_selection=d;var S=function(t,n,r,s){var l=s.optimize_words,o=s.trim_whitespace,c=n.current||{},a=c.selectionStart,u=void 0===a?-1:a,g=c.selectionEnd,h=void 0===g?-1:g;if(!(r<=l)||!t||u!==h&&r!==e.OptimizeTrigger.manual)return t&&o&&r<=e.OptimizeTrigger.blur?v(t,n):[t,u,h];if(u!==h)return d(t,n,r,s);var p=m(t,n,r,s),S=p[0],E=p[1],_=p[2];return f(S,{current:i(i({},n.current),{selectionStart:E,selectionEnd:_})},r)};exports.optimize_message=S;
},{"~/model/types":"JBX6","~/view/utils/common":"leC2","~/view/utils/optimize-transforms":"BlZo"}],"YORt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./common");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./dom-helpers");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./filter-on-regex");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./hooks");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./optimize");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var u=require("./optimize-transforms");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});
},{"./common":"leC2","./dom-helpers":"TTiJ","./filter-on-regex":"SR4s","./hooks":"oVMM","./optimize":"Dc0T","./optimize-transforms":"BlZo"}],"BcoN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WithContextHooks=exports.WithGlobalContexts=void 0;var e=s(require("preact")),t=require("preact/compat"),n=s(require("preact/hooks")),r=s(require("~/common")),o=require("~/model"),u=require("~/view/utils");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=o?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(r,u,s):r[u]=e[u]}return r.default=e,n&&n.set(e,r),r}var a=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c={VOLUME_CTX:{context:o.VOLUME_CTX,initialValue:o.INITIAL_STATE.volume},EDITOR_STATE:{context:o.EDITOR_STATE,initialValue:o.INITIAL_STATE.editor},EDITOR_SETTINGS:{context:o.EDITOR_SETTINGS,initialValue:o.INITIAL_STATE.settings},EDITOR_UNSAVED:{context:o.EDITOR_UNSAVED,initialValue:!0},EDIT_MSG_TARGET:{context:o.EDIT_MSG_TARGET,initialValue:void 0},ADD_SNIPPET_CALLBACK:{context:o.ADD_SNIPPET_CALLBACK,initialValue:function(){}},OPTIMIZE_MESSAGE_CALLBACK:{context:o.OPTIMIZE_MESSAGE_CALLBACK,initialValue:function(){}},MESSAGES:{context:o.MESSAGES,initialValue:o.INITIAL_STATE.messages},MESSAGE_CATEGORIES:{context:o.MESSAGE_CATEGORIES,initialValue:o.INITIAL_STATE.message_categories},UNCATEGORIZED_MESSAGES:{context:o.UNCATEGORIZED_MESSAGES,initialValue:o.INITIAL_STATE.uncategorized_msgs},SNIPPETS:{context:o.SNIPPETS,initialValue:o.INITIAL_STATE.snippets},SNIPPETS_SECTIONS:{context:o.SNIPPETS_SECTIONS,initialValue:o.INITIAL_STATE.snippets_sections},HELP_ITEM:{context:o.HELP_ITEM,initialValue:null},HELP_COMPLETED:{context:o.HELP_COMPLETED,initialValue:o.INITIAL_STATE.help}},l=function(t){function n(e){var n=t.call(this,e)||this;return n.mounted=!1,n.createSetter=function(e){return function(t){var r=n._state[e],u="function"==typeof t?t(r):t;r!==u&&(n._state[e]=u,n._ctx_values[e]=new o.ImmutableContextValue(u,n._setters[e]),n.mounted&&n.forceUpdate())}},n._state={},n._setters={},n._ctx_values={},Object.entries(c).forEach(function(e){var t=e[0],r=e[1],u=(r.context,r.initialValue);n._state[t]=u,n._setters[t]=n.createSetter(t),n._ctx_values[t]=new o.ImmutableContextValue(n._state[t],n._setters[t])}),n}return a(n,t),n.prototype.componentDidMount=function(){this.mounted=!0},n.prototype.componentWillUnmount=function(){this.mounted=!1},n.prototype.render=function(){var t=this,n=this.props.children;return e.h(e.Fragment,null,Object.entries(c).reduce(function(n,r){var o=r[0],u=r[1],i=u.context.Provider;return e.h(i,{context:u.context,value:t._ctx_values[o]},n)},n))},n}(t.PureComponent);exports.WithGlobalContexts=l;var E=function(t){var i,s=t.children,a=n.useContext(o.MESSAGES).value,c=n.useContext(o.MESSAGE_CATEGORIES).value,l=(0,u.useContextState)(o.UNCATEGORIZED_MESSAGES),E=l[0],_=l[1],T=n.useContext(o.SNIPPETS).value,f=n.useContext(o.SNIPPETS_SECTIONS).value,S=n.useContext(o.VOLUME_CTX).value,I=n.useContext(o.EDITOR_STATE).value,p=n.useContext(o.EDITOR_SETTINGS).value,A=n.useContext(o.HELP_COMPLETED).value,v=n.useContext(o.EDITOR_UNSAVED).value,d=(0,u.useStateRef)(null!==(i=null===o.INITIAL_STATE||void 0===o.INITIAL_STATE?void 0:o.INITIAL_STATE.message)&&void 0!==i?i:null),C=d[0],O=d[1],x=d[2],P=(0,u.useValueRef)(v),m=n.useRef(!1),M=n.useCallback(function(e,t,n){if(null!==e&&"string"!=typeof e)return!1;var o=!0;if(P.current&&!0!==t&&(o=(0,r.do_confirm)("Are you sure you want to discard your changes?")),o){m.current=!1;var u=new CustomEvent("load-message",{detail:{callback:function(){return O(e)},id:e,prev_id:x.current,passive:n}});return window.dispatchEvent(u),!0}return!1},[]),N=n.useMemo(function(){return new o.ImmutableContextValue(C,M)},[M,C]),L=(0,u.useValueRef)(a),D=(0,u.useValueRef)(c),g=(0,u.useValueRef)(E),y=n.useCallback(function(e,t){var n=(0,u.get_uncategorized_messages)(L.current,null!=t?t:D.current,e);JSON.stringify(n)!==JSON.stringify(g.current)&&_(n)},[_]),G=n.useMemo(function(){return new o.ImmutableContextValue(E,y)},[E,y]);(0,n.useEffect)(function(){r.set_stored_state({volume:S,message:C,editor:I,settings:p})},[S,I,C,p]),(0,n.useEffect)(function(){y(g.current),r.set_stored_messages(a)},[a]),(0,n.useEffect)(function(){y(g.current),r.set_stored_message_categories(c)},[c]),(0,n.useEffect)(function(){r.set_stored_uncategorized_messages(E)},[E]),(0,n.useEffect)(function(){r.set_stored_snippets(T)},[T]),(0,n.useEffect)(function(){r.set_stored_snippets_sections(f)},[f]),(0,n.useEffect)(function(){r.set_stored_help(A)},[A]);var V=n.useRef(!1),h=n.useCallback(function(){return V.current},[]);return(0,n.useEffect)(function(){v?m.current=!0:m.current||setTimeout(function(){m.current=!0},1e3)},[v]),(0,u.useOptimizeMessage)(p,V,m),e.h(o.UNCATEGORIZED_MESSAGES.Provider,{value:G},e.h(o.IS_OPTIMIZED.Provider,{value:h},e.h(o.LOADED_MESSAGE.Provider,{value:N},s)))};exports.WithContextHooks=E;
},{"preact":"aSor","preact/compat":"AQ6k","preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI","~/view/utils":"YORt"}],"v69W":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AudioPlayer=void 0;var e=u(require("preact")),t=require("preact/hooks"),r=require("~/model"),n=require("~/view/utils");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=u?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}var a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},l=function(o){var u=o.id,l=o.data,c=o.className,s=i(o,["id","data","className"]),f=(0,n.useContextState)(r.VOLUME_CTX),p=f[0],d=f[1],v=(0,t.useRef)(),y=(0,t.useCallback)(function(e){e.target.volume!==p&&(null==d||d(e.target.volume))},[d]),b=(0,n.useDebounce)(y)[0];return(0,t.useEffect)(function(){window.addEventListener("set-volume",function(e){v.current&&null!=e.detail&&setTimeout(function(){v.current.volume=e.detail},150)})},[]),(0,t.useEffect)(function(){var e;if(v.current&&null!=p&&p!==(null===(e=v.current)||void 0===e?void 0:e.volume)){var t=new CustomEvent("set-volume",{detail:p,bubbles:!0});window.dispatchEvent(t)}},[p]),e.h("div",{className:"tts-player"+(0,n.maybeClassName)(c)},e.h("audio",a({ref:v,id:u?u+"-audio":"audio",controls:!0,onVolumeChange:b},s),l&&e.h("source",{id:u?u+"-source":"source",type:"audio/wav",src:l})))};exports.AudioPlayer=l;
},{"preact":"aSor","preact/hooks":"MwGB","~/model":"p5UI","~/view/utils":"YORt"}],"SZ7C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Category=void 0;var e=n(require("preact")),t=require("~/view/utils");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=a?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},i=function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},l=function(r){var n=r.title,l=r.controls,c=r.open,s=r.setOpen,u=r.className,p=r.onClick,f=r.children,v=r.toggleOnClickTitle,d=void 0===v||v,y=a(r,["title","controls","open","setOpen","className","onClick","children","toggleOnClickTitle"]),h=function(e){s(!c),null==p||p(e)},O=function(e){return t.classNamesWithSuffix.apply(void 0,i([e,"category"],u.split(" ")))};return e.h("div",{className:O(""),"data-open":""+c},e.h("div",o({className:O("-header")},y),e.h("div",{className:O("-title"),"data-toggle":""+d,onClick:d?h:void 0},e.h("button",{className:O("-expand")+" icon-button",onClick:d?void 0:h,onMouseDown:d?void 0:function(e){e.stopPropagation(),e.preventDefault()}},c?e.h("i",{className:"fas fa-chevron-down"}):e.h("i",{className:"fas fa-chevron-right"})),e.h("span",null,n)),l&&e.h("div",{className:"category-header-controls"},l)),e.h("div",{className:O("-content")},f))};exports.Category=l;
},{"preact":"aSor","~/view/utils":"YORt"}],"Nou4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Checkbox=void 0;var e=o(require("preact")),r=require("preact/compat"),t=require("~/view/utils");function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}function o(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var l=a?Object.getOwnPropertyDescriptor(e,c):null;l&&(l.get||l.set)?Object.defineProperty(o,c,l):o[c]=e[c]}return o.default=e,t&&t.set(e,o),o}var a=function(){return(a=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)},c=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]])}return t},l=(0,r.forwardRef)(function(r,n){var o=r.label,l=r.className,p=r.children,i=c(r,["label","className","children"]);return e.h("label",{className:"checkbox"+(0,t.maybeClassName)(l)},e.h("input",a({ref:n,type:"checkbox",className:"checkbox-input"},i)),(o||p)&&e.h("span",{className:"checkbox-label"},o||p))});exports.Checkbox=l;
},{"preact":"aSor","preact/compat":"AQ6k","~/view/utils":"YORt"}],"ue35":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ClipboardButton=void 0;var t=o(require("preact")),e=require("~/view/utils");function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,o=new WeakMap;return(r=function(t){return t?o:e})(t)}function o(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=r(e);if(o&&o.has(t))return o.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var u=a?Object.getOwnPropertyDescriptor(t,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=t[i]}return n.default=t,o&&o.set(t,n),n}var n=function(r){var o=r.id,n=r.text,a=r.disabled,i=r.className,u=(0,e.useTempAnimation)(2e3),c=u[0],s=u[1],p=u[2],l=(0,e.useCopyToClipboard)(n,o);return t.h("button",{id:"tts-clipboard-button"+(o?"-"+o:""),className:"btn tts-clipboard-button"+(i?" "+i:""),"data-success":""+c,disabled:a,onMouseDown:function(){return p(!1)},onClick:function(){return l().then(s).catch(function(){console.error("Failed to copy text to clipboard.")})}},t.h("div",{className:"tts-clipboard-button-inner"},t.h("i",{className:"fas fa-copy"}),"Copy to Clipboard"))};exports.ClipboardButton=n;
},{"preact":"aSor","~/view/utils":"YORt"}],"csR0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExpandableChecklist=void 0;var e=a(require("preact")),r=require("preact/hooks"),t=require("~/common"),n=require("~/view/components"),c=require("~/view/utils");function u(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(u=function(e){return e?t:r})(e)}function a(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u(r);if(t&&t.has(e))return t.get(e);var n={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=c?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}var i=function(){return(i=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var c in r=arguments[t])Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c]);return e}).apply(this,arguments)},l=function t(u){var a=u.items,i=u.onChange,l=u.label,o=u.allowCheckAll,s=void 0===o||o,f=u.parent,d=(0,c.useValueRef)(f),y=(0,r.useCallback)(function(e){return i(e,d.current)},[i]),h=p(a,y,s),k=h[0],b=h[1],v=h[2],m=h[3],x=h[4];return e.h("details",{className:"expandable-checklist"},e.h("summary",{className:"expandable-checklist-label"},s&&e.h(n.Checkbox,{ref:k,checked:b,onInput:function(){return m()},onClick:function(e){e.stopPropagation()}}),e.h("span",{className:"checkbox-label"},l)),e.h("ul",{className:"expandable-checklist-items"},a.map(function(r){var c=r.Render,u=r.key,a=r.selected,i=r.data;return e.h("li",{key:u,className:"expandable-checklist-item"},Array.isArray(a)?e.h(t,{key:u,items:a,label:e.h(c,{data:i}),onChange:x,parent:r}):e.h(n.Checkbox,{checked:a,onInput:function(){return v(r)}},e.h(c,{data:i})))})))};exports.ExpandableChecklist=l;var o=function e(r){return r.every(function(r){return Array.isArray(r.selected)?e(r.selected):r.selected})},s=function e(r){return r.every(function(r){return Array.isArray(r.selected)?e(r.selected):!r.selected})},f=function e(r,t){return r.map(function(r){return i(i({},r),{selected:Array.isArray(r.selected)?e(r.selected,t):t})})},p=function(e,n,u){var a=(0,r.useRef)(),l=(0,c.useValueRef)(e),p=(0,c.useMemoRef)(function(){return!!u&&o(e)},[e,u]),d=(0,c.useMemoRef)(function(){return!!u&&s(e)},[e,u]);(0,r.useEffect)(function(){a.current&&(a.current.indeterminate=!p.current&&!d.current)},[p.current,d.current]);var y=(0,r.useCallback)(function(e){return Array.isArray(e.selected)?void 0:n((0,t.replace_item_in)(l.current,function(r){return r.key===e.key},i(i({},e),{selected:!e.selected})))},[n]),h=(0,r.useCallback)(function(){return n(f(l.current,!!d.current||!p.current))},[n]),k=(0,r.useCallback)(function(e,r){return n(r?(0,t.replace_item_in)(l.current,function(e){return e.key===r.key},i(i({},r),{selected:e})):e)},[n]);return[a,!d.current,y,h,k]};
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/view/components":"AOf9","~/view/utils":"YORt"}],"bvP4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useModal=exports.ModalHeader=exports.Modal=void 0;var e=c(require("preact")),t=require("preact/compat"),r=require("preact/hooks"),n=require("~/common"),o=require("~/model"),a=require("~/view/utils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=o?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(n,a,c):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}var l=function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},s=function(t){var n=t.className,o=t.id,u=t.dismiss,c=t.closeOnClickBackdrop,s=void 0===c||c,d=t.children,p=t.backdropData,f=i(t,["className","id","dismiss","closeOnClickBackdrop","children","backdropData"]),m=(0,r.useRef)(),v=(0,r.useRef)(!1),b=(0,r.useRef)(!1),y=(0,r.useCallback)(function(e){var t,r;!v.current||e.target instanceof Node&&(null===(t=m.current)||void 0===t?void 0:t.contains(e.target))||(e.stopPropagation(),b.current||(b.current=!0,null===(r=(0,a.getFirstFocusable)(m.current))||void 0===r||r.focus(),b.current=!1))},[]);(0,r.useLayoutEffect)(function(){var e;return v.current=!0,null===(e=(0,a.getFirstFocusable)(m.current))||void 0===e||e.focus(),window.addEventListener("focus",y,{capture:!0}),function(){window.removeEventListener("focus",y,{capture:!0}),v.current=!1}},[]);var h=(0,r.useCallback)(function(e){"Escape"===e.key&&(e.stopPropagation(),e.preventDefault(),u())},[]);return(0,r.useEffect)(function(){var e=document.getElementById("app");null==e||e.setAttribute("data-modal-open","true");var t=document.querySelectorAll(".modal-backdrop").length>1;return s&&window.addEventListener("keydown",h,{capture:t}),function(){window.removeEventListener("keydown",h,{capture:t}),1===document.querySelectorAll(".modal-backdrop").length&&(null==e||e.removeAttribute("data-modal-open"))}},[h]),e.h("div",l({className:"modal-backdrop",onClick:function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),s&&u()}},p),e.h("div",l({id:o,ref:m,className:"modal"+(0,a.maybeClassName)(n),onClick:function(e){e.stopPropagation(),e.stopImmediatePropagation()}},f),d))};exports.Modal=s;var d=function(t){var n=t.children,o=t.dismiss,a=t.showCloseButton,u=void 0===a||a;return(0,r.useMemo)(function(){return!!n&&(!Array.isArray(n)||n.some(function(e){return null!=e&&!1!==e&&""!==e}))},[n])||u?e.h("div",{className:"modal-header"},e.h("div",{className:"modal-title"},n),u&&e.h("button",{className:"icon-button modal-close",onClick:o},e.h("i",{className:"fas fa-times"}))):null};exports.ModalHeader=d;var p=function(u,c){void 0===u&&(u="#modal-container");var l=(0,a.useValueRef)(document.querySelector(u)),i=(0,a.useStateRef)(!1),s=i[0],d=i[1],p=i[2],f=(0,a.useStateRef)(!1),m=f[0],v=f[1],b=f[2],y=(0,r.useMemo)(function(){return new o.ImmutableContextValue(s,d)},[s,d]),h=(0,r.useCallback)(function(e){return e||!p.current?(v(e),!0):!!(0,n.do_confirm)(null!=c?c:"Discard changes?")&&(d(!1),v(!1),!0)},[]);return[(0,r.useCallback)(function(r){return b.current&&l.current?(0,t.createPortal)(e.h(o.MODAL_DIRTY.Provider,{value:y},r.children),l.current):null},[]),h,m]};exports.useModal=p;
},{"preact":"aSor","preact/compat":"AQ6k","preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI","~/view/utils":"YORt"}],"UBOC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Organizer=void 0;var e=i(require("preact")),n=require("preact/hooks"),t=require("~/common"),r=require("~/view/components"),a=require("~/view/utils");function o(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(o=function(e){return e?t:n})(e)}function i(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o(n);if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}var s=function(){return(s=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},l=function(e){return e.preventDefault()},c=function(n){var t=n.index,r=n.target,a=n.grabbed,o=n.onDragEnter,i=n.disabled,s="section"!==(null==a?void 0:a.type)||t>=a.section_index?t:t+1;return i?null:e.h(e.Fragment,null,0===t&&"section"===(null==a?void 0:a.type)&&e.h("div",{"data-type":"section","data-before":"true","data-active":""+(0===(null==r?void 0:r.section)&&0!==(null==a?void 0:a.section_index)),className:"organizer-reorder-area",onDragOver:l,onDragEnter:o(0)}),e.h("div",{className:"icon-button organizer-section-reorder-button"},e.h("i",{className:"fas fa-grip-lines"})),e.h("div",{"data-type":"section","data-active":""+((null==r?void 0:r.section)===s&&(null==a?void 0:a.section_index)!==s),className:"organizer-reorder-area",onDragEnter:o(s),onDragOver:l}))},d=function(n){var t=n.className,r=n.reorderEnabled,a=n.index,o=n.item,i=n.sectionIndex,c=n.grabbed,d=n.setGrabbed,u=n.target,p=n.onDragEnter,v=n.children,b="item"===(null==c?void 0:c.type),f=b&&i===c.section_index&&a>=c.item_index?a:a+1,g=b&&(i!==c.section_index||a!==c.item_index&&f!==c.item_index);return e.h("div",s({className:t,draggable:r},r?{onMouseDown:function(e){e.stopPropagation(),d({type:"item",value:o,item_index:a,section_index:i})},"data-grabbed":""+(b&&c.section_index===i&&c.item_index==a)}:{}),r&&0===a&&"item"===(null==c?void 0:c.type)&&e.h("div",{"data-type":"item","data-before":"true","data-active":""+(b&&(i!==c.section_index||0!==c.item_index)&&(null==u?void 0:u.section)===i&&0===(null==u?void 0:u.item)),className:"organizer-reorder-area",onDragEnter:p(i,0),onDragOver:l}),v,r&&e.h("div",{"data-type":"item","data-active":""+(g&&(null==u?void 0:u.section)===i&&(null==u?void 0:u.item)===f),className:"organizer-reorder-area",onDragEnter:p(i,f),onDragOver:l}))},u=function(o){var i=o.RenderHeader,u=o.RenderSectionHeaderControls,p=o.RenderSectionExtras,v=o.RenderItem,b=o.getSectionHeaderProps,f=o.getItemKey,g=o.sections,m=o.updateSections,h=o.reorderEnabled,y=o.setReorderEnabled,x=o.cancel,O=o.save,D=o.openSections,_=o.setOpen,E=o.className,N=(0,a.useValueRef)(g),C=(0,n.useCallback)(function(e,n){m((0,t.replace_item_in)(N.current,function(n){return n.name===e},n)),_(e,n.open)},[m]),k=(0,n.useCallback)(function(e){return(0,a.classNamesWithSuffix)(e,"organizer",E)},[E]),S=(0,a.useDragReorder)(N,m),z=S[0],j=S[1],w=S[2],P=S[3],R=S[4],M=S[5],q=S[6],I=S[7],W=(0,a.useDragToOpen)(D,_,z),H=W[0],F=W[1];return e.h("div",{className:k(""),onDropCapture:I,"data-reorder":""+h},e.h(i,{className:k("-header"),buttons:h?e.h(e.Fragment,null,e.h("button",{className:"btn",onClick:x},"Cancel"),e.h("button",{className:"btn btn-primary",onClick:O},"Save")):e.h("button",{className:"icon-button organizer-reorder-button",onClick:function(){return y(!0)},title:"Organize this list","data-help":"organize"},e.h("i",{class:"fas fa-sort"})),reorderEnabled:h}),e.h("div",{className:k("-list"),"data-reorder":""+h,"data-item-grabbed":""+!!z,"data-grabbed-type":null==z?void 0:z.type,"data-target-is-section":""+("item"===(null==z?void 0:z.type)&&null==(null==w?void 0:w.item))},g.map(function(n,t){var a=!!h&&(D[n.name]&&!n.open),o=b(n);return e.h("div",s({key:n.name,className:k("-section-container")},"item"===(null==z?void 0:z.type)?{onDragEnterCapture:H(n,t),onDragLeaveCapture:F(n,t),onDragOverCapture:l}:{}),e.h(r.Category,s({className:k("-section"),title:n.name,open:!("section"===(null==z?void 0:z.type)&&(null==z?void 0:z.section_index)===t||R)&&(a||n.open),setOpen:z?function(){}:a?function(){return _(n.name,!1)}:function(){return C(n.name,s(s({},n),{open:!n.open}))},toggleOnClickTitle:!h,controls:h?e.h(c,{index:t,target:w,grabbed:z,onDragEnter:M,disabled:"section"===(null==z?void 0:z.type)&&!1===(null==o?void 0:o.draggable)}):e.h(u,{section:n,index:t})},h?P(n,t):{},{draggable:h},o),n.data.map(function(r,a){var o=f(n,r,a);return e.h(d,{className:k("-section-item"),reorderEnabled:h,item:r,index:a,sectionIndex:t,grabbed:z,setGrabbed:j,target:w,onDragEnter:q},e.h(v,{key:o,data:r,reorderEnabled:h,buttons:h?e.h("button",{className:"btn icon-button"},e.h("i",{class:"fas fa-grip-lines"})):null}))}),p&&e.h(p,{section:n,id:n.name})))})))},p=function(t){var r=t.sections,o=t.updateSections,i=t.reorderEnabled,l=t.setReorderEnabled,c=(0,a.useStateIfMounted)(r),d=c[0],p=c[1],v=(0,n.useMemo)(function(){var e={};return r.forEach(function(n){e[n.name]=n.open}),e},[r]),b=(0,a.useStateRef)(v),f=b[0],g=b[1],m=b[2],h=(0,n.useCallback)(function(e,n){var t;g(s(s({},m.current),((t={})[e]=n,t)))},[]),y=(0,n.useCallback)(function(){p(r),l(!1)},[r]),x=(0,n.useCallback)(function(){o(d),l(!1)},[d,o]);return(0,n.useEffect)(function(){p(r),g(v)},[r]),e.h(u,s({},t,{sections:i?d:r,updateSections:i?p:o,setOpen:h,openSections:f,cancel:y,save:x}))};exports.Organizer=p;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/view/components":"AOf9","~/view/utils":"YORt"}],"oVou":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StatusIndicator=void 0;var e=r(require("preact"));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,a=new WeakMap;return(t=function(e){return e?a:r})(e)}function r(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=t(r);if(a&&a.has(e))return a.get(e);var n={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=c?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=e[s]}return n.default=e,a&&a.set(e,n),n}var a=function(t){var r=t.status;return e.h("div",{className:"tts-submit-status"},r.pending?e.h("i",{className:"fas fa-circle-notch"}):r.success?e.h("i",{className:"fas fa-check-circle"}):r.error?e.h("i",{className:"fas fa-exclamation-circle"}):null)};exports.StatusIndicator=a;
},{"preact":"aSor"}],"sUqO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useOrganizerSearch=exports.SearchBar=exports.SEARCH_BAR=void 0;var e=c(require("preact")),r=require("preact/hooks"),t=require("~/common"),n=require("~/model"),u=require("~/view/utils");function o(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(o=function(e){return e?t:r})(e)}function c(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o(r);if(t&&t.has(e))return t.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var a=u?Object.getOwnPropertyDescriptor(e,c):null;a&&(a.get||a.set)?Object.defineProperty(n,c,a):n[c]=e[c]}return n.default=e,t&&t.set(e,n),n}var a=function(){return(a=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var u in r=arguments[t])Object.prototype.hasOwnProperty.call(r,u)&&(e[u]=r[u]);return e}).apply(this,arguments)},i=(0,n.createNamedContext)("","SearchBarState");exports.SEARCH_BAR=i;var s=function(){var t=(0,r.useContext)(i),n=t.value,o=t.setValue,c=(0,r.useRef)(),a=(0,u.useStateIfMounted)(n),s=a[0],f=a[1],l=(0,u.useStateIfMounted)(!!n),p=l[0],d=l[1],v=(0,u.useDebounce)(o,150),m=v[0],h=v[1],b=(0,r.useCallback)(function(e){var r=e.currentTarget.value;f(r),m(r)},[m]),_=(0,r.useCallback)(function(){h(),f(""),o(""),d(!1)},[h]);return e.h("div",{className:"search-bar","data-active":""+p},e.h("button",{className:"icon-button search-bar-toggle",onClick:function(){var e;d(!0),null===(e=c.current)||void 0===e||e.focus()}},e.h("i",{class:"fas fa-search"})),e.h("input",{ref:c,className:"search-bar-input",value:s,onInput:b,onBlur:function(){s||_()}}),e.h("button",{className:"icon-button search-bar-close",onClick:_},e.h("i",{class:"fas fa-times"})))};exports.SearchBar=s;var f=function(e,n,o,c,i){var s,f=(0,u.useValueRef)(null===(s=null==o?void 0:o.open)||void 0===s||s),l=(0,r.useRef)(!0);(0,r.useMemo)(function(){l.current=!0},[c]);var p=(0,r.useMemo)(function(){if(!c||0===c.length)return null;var r=c.map(function(r){return(0,u.filter_options_with_score)(r,e,i)}),n=r[0];return r.slice(1).reduce(function(e,r){return r?r.reduce(function(e,r){return r?(0,t.replace_item_in)(e,function(e){return e.opt.id===r.opt.id},function(e){var t;return e?a(a({},e),{score:r.score+(null!==(t=null==e?void 0:e.score)&&void 0!==t?t:0)}):r},"end"):e},e):e},n).sort((0,t.comparator)("score","desc"))},[c,e]),d=(0,r.useMemo)(function(){if(!c||0===c.length)return null;var e=n.map(function(e){var r=e.data.map(function(e){return p.find(function(r){return r.opt.id===e})}).filter(function(e){return!!e}),t=r.reduce(function(e,r){var t;return e+(null!==(t=null==r?void 0:r.score)&&void 0!==t?t:0)},0);return 0===r.length?null:{score:t,opt:a(a({},e),{open:!!l.current||e.open,data:r.map(function(e){return e.opt.id})})}}).filter(function(e){return!!e}),r=(0,u.filter_options_with_score)(c[0],n,function(e,r){return r.test(e.name)}),i=e.reduce(function(e,r){return r?(0,t.replace_item_in)(e,function(e){return e.opt.name===r.opt.name},function(e){return e?a(a({},e),{score:e.score+r.score}):r},"end"):e},r);if(o){var s=p.filter(function(e){return!i.some(function(r){return r.opt.data.includes(e.opt.id)})});s.length,i=i.concat([{score:s.reduce(function(e,r){var t;return e+(null!==(t=null==r?void 0:r.score)&&void 0!==t?t:0)},0),opt:{name:o.name,open:!!l.current||f.current,data:s.map(function(e){return e.opt.id})}}])}return i.sort((0,t.comparator)("score","desc")).map(function(e){return e.opt})},[p,c,n,o]),v=(0,r.useMemo)(function(){return p?p.map(function(e){return e.opt}):null},[p]);return(0,r.useEffect)(function(){l.current=!1},[c]),[v,d]};exports.useOrganizerSearch=f;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI","~/view/utils":"YORt"}],"Qr85":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./AudioPlayer");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./Category");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./Checkbox");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./ClipboardButton");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./ExpandableChecklist");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var u=require("./Modal");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});var i=require("./Organizer");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===i[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}}))});var c=require("./StatusIndicator");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===c[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}}))});var s=require("./SearchBar");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===s[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}}))});
},{"./AudioPlayer":"v69W","./Category":"SZ7C","./Checkbox":"Nou4","./ClipboardButton":"ue35","./ExpandableChecklist":"csR0","./Modal":"bvP4","./Organizer":"UBOC","./StatusIndicator":"oVou","./SearchBar":"sUqO"}],"RjJh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BitsInput=void 0;var e=o(require("preact")),t=require("~/view/utils"),r=require("preact/hooks"),n=require("~/model"),u=require("~/common");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=u?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var s=function(i){var o,s,a=i.bits,c=i.setBits,f=null!==(s=null===(o=(0,r.useContext)(n.EDITOR_SETTINGS).value)||void 0===o?void 0:o.bits_string)&&void 0!==s?s:u.DEFAULT_BITS_STRING,l=(0,t.useStateIfMounted)(!!a),p=l[0],d=l[1],v=(0,t.useStateIfMounted)(a||f),b=v[0],h=v[1];return(0,r.useEffect)(function(){var e=function(){return h(u.DEFAULT_BITS_STRING)};return window.addEventListener("reset-message",e),function(){return window.removeEventListener("reset-message",e)}},[]),(0,r.useEffect)(function(){p&&a&&a!==b?h(a):p&&!a&&d(!1)},[a]),(0,r.useEffect)(function(){p&&b&&b!==a&&c(b)},[b]),(0,r.useEffect)(function(){p&&b&&b!==a?c(b):p||c("")},[p]),e.h("div",{className:"tts-textarea-bits","data-help":"use-bits"},e.h("label",{className:"tts-textarea-bits-checkbox checkbox"},e.h("input",{type:"checkbox",checked:p,onInput:function(e){return d(e.target.checked)}}),"Use Bits"),e.h("input",{className:"tts-textarea-bits-string",value:b,disabled:!p,onChange:p?function(e){var t=e.target.value.trim();t&&h(t)}:void 0,onBlur:p?function(e){e.target.value.trim()||h(f)}:void 0}))};exports.BitsInput=s;
},{"preact":"aSor","~/view/utils":"YORt","preact/hooks":"MwGB","~/model":"p5UI","~/common":"rTqy"}],"eOgV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Editor=void 0;var e=s(require("preact")),t=require("preact/hooks"),r=require("~/common"),n=require("~/model"),u=require("~/view/components"),i=require("~/view/utils");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=u?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}var a=function(e,t,r,n){return new(r||(r=Promise))(function(u,i){function o(e){try{a(n.next(e))}catch(t){i(t)}}function s(e){try{a(n.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?u(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}a((n=n.apply(e,t||[])).next())})},l=function(e,t){var r,n,u,i,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(u=2&i[0]?n.return:i[0]?n.throw||((u=n.return)&&u.call(n),0):n.next)&&!(u=u.call(n,i[1])).done)return u;switch(n=0,u&&(i=[2&i[0],u.value]),i[0]){case 0:case 1:u=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(u=(u=o.trys).length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){o.label=i[1];break}if(6===i[0]&&o.label<u[1]){o.label=u[1],u=i;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(i);break}u[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(s){i=[6,s],n=0}finally{r=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=function(e,t){return{id:"",text:"",name:"",options:{bits:"",max_length:e,speed:!1,speed_char:void 0,voice:null!=t?t:r.DEFAULT_VOICE}}},d=function(o){var s=o.message,d=o.updateMessages,v=(0,i.useContextState)(n.EDITOR_STATE),f=v[0],p=v[1],h=(0,i.useContextState)(n.EDITOR_UNSAVED),b=h[0],m=h[1],E=(0,t.useContext)(n.LOADED_MESSAGE).setValue,g=(0,t.useContext)(n.ADD_SNIPPET_CALLBACK).setValue,_=(0,t.useContext)(n.HELP_ITEM).value,x=(0,t.useRef)(),y=(0,i.useStateObject)(f),w=y[0],k=y[1],C=(0,i.useValueRef)(w),S=w.text,O=w.speed,R=w.max_length,D=w.bits,M=w.pause_duration,T=w.speed_char,A=w.voice,L=(0,t.useMemo)(function(){return(0,i.ensure_number)(R,255)},[R]),P=(0,i.useValueRef)(M),V=(0,i.useValueRef)(A),H=(0,t.useCallback)(function(){var e,t,r,n;return{start:null!==(t=null===(e=x.current)||void 0===e?void 0:e.selectionStart)&&void 0!==t?t:-1,end:null!==(n=null===(r=x.current)||void 0===r?void 0:r.selectionEnd)&&void 0!==n?n:-1}},[]),I=(0,t.useCallback)(function(e){n.EditorHistory.push({keep:e,state:C.current,cursor:H()})},[]),j=(0,t.useRef)(null);(0,t.useEffect)(function(){n.EditorHistory.initialize({state:f,cursor:{start:x.current.selectionStart,end:x.current.selectionEnd}},function(e,t){var r,n=t&&null!==(r=e.cursor_before)&&void 0!==r?r:e.cursor;e.state!==C.current?(e.state.pause_duration=P.current,k(e.state),j.current=n):(x.current.selectionStart=n.start,x.current.selectionEnd=n.end)})},[]),(0,t.useEffect)(function(){j.current&&(x.current.selectionStart=j.current.start,x.current.selectionEnd=j.current.end,j.current=null)},[w]),(0,t.useEffect)(function(){var e=D&&(S+" "+D).length>L?S.slice(0,L-D.length-1):S;p({max_length:L,speed:O,text:e,bits:D,pause_duration:M,speed_char:T,voice:A})},[L,O,S,D,M,T,A]);var N=(0,t.useMemo)(function(){return{id:null==s?void 0:s.id,text:D&&(S+" "+D).length>L?S.slice(0,L-D.length-1):S,name:null==s?void 0:s.name,options:{max_length:L,speed:O,bits:D,speed_char:T,voice:A}}},[L,O,S,null==s?void 0:s.name,D,T,A]),q=(0,i.usePlayMessage)(N),z=q[0],F=q[1],U=q[2],W=q[3],B=(0,u.useSpeechDuration)(),G=(0,t.useRef)(!1),J=(0,t.useRef)(!1),K=(0,t.useCallback)(function(e){return void 0===e&&(e=Q.current),a(void 0,void 0,void 0,function(){var t,r;return l(this,function(n){switch(n.label){case 0:return t=0,G.current?(G.current=!1,r=Y.current>0?Y.current:x.current.selectionStart,[4,B(e.slice(0,r))]):[3,2];case 1:t=n.sent(),n.label=2;case 2:return U(t),[2]}})})},[U]),Q=(0,i.useValueRef)(S),X=(0,t.useRef)(),Y=(0,t.useRef)(-1),Z=(0,t.useRef)(-1),$=(0,t.useCallback)(function(e,t,r,u){e!==Q.current?I(u<=n.OptimizeTrigger.submit):n.EditorHistory.keep()},[]),ee=(0,t.useCallback)(function(e,t,r,u){e!==Q.current?(Y.current=t,Z.current=r,X.current=e,J.current=u===n.OptimizeTrigger.submit,k({text:e})):u===n.OptimizeTrigger.submit&&(J.current=!1,n.EditorHistory.keep(),K())},[]),te=(0,t.useCallback)(function(e){return a(void 0,void 0,void 0,function(){return l(this,function(t){return J.current&&(J.current=!1,n.EditorHistory.keep(),K()),e===X.current&&(-1!==Y.current&&-1!==Z.current&&(x.current&&(x.current.selectionStart=Y.current,x.current.selectionEnd=Z.current),Y.current=-1,Z.current=-1),I(),X.current=""),[2]})})},[K]);(0,t.useEffect)(function(){te(S)},[S]);var re=(0,i.useOptimizeMessageTrigger)(x,$,ee),ne=(0,t.useCallback)(function(e,t){G.current=t,re(n.OptimizeTrigger.submit)},[re]),ue=(0,t.useRef)(!0),ie=(0,t.useCallback)(function(e){var t,u,i,o,s,a,l,d,v,f,p,h,b,m,E,g,_,x,y,w,S,O,R,D,M,T,A;e=null!=e?e:c(se.current,V.current),k({text:null!==(t=null==e?void 0:e.text)&&void 0!==t?t:"",speed:null===(u=e.options)||void 0===u?void 0:u.speed,max_length:null===(i=e.options)||void 0===i?void 0:i.max_length,bits:null!==(s=null===(o=e.options)||void 0===o?void 0:o.bits)&&void 0!==s?s:"",speed_char:null!==(l=null===(a=e.options)||void 0===a?void 0:a.speed_char)&&void 0!==l?l:(null===(d=e.options)||void 0===d?void 0:d.speed)?r.DEFAULT_SPEED_CHAR:void 0,voice:null!==(h=null!==(f=null===(v=e.options)||void 0===v?void 0:v.voice)&&void 0!==f?f:null===(p=C.current)||void 0===p?void 0:p.voice)&&void 0!==h?h:r.DEFAULT_VOICE}),n.EditorHistory.reset({state:{text:e.text,speed:null!==(m=null===(b=e.options)||void 0===b?void 0:b.speed)&&void 0!==m&&m,max_length:null!==(g=null===(E=e.options)||void 0===E?void 0:E.max_length)&&void 0!==g?g:se.current,bits:null!==(x=null===(_=e.options)||void 0===_?void 0:_.bits)&&void 0!==x?x:"",pause_duration:null!==(w=null===(y=C.current)||void 0===y?void 0:y.pause_duration)&&void 0!==w?w:1,speed_char:null!==(O=null===(S=e.options)||void 0===S?void 0:S.speed_char)&&void 0!==O?O:(null===(R=e.options)||void 0===R?void 0:R.speed)?r.DEFAULT_SPEED_CHAR:void 0,voice:null!==(A=null!==(M=null===(D=e.options)||void 0===D?void 0:D.voice)&&void 0!==M?M:null===(T=C.current)||void 0===T?void 0:T.voice)&&void 0!==A?A:r.DEFAULT_VOICE},cursor:H()})},[]);(0,t.useEffect)(function(){ue.current?ue.current=!1:s&&ie(s)},[s]);var oe=(0,i.useValueRef)(s);(0,t.useEffect)(function(){var e=function(e){e.detail.id!==e.detail.prev_id||e.detail.passive||ie(oe.current),!e.detail.passive||null===e.detail.id&&null!==e.detail.prev_id||(ue.current=!0),e.detail.callback()};return window.addEventListener("load-message",e,{capture:!0}),function(){window.removeEventListener("load-message",e,{capture:!0})}},[]);var se=(0,i.useValueRef)(L),ae=(0,t.useCallback)(function(){var e;if(!b||(0,r.do_confirm)("Discard unsaved changes to the current message?")){E(null,!0);var t={text:"",bits:"",speed:!1,max_length:se.current,pause_duration:P.current,speed_char:null===(e=C.current)||void 0===e?void 0:e.speed_char,voice:V.current};k(t),m(!1),n.EditorHistory.reset({state:t,cursor:H()}),window.dispatchEvent(new CustomEvent("reset-message"))}},[b]),le=(0,u.useHistoryListeners)(x),ce=le[0],de=le[1],ve=(0,i.useInsertSnippet)(S,L,x);(0,t.useEffect)(function(){g(function(){return function(e,t){var r=ve(e,t);de(r,t),k({text:r})}})},[]);var fe=(0,t.useCallback)(function(e){return k({max_length:e})},[k]),pe=(0,t.useCallback)(function(e){return k({voice:e})},[k]),he="intro-editor"===_,be=e.h("div",{className:"tts-editor","data-help-intro-highlight":he},e.h(u.EditorHeader,{maxLength:L,setMaxLength:fe,voice:A,setVoice:pe,reset:ae,message:N}),e.h(u.EditorMain,{inputRef:x,text:S,onSubmit:ne,speed:O,speedChar:T,status:F,bits:D,setState:k,listeners:ce}),e.h("div",{className:"row"},e.h(u.AudioPlayer,{data:z}),e.h(u.StatusIndicator,{status:F})),F.error&&e.h("div",{className:"error"},JSON.stringify(F.error,null,2)),e.h("div",{className:"row tts-main-bottom"},e.h(u.SaveMessage,{disabled:!b,message:N,updateMessages:d}),e.h(u.ClipboardButton,{text:W,disabled:!S}))),me=(0,u.useModal)("#modal-container .modal-backdrop[data-intro-key]"),Ee=me[0],ge=me[1];return(0,t.useEffect)(function(){ge(he)},[he]),e.h(e.Fragment,null,be,he?e.h(Ee,null,be):null)};exports.Editor=d;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI","~/view/components":"AOf9","~/view/utils":"YORt"}],"K8tP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorHeader=void 0;var e=o(require("preact")),t=require("preact/hooks"),a=require("~/common"),i=require("~/model"),r=require("~/view/utils");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(n=function(e){return e?a:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=n(t);if(a&&a.has(e))return a.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}var s=function(n){var o=n.maxLength,s=n.setMaxLength,l=n.voice,u=n.setVoice,c=n.reset,m=n.message,p=(0,t.useContext)(i.OPTIMIZE_MESSAGE_CALLBACK).value,h=(0,t.useRef)(),d=(0,r.useStateIfMounted)(o),f=d[0],v=d[1],g=(0,r.useDebounce)(s,75)[0];return(0,t.useEffect)(function(){o!==f&&v(o)},[o]),e.h(e.Fragment,null,e.h("div",{className:"tts-header"},e.h("div",{className:"tts-header-top tts-col-header"},e.h("h4",null,"Editor: ",m.name||"New Message"),e.h("div",{className:"tts-header-controls"},e.h("button",{className:"btn btn-with-icon icon-only btn-negative tts-options-reset",title:"Clear the editor and start a new message",onClick:c,"data-help":"reset-editor"},e.h("i",{className:"fas fa-undo"})))),e.h("div",{className:"tts-options"},e.h("div",{className:"tts-options-item tts-options-char-limit"},e.h("label",{for:"tts-options-char-limit",className:"tts-options-item-label"},"Character Limit: ",f),e.h("input",{id:"tts-options-char-limit",className:"tts-options-item-control",type:"range",min:255,max:500,onInput:function(e){var t=(0,r.ensure_number)(e.target.valueAsNumber,255);v(t),g(t)},value:f})),e.h("div",{className:"tts-options-item tts-options-voice",title:"Select a TTS voice"},e.h("div",{className:"tts-options-item-label"},"TTS Voice"),e.h("div",{className:"tts-options-item-control"},e.h("select",{"data-help":"editor-voice",value:l,onChange:function(e){return u(e.target.value)}},a.VOICE_NAMES.map(function(t){return e.h("option",{value:t,key:t},t)})))),e.h("div",{className:"tts-options-item tts-options-trigger",title:"Manually trigger message optimization. This will eliminate unneeded characters (such as replacing 'you' with 'u') to maximize the amount of text you can fit within the character limit."},e.h("button",{className:"btn btn-large",onFocus:function(e){h.current=e.relatedTarget},onClick:function(){return p(i.OptimizeTrigger.manual,h.current)},"data-help":"optimize-manual"},"Optimize Message")))))};exports.EditorHeader=s;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI","~/view/utils":"YORt"}],"a7WJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TTSTextArea=exports.EditorMain=void 0;var e=u(require("preact")),t=require("preact/hooks"),n=require("~/common"),r=require("~/model"),i=require("~/view/components"),a=require("~/view/utils");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},l=function(a){var o=a.text,u=a.setState,l=a.onSubmit,p=a.speed,d=a.speedChar,v=a.bits,f=a.status,h=a.inputRef,g=a.listeners,m=(0,t.useContext)(r.EDITOR_STATE).value,b=m.max_length,y=m.pause_duration,x=m.voice,C=v?v.length+1:0,O=(0,t.useCallback)(function(e){return u({text:e})},[u]),T=(0,t.useCallback)(function(e){return u({bits:e})},[u]),S=(0,t.useCallback)(function(e){return u({speed:!!e,speed_char:e||d})},[u,d]),k=(0,t.useCallback)(function(e){return u({pause_duration:e})},[u]);return e.h("p",{className:"tts-textarea-container"},e.h(c,s({inputRef:h,id:"tts-main-input",value:o,onChangeText:O,bitsString:v,maxLength:b-C,speed:p,speedChar:d},g)),e.h("div",{className:"tts-textarea-bottom"},e.h("div",{className:"tts-textarea-length"},"Length: ",e.h("span",null,o.length+C)," / ",e.h("span",null,b)),e.h("div",null,e.h("label",{className:"checkbox","data-tutorial":"speed-overview","data-help":"speed-overview"},e.h("select",{value:p?d:"",onInput:function(e){return S(e.target.value)}},e.h("option",{value:"",selected:!p},"Speed Modifier: Off"),n.SPEED_CHARS.map(function(t){return e.h("option",{key:t,value:t,selected:p&&d===t},"Speed Modifier: ",t)})))),e.h(i.BitsInput,{bits:v,setBits:T}),e.h(i.PauseAddControl,{speedModified:p,text:o,duration:y,onChangeDuration:k,voice:x})),e.h("div",{className:"row"},e.h("div",{className:"tts-textarea-submit"},e.h("button",{className:"btn btn-primary",disabled:f.pending||!o,type:"submit",onClick:function(e){e.preventDefault(),l(o,e.shiftKey)}},"Submit"))))};exports.EditorMain=l;var c=function(i){var o=i.value,u=i.onChangeText,s=i.speed,l=i.speedChar,c=void 0===l?n.DEFAULT_SPEED_CHAR:l,p=i.id,d=i.maxLength,v=i.bitsString,f=i.inputRef,h=i.onMouseUp,g=i.onKeyUp,m=i.onChange,b=(0,t.useContext)(r.EDITOR_SETTINGS).value,y=(0,t.useContext)(r.OPTIMIZE_MESSAGE_CALLBACK).value,x=(0,t.useRef)(),C=(0,a.useDebounce)(y,300),O=C[0],T=C[1],S=(0,a.useDebounce)(y,5e3),k=S[0],w=S[1];(0,t.useEffect)(function(){return b.optimize_words===r.OptimizeTrigger.stop?k(r.OptimizeTrigger.stop):b.optimize_words>=r.OptimizeTrigger.edit&&O(r.OptimizeTrigger.edit),function(){T(),w()}},[o]);var E=(0,t.useCallback)(function(){var e,t;null===(e=x.current)||void 0===e||e.setAttribute("data-cursor",""+(null===(t=null==f?void 0:f.current)||void 0===t?void 0:t.selectionStart))},[]),_="",M=parseInt(""+d);if(s&&M!==o.length){var D=Math.max(0,M-o.length-1);_=c.repeat(D).slice(0,D)}return v&&(_+=" "+v),e.h("div",{className:"tts-textarea tts-text"},e.h("textarea",{id:p,ref:f,className:"tts-textarea-input",value:o,rows:12,maxLength:d,onInput:function(e){var t;null===(t=null==m?void 0:m.bind(e.target))||void 0===t||t(e),u(e.target.value)},onBlur:function(){return O(r.OptimizeTrigger.blur)},onFocus:T,onKeyDown:function(e){var t,n,r;if("z"!==e.key&&"Z"!==e.key||!e.ctrlKey&&!e.metaKey||e.altKey){if(("c"===e.key||"C"===e.key)&&(e.ctrlKey||e.metaKey)&&!e.altKey&&!e.shiftKey&&0===(null===(t=f.current)||void 0===t?void 0:t.selectionStart)&&(null===(n=f.current)||void 0===n?void 0:n.selectionEnd)===o.length)return e.preventDefault(),e.stopPropagation(),void(null===(r=document.getElementById("tts-clipboard-button"))||void 0===r||r.click())}else e.preventDefault();E()},onKeyUp:function(e){var t;null===(t=null==g?void 0:g.bind(e.target))||void 0===t||t(e),E()},onClick:E,onSelect:E,onMouseUp:h}),e.h("div",{className:"tts-textarea-preview",ref:x},e.h("span",null,o.slice(0,d)),e.h("span",{className:"tts-textarea-preview-over-limit"},o.slice(d))," ",e.h("span",null,_)))};exports.TTSTextArea=c;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI","~/view/components":"AOf9","~/view/utils":"YORt"}],"V9Nn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PauseAddControl=exports.generate_pause=exports.generate_modified_pause=exports.generate_unmodified_pause=void 0;var e=s(require("preact")),t=require("preact/hooks"),n=require("~/common"),r=require("~/view/components"),a=require("~/view/utils"),u=require("~/model");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=a?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(r,u,s):r[u]=e[u]}return r.default=e,n&&n.set(e,r),r}var i=function(e,t){return"/ ".repeat(Math.max(1,Math.round(e/n.PAUSE_CHAR_DURATION[t].normal)))};exports.generate_unmodified_pause=i;var l=function(e,t){return n.PAUSE_CHAR_SPEED_MODIFIED.repeat(Math.max(1,Math.round(e/n.PAUSE_CHAR_DURATION[t].speed)))};exports.generate_modified_pause=l;var d=function(e,t,n){return void 0===n&&(n=!1),n?l(e,t):i(e,t)};exports.generate_pause=d;var c=function(n){var o=n.text,s=n.speedModified,i=n.duration,l=n.onChangeDuration,c=n.voice,p=(0,r.useModal)(),f=p[0],m=p[1],v=(0,a.useStateIfMounted)(s),h=v[0],b=v[1],_=(0,t.useRef)(),P=(0,t.useContext)(u.ADD_SNIPPET_CALLBACK).value,x=function(){return m(!1)},A=(0,t.useCallback)(function(){var e=d(i,c,h);return(h||o.endsWith(" ")?"":" ")+e},[i,h,o,P,c]),M=(0,t.useCallback)(function(e){e.preventDefault(),P(A(),"end")},[A]);return(0,t.useEffect)(function(){var e;if(open){var t=document.activeElement;return null===(e=_.current)||void 0===e||e.focus(),function(){var e;null===(e=_.current)||void 0===e||e.blur(),null==t||t.focus()}}},[open]),(0,t.useEffect)(function(){s!==h&&b(s)},[s]),e.h("div",{className:"tts-pause-control"},e.h("button",{className:"btn",onClick:function(e){2===(null==e?void 0:e.button)?M(e):m(!0)},onContextMenu:M,"data-help":"pause-add"},"Add Pause"),e.h(f,null,e.h(r.Modal,{className:"modal tts-pause-modal",dismiss:x},e.h(r.ModalHeader,{dismiss:x},e.h("h3",null,"Add a Pause")),e.h("div",{className:"modal-body"},e.h("div",{className:"row"},e.h("label",{className:"tts-pause-modal-duration"},e.h("span",null,"Pause Duration"),e.h("span",null,e.h("input",{type:"number",value:i,min:.1,max:10,step:.1,onInput:function(e){return l((0,a.ensure_number)(e.target.valueAsNumber,1))}}),"seconds")),e.h("label",{className:"tts-pause-modal-checkbox","data-help":"pause-speed"},e.h("input",{type:"checkbox",checked:h,onInput:function(e){return b(e.target.checked)}}),"Preserve Speed Modifiers"))),e.h("div",{className:"modal-footer"},e.h("button",{className:"btn",onClick:x},"Cancel"),e.h("button",{className:"btn btn-primary",onClick:function(){P(A(),"end"),x()}},"Add")))))};exports.PauseAddControl=c;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/view/components":"AOf9","~/view/utils":"YORt","~/model":"p5UI"}],"cO6E":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SaveMessageModal=exports.SaveMessage=void 0;var e=u(require("preact")),t=require("preact/hooks"),r=require("~/common"),a=require("~/model"),n=require("~/view/components"),s=require("~/view/utils");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=n?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(a,s,u):a[s]=e[s]}return a.default=e,r&&r.set(e,a),a}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},c=function(t){var r=t.message,a=t.updateMessages,s=t.disabled,o=(0,n.useModal)(),u=o[0],i=o[1];return e.h("button",{className:"btn",disabled:!r.text||s,onClick:function(){return i(!0)}},e.h("i",{className:"fas fa-save"}),"Save Message",e.h(u,null,e.h(l,{message:r,updateMessages:a,dismiss:function(){return i(!1)}})))};exports.SaveMessage=c;var l=function(o){var u=o.message,c=o.updateMessages,l=o.dismiss,d=(0,t.useContext)(a.MESSAGES).value,f=(0,s.useLoadedMessage)(d),p=f[0],v=f[1],g=(0,n.useCategoryField)(u),m=g[0],b=g[1],M=g[2],y=u.name,h=(0,s.useStateIfMounted)(y),O=h[0],w=h[1],S=null==O?void 0:O.trim(),j=(0,t.useRef)(!1);return(0,t.useEffect)(function(){y!==O&&(j.current=!1)},[O,y]),e.h(n.MessageModalBase,{message:u,name:O,setName:w,category:m,setCategory:b,dismiss:l,isNew:!p},e.h("button",{className:"btn",onClick:l},"Cancel"),!!p&&e.h("button",{className:"btn btn-primary",onClick:function(){j.current||(j.current=!0,c(null,i(i({},u),{id:(0,r.generate_id)(S),name:S}),m||void 0)?l():j.current=!1)},disabled:!S||S===y&&m===M},"Save As New..."),e.h("button",{className:"btn btn-primary",onClick:function(){j.current||(j.current=!0,c(v,i(i({},u),{id:p?u.id:(0,r.generate_id)(S),name:S}),m||void 0)?l():j.current=!1)},disabled:!S},"Save ",p?"Changes":"New"))};exports.SaveMessageModal=l;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI","~/view/components":"AOf9","~/view/utils":"YORt"}],"Q4W8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useSpeechDuration=exports.useCtrlZListener=exports.useHistoryListeners=void 0;var e=require("preact/hooks"),t=require("~/common"),r=require("~/model"),n=require("~/view/utils"),u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var u in t=arguments[r])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e}).apply(this,arguments)},o=function(e,t,r,n){return new(r||(r=Promise))(function(u,o){function c(e){try{s(n.next(e))}catch(t){o(t)}}function i(e){try{s(n.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?u(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(c,i)}s((n=n.apply(e,t||[])).next())})},c=function(e,t){var r,n,u,o,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,n&&(u=2&o[0]?n.return:o[0]?n.throw||((u=n.return)&&u.call(n),0):n.next)&&!(u=u.call(n,o[1])).done)return u;switch(n=0,u&&(o=[2&o[0],u.value]),o[0]){case 0:case 1:u=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,n=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(u=(u=c.trys).length>0&&u[u.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!u||o[1]>u[0]&&o[1]<u[3])){c.label=o[1];break}if(6===o[0]&&c.label<u[1]){c.label=u[1],u=o;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(o);break}u[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],n=0}finally{r=u=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},i=/[ \-*&!@.,;':+=]/,s=function(t){var o,c,s=(0,e.useContext)(r.EDITOR_STATE).value,a=(0,n.useValueRef)(s),l=s.max_length,f=s.speed,d=s.bits,p=s.speed_char,v=s.voice,h=(0,e.useRef)(null!==(c=null===(o=t.current)||void 0===o?void 0:o.selectionStart)&&void 0!==c?c:-1),y=(0,e.useRef)(),b=(0,e.useRef)(),E=(0,e.useCallback)(function(e){return{start:null==e?void 0:e.selectionStart,end:null==e?void 0:e.selectionEnd}},[]),x=(0,e.useRef)(E(t.current)),g=(0,e.useRef)(!0);(0,e.useEffect)(function(){var e;if(g.current)g.current=!1;else{var n=null===(e=r.EditorHistory.getCurrentState())||void 0===e?void 0:e.state;if(n){var u=Object.entries({max_length:l!==n.max_length,speed:f!==n.speed,bits:d!==n.bits,speed_char:p!==n.speed_char,voice:v!==n.voice}).filter(function(e){return!!e[1]}).map(function(e){return e[0]});0!==u.length&&(r.EditorHistory.push({state:a.current,cursor:E(t.current)},1===u.length&&u[0]===b.current),b.current=u.length>1?void 0:u[0],y.current=void 0)}}},[l,f,d,p,v]);var w=(0,e.useCallback)(function(e){var t,n,o=!1,c=e.target.selectionStart,s=a.current.text,l=e.target.value;if(s!==l){var f=s.slice(0,h.current),d=l.slice(0,c),p=s.slice(h.current),v=l.slice(c),E={state:u(u({},a.current),{text:l}),cursor:{start:c,end:e.target.selectionEnd}};f===d?(n=v[0],t="delete",o=c!==h.current):p!==v?(t="replace",o=!0):(t=f.length>d.length?"backspace":"type",n=d.slice(-1),o=c-h.current!=("backspace"===t?-1:1));var g=t!==y.current,w=!(o||g||i.test(n)),m=r.EditorHistory.getCurrentState(),k=m.cursor_before,S=m.cursor,C=w?k:x.current;x.current&&null!=x.current.start&&null!=x.current.end||(C=S),r.EditorHistory.push(u(u({},E),{cursor_before:C}),w),h.current=c,y.current=t,b.current="text"}else h.current=c},[]),m=(0,e.useCallback)(function(e){x.current=E(e.target)},[]),k=(0,e.useRef)(!1),S=(0,e.useRef)(!1),C=(0,e.useCallback)(function(e,n){e!==a.current.text||"end"===n?("start"===n?k.current=!0:"end"===n&&(e===a.current.text?r.EditorHistory.push({keep:!0,state:u({},a.current),cursor:{start:t.current.selectionStart,end:t.current.selectionEnd}}):(k.current=!1,S.current=!0)),b.current="text",y.current="snippet"):h.current=t.current.selectionStart},[]);return(0,e.useEffect)(function(){"snippet"===y.current&&!k.current&&S.current&&(S.current=!1,r.EditorHistory.push({state:u({},a.current),cursor:{start:t.current.selectionStart,end:t.current.selectionEnd},keep:!0}))},[s.text]),[(0,e.useMemo)(function(){return{onChange:w,onKeyDown:m,onKeyUp:m,onClick:m,onSelect:m,onMouseUp:m}},[w,m]),C]};exports.useHistoryListeners=s;var a=function(e){"z"!==e.key&&"Z"!==e.key||!e.ctrlKey&&!e.metaKey||e.altKey||(e.preventDefault(),e.shiftKey?r.EditorHistory.redo():r.EditorHistory.undo())},l=function(t){var r=(0,n.useStateRef)(!0),u=r[0],o=r[1],c=r[2];(0,e.useEffect)(function(){if(t.current){var e=new MutationObserver(function(e){var t,r=0===(null===(t=e[0].target)||void 0===t?void 0:t.childElementCount);r!==c.current&&o(r)});return e.observe(t.current,{childList:!0}),function(){e.disconnect()}}},[t.current]),(0,e.useEffect)(function(){return u&&window.addEventListener("keydown",a),function(){c.current||window.removeEventListener("keydown",a)}},[u])};exports.useCtrlZListener=l;var f={text:"",promise:new Promise(function(){}),data:""},d=.6,p=function(){var n=(0,e.useContext)(r.EDITOR_STATE).value.voice,u=(0,e.useMemo)(function(){return document.createElement("audio")},[]);return(0,e.useCallback)(function(e){return o(void 0,void 0,void 0,function(){var r;return c(this,function(o){switch(o.label){case 0:return[4,(0,t.get_tts_data)(e.trim(),f,n)];case 1:return r=o.sent(),[2,new Promise(function(e){u.src=r,u.addEventListener("canplaythrough",function(){e(u.duration-d)},{once:!0}),u.load()})]}})})},[n])};exports.useSpeechDuration=p;
},{"preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI","~/view/utils":"YORt"}],"Yncg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./BitsInput");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./Editor");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./Header");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./Main");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./PauseAddControl");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var u=require("./SaveControl");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});var s=require("./utils");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===s[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}}))});
},{"./BitsInput":"RjJh","./Editor":"eOgV","./Header":"K8tP","./Main":"a7WJ","./PauseAddControl":"V9Nn","./SaveControl":"cO6E","./utils":"Q4W8"}],"mUbX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExportSnippetsTree=exports.ExportMessageTree=exports.ExportForm=void 0;var e=i(require("preact")),t=require("preact/hooks"),n=require("~/model"),r=require("~/view/components"),a=require("~/view/utils");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},s=function(o){var i=o.dismiss,s=(0,t.useContext)(n.EDITOR_SETTINGS).value,c=(0,t.useContext)(n.MESSAGES).value,f=(0,t.useContext)(n.MESSAGE_CATEGORIES).value,p=(0,t.useContext)(n.UNCATEGORIZED_MESSAGES).value,h=(0,t.useContext)(n.SNIPPETS).value,m=(0,t.useContext)(n.SNIPPETS_SECTIONS).value,g=(0,t.useRef)(),v=(0,a.useStateIfMounted)(c),x=v[0],S=v[1],b=(0,a.useStateIfMounted)(h),y=b[0],E=b[1],k=(0,a.useStateIfMounted)(!1),M=k[0],_=k[1],C=(0,a.useStateIfMounted)(void 0),I=C[0],O=C[1],N=(0,a.useStateIfMounted)(""),R=N[0],w=N[1],T=(0,t.useCallback)(function(){if(x||y||M){var e={__type:"export-data"};if(x.length>0&&(e.messages=(0,r.export_messages)(x),e.messageCategories=(0,r.export_message_categories)(f.concat(p).map(function(e){return u(u({},e),{data:e.data.filter(function(e){return x.some(function(t){return t.id===e})})})}).filter(function(e){return e.data.length>0})),0===y.length&&!M))return w("tts-data-messages"),void O((0,r.generate_file)(e));if(y.length>0&&(e.snippets=(0,r.export_snippets)(y),e.snippetsSections=(0,r.export_snippets_sections)(m.map(function(e){return u(u({},e),{data:e.data.filter(function(e){return y.some(function(t){return t.id===e})})})}).filter(function(e){return e.data.length>0})),0===x.length&&!M))return w("tts-data-snippets"),void O((0,r.generate_file)(e));if(M&&(e.settings=u(u({},s),{__type:"settings"}),0===x.length&&0===y.length))return w("tts-data-settings"),void O((0,r.generate_file)(e.settings));w("tts-data"),O((0,r.generate_file)(e))}},[c,p,h,s,x,y,M]);(0,t.useEffect)(function(){var e;I&&R&&(null===(e=g.current)||void 0===e||e.click())},[I]);var j=(0,a.useStateIfMounted)(!1),P=j[0],G=j[1],q=!(x||y||M);return P?e.h(r.ResetStorage,{onCancel:function(){return G(!1)}}):e.h(e.Fragment,null,e.h("div",{className:"modal-body modal-scroll-content tts-export-export"},e.h("div",{className:"tts-export-export-form","data-help":"export-details"},e.h("h4",null,"What data would you like to export?"),e.h("ul",null,e.h("li",null,e.h(l,{categories:f,messages:c,selection:x,setSelection:S,uncategorizedMessages:p})),e.h("li",null,e.h(d,{sections:m,snippets:h,selection:y,setSelection:E})),e.h("li",null,e.h("label",{className:"checkbox"},e.h("input",{type:"checkbox",checked:M,onInput:function(){return _(!M)}}),e.h("span",{className:"checkbox-label"},"Settings")))),e.h("div",{className:"row"},e.h("button",{className:"btn btn-primary btn-large",onClick:q?void 0:T,disabled:q},"Export")),I&&R?e.h("div",{className:"row"},e.h("a",{href:"data:application/json;charset=utf-8,"+encodeURIComponent(I),download:R+".json",ref:g},"Click here if the download doesn't start automatically.")):null)),e.h("div",{className:"modal-footer tts-export-footer"},e.h("button",{className:"btn btn-negative",onClick:function(){return G(!0)},"data-help":"import-export-reset"},"Reset Storage"),e.h("button",{className:"btn btn-primary",onClick:i},"Done")))};exports.ExportForm=s;var c=function(t){var n=t.data;return e.h(e.Fragment,null,n.name)},l=function(n){var o=n.categories,i=n.messages,s=n.selection,l=n.setSelection,d=n.uncategorizedMessages,f=(0,t.useMemo)(function(){var e=o.map(function(e){return{data:e,key:e.name,selected:e.data.map(function(e){return{data:i.find(function(t){return t.id===e}),key:e,selected:!!s.find(function(t){return t.id===e}),Render:c}}),Render:c}}),t=i.filter(function(e){return!o.find(function(t){return t.data.includes(e.id)})});if(t.length>0){var n=d.data.filter(function(e){return t.find(function(t){return t.id===e})}).map(function(e){return i.find(function(t){return t.id===e})}).concat(t.filter(function(e){return!d.data.includes(e.id)}));return e.concat({data:u(u({},d),{data:n}),key:d.name,selected:n.map(function(e){return{data:e,key:e.id,selected:!!s.find(function(t){return t.id==e.id}),Render:c}}),Render:c})}return e},[]),p=(0,a.useStateIfMounted)(f),h=p[0],m=p[1],g=(0,t.useRef)(!0);return(0,t.useEffect)(function(){g.current?g.current=!1:l(h.reduce(function(e,t){return e.concat(t.selected.filter(function(e){return e.selected}).map(function(e){return e.data}))},[]))},[h]),e.h(r.ExpandableChecklist,{items:h,label:"Messages",onChange:m})};exports.ExportMessageTree=l;var d=function(n){var o=n.snippets,i=n.sections,u=n.selection,s=n.setSelection,l=(0,t.useMemo)(function(){return i.map(function(e){return{data:e,key:e.name,selected:e.data.map(function(e){return{data:o.find(function(t){return t.id===e}),key:e,selected:!!u.find(function(t){return t.id===e}),Render:r.Snippet}}),Render:c}})},[]),d=(0,a.useStateIfMounted)(l),f=d[0],p=d[1],h=(0,t.useRef)(!0);return(0,t.useEffect)(function(){h.current?h.current=!1:s(f.reduce(function(e,t){return e.concat(t.selected.filter(function(e){return e.selected}).map(function(e){return e.data}))},[]))},[f]),e.h(r.ExpandableChecklist,{items:f,label:"Snippets",onChange:p})};exports.ExportSnippetsTree=d;
},{"preact":"aSor","preact/hooks":"MwGB","~/model":"p5UI","~/view/components":"AOf9","~/view/utils":"YORt"}],"KEae":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExportMessage=void 0;var e=o(require("preact")),t=require("preact/hooks"),r=require("~/view/components");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=a?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(o,s,i):o[s]=e[s]}return o.default=e,r&&r.set(e,o),o}var a=function(n){var o=n.message,a=(0,t.useMemo)(function(){var e;return"tts-message-"+(null===(e=o.name)||void 0===e?void 0:e.split(" ").map(function(e){return e.length>0?""+e[0].toUpperCase()+e.slice(1).toLowerCase():""}).join("").replace(/\W/gi,""))+".json"},[o]),s=(0,t.useMemo)(function(){return(0,r.generate_file)((0,r.export_messages)([o])[0])},[o]);return e.h("a",{className:"btn btn-large btn-with-icon",href:"data:application/json;charset=utf-8,"+encodeURIComponent(s),download:a,"data-help":"export-message"},e.h("i",{class:"fas fa-share-square"}),"Export")};exports.ExportMessage=a;
},{"preact":"aSor","preact/hooks":"MwGB","~/view/components":"AOf9"}],"jf6Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExportMessageCategory=void 0;var e=a(require("preact")),t=require("preact/hooks"),r=require("~/model"),n=require("~/view/components");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=a?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(o){var a=o.category,i=(0,t.useContext)(r.MESSAGES).value,u=(0,t.useMemo)(function(){var e;return"tts-message-category-"+(null===(e=a.name)||void 0===e?void 0:e.split(" ").map(function(e){return e.length>0?""+e[0].toUpperCase()+e.slice(1).toLowerCase():""}).join("").replace(/\W/gi,""))+".json"},[a]),c=(0,t.useMemo)(function(){var e=s(s({},(0,n.export_message_category)(a)),{data:(0,n.export_messages)(i.filter(function(e){return a.data.includes(e.id)}))});return(0,n.generate_file)(e)},[a,i]);return e.h("a",{className:"btn btn-with-icon",href:"data:application/json;charset=utf-8,"+encodeURIComponent(c),download:u,"data-help":"export-message-category"},e.h("i",{class:"fas fa-share-square"}),"Export")};exports.ExportMessageCategory=i;
},{"preact":"aSor","preact/hooks":"MwGB","~/model":"p5UI","~/view/components":"AOf9"}],"h8OU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExportSnippet=void 0;var e=o(require("preact")),t=require("preact/hooks"),r=require("~/view/components");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=p?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(o,i,a):o[i]=e[i]}return o.default=e,r&&r.set(e,o),o}var p=function(n){var o=n.snippet,p=(0,t.useMemo)(function(){return"tts-snippet-"+(""+o.options.prefix+o.text+o.options.suffix).replace(/\W/gi,"")+".json"},[o]),i=(0,t.useMemo)(function(){return(0,r.generate_file)((0,r.export_snippet)(o))},[o]);return e.h("a",{className:"btn btn-with-icon",href:"data:application/json;charset=utf-8,"+encodeURIComponent(i),download:p,"data-help":"export-snippet"},e.h("i",{class:"fas fa-share-square"}),"Export")};exports.ExportSnippet=p;
},{"preact":"aSor","preact/hooks":"MwGB","~/view/components":"AOf9"}],"lsqS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImportForm=void 0;var e=o(require("preact")),t=require("preact/hooks"),n=require("~/model"),r=require("~/view/components"),a=require("~/view/utils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},s=function(u){var o=u.dismiss,s=u.data,p=u.setData,c=(0,a.useContextState)(n.MODAL_DIRTY)[1],d=(0,a.useContextState)(n.EDITOR_SETTINGS),f=d[0],h=d[1],m=(0,a.useContextState)(n.MESSAGE_CATEGORIES),v=m[0],g=m[1],S=(0,a.useContextState)(n.UNCATEGORIZED_MESSAGES),I=S[0],b=S[1],M=(0,a.useContextState)(n.MESSAGES),C=M[0],E=M[1],N=(0,a.useContextState)(n.SNIPPETS),O=N[0],y=N[1],x=(0,a.useContextState)(n.SNIPPETS_SECTIONS),_=x[0],k=x[1],D=(0,a.useStateRef)(0),P=D[0],j=D[1],w=D[2],R=(0,t.useMemo)(function(){return s?(0,r.import_data)(s,f,C,O,v,I,_):null},[s]),T=(0,a.useStateIfMounted)(void 0),A=T[0],F=T[1],G=(0,a.useStateIfMounted)(void 0),q=G[0],z=G[1],U=(0,a.useStateIfMounted)(void 0),W=U[0],B=U[1],L=(0,a.useStateIfMounted)(void 0),Y=L[0],Z=L[1],H=(0,a.useStateIfMounted)(void 0),J=H[0],K=H[1],Q=(0,t.useCallback)(function(){return j(w.current+1)},[]),V=(0,t.useCallback)(function(){0===w.current?(p(void 0),F(void 0),z(void 0),B(void 0),Z(void 0)):j(w.current-1)},[]),X=null!=R?R:[],$=X[0],ee=X[1],te=X[2],ne=X[3],re=X[4],ae=X[5],ue=X[6],oe=void 0===ue?[]:ue,ie=X[7],se=void 0===ie?[]:ie,le=X[8],pe=void 0===le?[]:le,ce=X[9],de=void 0===ce?[]:ce,fe=(0,a.useStateIfMounted)(!1),he=fe[0],me=fe[1];(0,t.useEffect)(function(){c(!!R&&!he)},[he,R]);var ve=(0,t.useCallback)(function(){var e,t;$&&h($),q&&E(q),Y&&y(Y),ne&&(e=ne.map(function(e){return i(i({},e),{data:e.data.filter(function(e){return(null!=q?q:C).some(function(t){return t.id===e})})})}).filter(function(e){return v.some(function(t){return t.name===e.name})||e.data.length>0}),g(e)),ae&&b((0,a.get_uncategorized_messages)(null!=q?q:C,null!=e?e:v,ae)),J&&(t=J.map(function(e){return i(i({},e),{data:e.data.filter(function(e){return(null!=Y?Y:O).some(function(t){return t.id===e})})})}).filter(function(e){return _.some(function(t){return t.name===e.name})||e.data.length>0}),k(t)),me(!0)},[$,q,Y,J,_,ne,v,C]);(0,t.useEffect)(function(){R&&(0===oe.length&&0===se.length&&0===pe.length&&0===de.length&&($&&h($),ee&&E(ee),te&&y(te),ne&&g(ne),re&&k(re),ae&&b((0,a.get_uncategorized_messages)(null!=ee?ee:C,null!=ne?ne:v,ae),null!=ne?ne:v),me(!0)),ee?(F(ee),z(ee)):0!==oe.length&&0!==se.length?(F(C),z(C)):0===oe.length&&se.length>0&&F(C),re&&K(re),te?(B(te),Z(te)):0!==pe.length||0!==de.length?(B(O),Z(O)):0===pe.length&&de.length>0&&B(O))},[R]);var ge=(0,t.useMemo)(function(){var t=[];return 0!==oe.length&&t.push(e.h(r.ImportDuplicateMessages,{current:P===t.length,duplicates:oe,messages:null!=ee?ee:C,updateMessages:F,nextStep:Q,prevStep:V})),0!==se.length&&t.push(e.h(r.ImportRenameMessages,{current:P===t.length,messages:A,updateMessages:z,duplicates:se,nextStep:Q,prevStep:V})),0!==pe.length&&t.push(e.h(r.ImportDuplicateSnippets,{sections:null!=re?re:_,current:P===t.length,snippets:null!=te?te:O,updateSnippets:B,duplicates:pe,nextStep:Q,prevStep:V})),0!==de.length&&t.push(e.h(r.ImportUncategorizedSnippets,{current:P===t.length,sections:re,updateSections:K,snippets:W,updateSnippets:Z,uncategorized:de,nextStep:Q,prevStep:V})),t},[P,oe,se,pe,de,ee,A,te,W]);return(0,t.useEffect)(function(){P>0&&P===ge.length&&ve()},[P]),R?he?e.h(e.Fragment,null,e.h("div",{className:"modal-body tts-import-file"},e.h("div",{className:"tts-import-success"},e.h("h4",null,"Import Successful!"),e.h("i",{className:"far fa-check-circle"}))),e.h("div",{className:"modal-footer"},e.h("button",{className:"btn btn-large",onClick:function(){p(void 0),F(void 0),z(void 0),B(void 0),Z(void 0),j(0),me(!1)}},"Import More"),e.h("button",{className:"btn btn-primary btn-large",onClick:o},"Finish"))):e.h(e.Fragment,null,ge):e.h("div",{className:"modal-body tts-import-file","data-help":"import-details"},e.h(l,{onChange:p}))};exports.ImportForm=s;var l=function(n){var r=n.onChange,u=(0,t.useRef)(),o=(0,t.useRef)(),s=(0,a.useStateIfMounted)(void 0),l=s[0],p=s[1],c=(0,a.useUploadFiles)(r,p,o),d=(0,a.useDragAndDrop)(c),f=d[0],h=d[1];return e.h("form",{ref:o},e.h("div",i({"data-dragged":""+f,className:"tts-import-input",onClick:function(){var e;return null===(e=u.current)||void 0===e?void 0:e.click()}},h),e.h("div",{className:"tts-import-input-main"},e.h("i",{className:"fas fa-file-upload"}),e.h("div",{className:"tts-import-input-text"},e.h("span",null,"Drag & Drop"),e.h("span",null,"OR"),e.h("span",null,"Click to Browse"))),l&&e.h("div",{className:"tts-import-input-error"},l)),e.h("input",{ref:u,id:"tts-import-input",className:"invisible",type:"file",tabIndex:-1,multiple:!0,onChange:function(e){c(e.target.files)},accept:"application/json"}))};
},{"preact":"aSor","preact/hooks":"MwGB","~/model":"p5UI","~/view/components":"AOf9","~/view/utils":"YORt"}],"hnd6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImportMessageCompareItem=exports.ImportDuplicateMessages=void 0;var e=o(require("preact")),t=require("preact/hooks"),a=require("~/common"),r=require("~/view/components"),n=require("~/view/utils");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}var i=function(){return(i=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},l=function(s){var o=s.current,l=s.messages,c=s.updateMessages,u=s.duplicates,p=s.nextStep,d=s.prevStep,f=(0,t.useRef)(),h=(0,n.useStateRef)(void 0),g=h[0],v=h[1],b=h[2],w=(0,t.useMemo)(function(){return u.map(function(e){var t,a,n=null==l?void 0:l.find(function(t){return(0,r.is_duplicate_message)(t,e)});if(!n)return null;var s=null===(t=f.current)||void 0===t?void 0:t.find(function(t){return t.new_message.name===e.name&&t.old_message.name===n.name});return{old_message:n,new_message:e,selected:null!==(a=b.current)&&void 0!==a?a:null==s?void 0:s.selected}}).filter(function(e){return!!e})},[l,u]),N=(0,n.useStateWithRef)(w,f),y=N[0],_=N[1];(0,t.useEffect)(function(){g&&_(y.map(function(e){return i(i({},e),{selected:g})}))},[g]);var k=(0,t.useCallback)(function(e,t){v(void 0),_((0,a.replace_item_in)(f.current,function(t){return t.new_message.name===e.new_message.name&&t.old_message.name===e.old_message.name},i(i({},e),{selected:t})))},[]),M=(0,t.useMemo)(function(){return y.every(function(e){return!!e.selected})},[y]),O=(0,t.useCallback)(function(e){if(e.preventDefault(),M){for(var t=l,r=function(e){"new"===e.selected&&(t=(0,a.replace_item_in)(t,function(t){return t.name===e.old_message.name},e.new_message))},n=0,s=y;n<s.length;n++){r(s[n])}c(t),p()}},[M,y]);return o?e.h(e.Fragment,null,e.h("div",{className:"modal-body tts-import-conflicts"},e.h("p",null,"Some of the messages you imported were identical to existing messages, but with different names. Choose the name you want to keep."),e.h("form",{id:"duplicate-message-form",onSubmit:O,className:"tts-import-compare modal-scroll-content"},e.h("div",{className:"tts-import-compare-row"},e.h("div",{className:"tts-import-compare-row-top"},e.h("div",{className:"tts-import-compare-side"},e.h("label",{className:"tts-import-compare-header","data-static":1===w.length},e.h("div",{className:"tts-import-compare-header-label"},"Keep Original Name"),w.length>1&&e.h("span",{className:"tts-import-compare-header-input"},e.h("input",{type:"radio",value:"old",name:"select_all",checked:"old"===g,onChange:function(){return v("old")}}),"Select All"))),e.h("div",{className:"tts-import-compare-side","data-static":1===w.length},e.h("label",{className:"tts-import-compare-header"},e.h("div",{className:"tts-import-compare-header-label"},"Use Imported Name"),w.length>1&&e.h("span",{className:"tts-import-compare-header-input"},e.h("input",{type:"radio",value:"new",name:"select_all",checked:"new"===g,onChange:function(){return v("new")}}),"Select All"))))),y.map(function(t,a){return e.h(m,{key:a,row:t,onSelect:k})}))),e.h("div",{className:"tts-import-review-footer modal-footer"},e.h("button",{className:"btn btn-large",type:"button",onClick:d},"Back"),e.h("button",{className:"btn btn-primary btn-large",form:"duplicate-message-form",disabled:!M},"Continue"))):null};exports.ImportDuplicateMessages=l;var m=function(t){var a=t.row,r=t.onSelect,s=a.old_message,o=a.new_message,i=a.selected,l=(0,n.useMessageFullText)(s);return e.h("div",{className:"tts-import-compare-row"},e.h("div",{className:"tts-import-compare-row-top"},e.h("div",{className:"tts-import-compare-side","data-selected":""+("old"===i)},e.h("label",{className:"btn btn-with-icon btn-large"},e.h("input",{type:"radio",value:s.name,checked:"old"===i,onChange:function(){return r(a,"old")},className:"tts-import-compare-message-old"}),e.h("div",{className:"tts-import-compare-message-name"},s.name))),e.h("div",{className:"tts-import-compare-side","data-selected":""+("new"===i)},e.h("label",{className:"btn btn-with-icon btn-large"},e.h("input",{type:"radio",value:o.name,checked:"new"===i,onChange:function(){return r(a,"new")},className:"tts-import-compare-message-new"}),e.h("div",{className:"tts-import-compare-message-name"},o.name)))),e.h("div",{className:"tts-import-compare-row-bottom"},e.h("div",{className:"tts-import-compare-message-text tts-text"},l)))};exports.ImportMessageCompareItem=m;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/view/components":"AOf9","~/view/utils":"YORt"}],"oW7G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImportSnippetCompareItem=exports.ImportDuplicateSnippets=void 0;var e=i(require("preact")),t=require("preact/hooks"),n=require("~/common"),r=require("~/view/components"),a=require("~/view/utils");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var p=a?Object.getOwnPropertyDescriptor(e,i):null;p&&(p.get||p.set)?Object.defineProperty(r,i,p):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},s=function(o){var i=o.current,s=o.snippets,c=o.sections,u=o.updateSnippets,d=o.duplicates,m=o.nextStep,h=o.prevStep,f=(0,t.useRef)(),v=(0,a.useStateRef)(void 0),b=v[0],w=v[1],_=v[2],y=(0,t.useMemo)(function(){return d.map(function(e){var t,a,o=s.find(function(t){return(0,r.is_duplicate_snippet)(t,e)});if(!o)return null;var i=null===(t=f.current)||void 0===t?void 0:t.find(function(t){return(0,n.deep_equals)(t.new_snippet,e)});return{old_section:c.find(function(e){return e.data.includes(o.id)}),new_section:c.find(function(t){return t.data.includes(e.id)}),old_snippet:o,new_snippet:e,selected:null!==(a=_.current)&&void 0!==a?a:null==i?void 0:i.selected}}).filter(function(e){return!!e})},[s,d,c]),N=(0,a.useStateWithRef)(y,f),g=N[0],S=N[1];(0,t.useEffect)(function(){b&&S(g.map(function(e){return p(p({},e),{selected:b})}))},[b]);var k=(0,t.useCallback)(function(e,t){w(void 0),S((0,n.replace_item_in)(f.current,function(t){return(0,n.deep_equals)(t.new_snippet,e.new_snippet)},p(p({},e),{selected:t})))},[]),O=(0,t.useMemo)(function(){return g.every(function(e){return!!e.selected})},[g]),C=(0,t.useCallback)(function(e){if(e.preventDefault(),O){for(var t=s,r=function(e){"new"===e.selected&&(e.new_section||(e.new_snippet.id=e.old_snippet.id),t=(0,n.replace_item_in)(t,function(t){return t.id===e.old_snippet.id},e.new_snippet))},a=0,o=g;a<o.length;a++){r(o[a])}u(t),m()}},[O,g,s]);return i?e.h(e.Fragment,null,e.h("div",{className:"modal-body tts-import-conflicts tts-import-snippets-duplicates"},e.h("p",null,"Some of the snippets you imported had the same content, but with different options. Choose the version you want to keep."),e.h("form",{id:"duplicate-snippet-form",onSubmit:C,className:"tts-import-compare tts-import-compare-snippets modal-scroll-content"},e.h("table",{cellSpacing:0},e.h("thead",null,e.h("tr",{className:"tts-import-compare-row"},e.h("th",{className:"tts-import-compare-side"},e.h("label",{className:"tts-import-compare-header","data-static":1===y.length},e.h("div",{className:"tts-import-compare-header-label"},"Keep Original Snippet"),y.length>1&&e.h("span",{className:"tts-import-compare-header-input"},e.h("input",{type:"radio",value:"old",name:"select_all",checked:"old"===b,onChange:function(){return w("old")}}),"Select All"))),e.h("th",{className:"tts-import-compare-side","data-static":1===y.length},e.h("label",{className:"tts-import-compare-header"},e.h("div",{className:"tts-import-compare-header-label"},"Use Imported Snippet"),y.length>1&&e.h("span",{className:"tts-import-compare-header-input"},e.h("input",{type:"radio",value:"new",name:"select_all",checked:"new"===b,onChange:function(){return w("new")}}),"Select All"))))),e.h("tbody",null,g.map(function(t,n){return e.h(l,{key:n,row:t,onSelect:k})}))))),e.h("div",{className:"tts-import-review-footer modal-footer"},e.h("button",{className:"btn btn-large",type:"button",onClick:h},"Back"),e.h("button",{disabled:!O,className:"btn btn-primary btn-large",form:"duplicate-snippet-form"},"Continue"))):null};exports.ImportDuplicateSnippets=s;var l=function(t){var n=t.row,a=t.onSelect,o=n.old_snippet,i=n.new_snippet,p=n.selected;return e.h("tr",{className:"tts-import-compare-row"},e.h("td",{className:"tts-import-compare-side","data-selected":""+("old"===p)},e.h("label",{className:"btn btn-with-icon btn-large"},e.h("input",{type:"radio",checked:"old"===p,onChange:function(){return a(n,"old")},className:"tts-import-compare-snippet-old"}),e.h("div",{className:"tts-import-compare-snippet"},e.h(r.Snippet,{data:o,showRepeats:!0})))),e.h("td",{className:"tts-import-compare-side","data-selected":""+("new"===p)},e.h("label",{className:"btn btn-with-icon btn-large"},e.h("input",{type:"radio",checked:"new"===p,onChange:function(){return a(n,"new")},className:"tts-import-compare-snippet-new"}),e.h("div",{className:"tts-import-compare-snippet"},e.h(r.Snippet,{data:i,showRepeats:!0})))))};exports.ImportSnippetCompareItem=l;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/view/components":"AOf9","~/view/utils":"YORt"}],"adFD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImportExport=void 0;var t=n(require("preact")),e=require("preact/hooks"),r=require("~/view/components");function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(o=function(t){return t?r:e})(t)}function n(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=o(e);if(r&&r.has(t))return r.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var p=a?Object.getOwnPropertyDescriptor(t,u):null;p&&(p.get||p.set)?Object.defineProperty(n,u,p):n[u]=t[u]}return n.default=t,r&&r.set(t,n),n}var a=function(o){var n=o.importData,a=o.setImportData,u=(0,r.useModal)(),p=u[0],i=u[1];return(0,e.useEffect)(function(){n&&i(!0)},[n]),t.h(t.Fragment,null,t.h("button",{className:"header-button tts-export-button",onClick:function(){return i(!0)},title:"Import/Export","data-help":"import-export-overview"},t.h("i",{className:"fas fa-share-square"})),t.h(p,null,t.h(r.ImportExportModal,{importData:n,setImportData:a,dismiss:function(){i(!1)&&a(null)}})))};exports.ImportExport=a;
},{"preact":"aSor","preact/hooks":"MwGB","~/view/components":"AOf9"}],"izDl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImportExportModal=void 0;var t=a(require("preact")),e=require("~/view/components"),r=require("~/view/utils");function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(o=function(t){return t?r:e})(t)}function a(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=o(e);if(r&&r.has(t))return r.get(t);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if("default"!==n&&Object.prototype.hasOwnProperty.call(t,n)){var s=i?Object.getOwnPropertyDescriptor(t,n):null;s&&(s.get||s.set)?Object.defineProperty(a,n,s):a[n]=t[n]}return a.default=t,r&&r.set(t,a),a}var i=function(o){var a=o.importData,i=o.setImportData,n=o.dismiss,s=(0,r.useStateIfMounted)(a?"import":"export"),p=s[0],u=s[1];return t.h(e.Modal,{id:"tts-export-modal",className:"tts-export-modal",dismiss:n},t.h("div",{className:"modal-header modal-header-tabs"},t.h("button",{className:"modal-header-tab","data-active":""+("import"===p),onClick:function(){return u("import")}},"Import"),t.h("button",{className:"modal-header-tab","data-active":""+("export"===p),onClick:function(){return u("export")}},"Export"),t.h("button",{className:"icon-button modal-close",onClick:n},t.h("i",{className:"fas fa-times"}))),"export"===p?t.h(e.ExportForm,{dismiss:n}):t.h(e.ImportForm,{data:a,setData:i,dismiss:n}))};exports.ImportExportModal=i;
},{"preact":"aSor","~/view/components":"AOf9","~/view/utils":"YORt"}],"gaf3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImportMessageRenameItem=exports.ImportRenameMessages=void 0;var e=s(require("preact")),t=require("preact/hooks"),n=require("~/common"),a=require("~/view/utils");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=s?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},u=function(r){var s=r.messages,i=r.updateMessages,u=r.duplicates,l=r.nextStep,c=r.prevStep,f=r.current,d=(0,t.useRef)(),p=(0,a.useValueRef)(s),h=(0,t.useCallback)(function(e,t){var n;return e===t.name||!!p.current.find(function(t){return t.name===e})||!!(null===(n=d.current)||void 0===n?void 0:n.find(function(n){return n.name===e&&!n.discard&&n.message.name!==t.name}))},[]),g=(0,a.useStateRef)(void 0),v=g[0],b=g[1],y=g[2],N=(0,t.useMemo)(function(){return null==u?void 0:u.filter(function(e){return null==s?void 0:s.find(function(t){return t.name===e.name})}).map(function(e){var t,n,a=null===(t=d.current)||void 0===t?void 0:t.find(function(t){return t.message.name===e.name});return o(o({message:e,name:"",discard:null!==(n=y.current)&&void 0!==n&&n},null!=a?a:{}),{invalid:!!a&&h(a.name,a.message)})})},[u,s]),O=(0,a.useStateWithRef)(N,d),k=O[0],w=O[1];(0,t.useEffect)(function(){w(N)},[N]),(0,t.useEffect)(function(){null!=v&&w(k.map(function(e){return o(o({},e),{discard:v})}))},[v]);var x=(0,t.useCallback)(function(e,t){w((0,n.replace_item_in)(d.current,function(t){return t.message.name===e.message.name},o(o({},e),{name:t,invalid:h(t,e.message)})))},[]),C=(0,t.useCallback)(function(e,t){b(void 0),w((0,n.replace_item_in)(d.current,function(t){return t.message.name===e.message.name},o(o({},e),{discard:t,invalid:h(e.name,e.message)})))},[]),M=(0,t.useMemo)(function(){return k.every(function(e){return e.name&&e.name!==e.message.name&&!e.invalid||e.discard})},[k]),j=(0,t.useCallback)(function(e){if(e.preventDefault(),e.target.checkValidity()&&M){var t=s.concat(k.filter(function(e){return!e.discard&&!e.invalid}).map(function(e){return o(o({},e.message),{name:e.name})}));i(t),l()}else e.target.reportValidity()},[k,M]);return f?e.h(e.Fragment,null,e.h("div",{className:"modal-body tts-import-conflicts"},e.h("p",null,"Some of the messages you imported had identical names to existing messages but different content. Rename or discard these messages."),e.h("form",{id:"import-rename-form",className:"tts-import-rename modal-scroll-content",onSubmit:j},e.h("table",{cellSpacing:0},e.h("thead",null,e.h("tr",{className:"tts-import-rename-row"},e.h("th",{className:"tts-import-rename-message"},"Message"),e.h("th",{className:"tts-import-rename-name"},"New Name"),e.h("th",{className:"tts-import-rename-discard"},e.h("label",null,"Discard",e.h("input",{type:"checkbox",checked:v,onChange:function(){return b(!v)}}))))),e.h("tbody",null,k.map(function(t){return e.h(m,o({key:t.message.id},t,{onChangeName:x,onChangeDiscard:C}))}))))),e.h("div",{className:"tts-import-review-footer modal-footer"},e.h("button",{className:"btn btn-large",type:"button",onClick:c},"Back"),e.h("button",{disabled:!M,className:"btn btn-primary btn-large",form:"import-rename-form"},"Continue"))):null};exports.ImportRenameMessages=u;var m=function(n){var r=n.onChangeName,s=n.onChangeDiscard,o=i(n,["onChangeName","onChangeDiscard"]),u=o.message,m=o.name,l=o.discard,c=o.invalid,f=(0,a.useStateIfMounted)(null!=m?m:null==u?void 0:u.name),d=f[0],p=f[1],h=(0,a.useDebounce)(r,80)[0];return(0,t.useEffect)(function(){h(o,d)},[d]),(0,t.useEffect)(function(){m!==d&&p(m)},[m]),e.h("tr",{className:"tts-import-rename-row"},e.h("td",{className:"tts-import-rename-message"},e.h("div",{className:"tts-import-compare-message-text tts-text"},u.text)),e.h("td",{className:"tts-import-rename-name"},e.h("p",null,e.h("div",null,"Previous Name:"),e.h("strong",null,u.name)),e.h("div",null,"New Name:"),e.h("input",{type:"text",value:d,defaultValue:u.name,required:!l,onChange:function(e){return p(e.target.value)},disabled:l,"data-invalid":""+(!l&&c)})),e.h("td",{className:"tts-import-rename-discard"},e.h("label",null,e.h("input",{type:"checkbox",checked:l,onInput:function(){return s(o,!l)}}))))};exports.ImportMessageRenameItem=m;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/view/utils":"YORt"}],"KpJL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImportSnippetCategorizeItem=exports.ImportUncategorizedSnippets=void 0;var e=a(require("preact")),t=require("~/view/components"),n=require("preact/hooks"),r=require("~/view/utils"),i=require("~/common");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},u=function(t){var o=t.uncategorized,a=t.sections,u=t.updateSections,p=t.snippets,l=t.updateSnippets,d=t.nextStep,f=t.prevStep,m=t.current,h=(0,n.useRef)(),v=(0,r.useStateRef)(void 0),b=v[0],g=v[1],y=v[2],S=(0,n.useMemo)(function(){return o.map(function(e){return{snippet:e,selected:void 0,discard:!1}})},[o]),k=(0,r.useStateWithRef)(S,h),w=k[0],N=k[1];(0,n.useEffect)(function(){null!=b&&N(w.map(function(e){return s(s({},e),{discard:b})}))},[b]);var _=(0,n.useCallback)(function(e,t){g(void 0),N((0,i.replace_item_in)(h.current,function(t){return(0,i.deep_equals)(t.snippet,e.snippet)},s(s({},e),{selected:t})))},[]),z=(0,n.useCallback)(function(e,t){g(void 0),N((0,i.replace_item_in)(h.current,function(t){return(0,i.deep_equals)(t.snippet,e.snippet)},s(s({},e),{discard:t})))},[]),C=(0,n.useMemo)(function(){return w.every(function(e){return!!e.selected||e.discard})},[w]),O=(0,n.useMemo)(function(){return null==a?void 0:a.concat(w.filter(function(e){return!!e.selected&&!a.find(function(t){var n;return t.name===(null===(n=e.selected)||void 0===n?void 0:n.name)})}).map(function(e){return e.selected}))},[a,w]),j=(0,n.useCallback)(function(e){var t;if(e.preventDefault(),C){var n=null!=O?O:[],r=null!=p?p:[];if(!0!==y.current){for(var o=function(e){if(!e.selected||e.discard)return"continue";r.some(function(t){return t.id===e.snippet.id})||r.push(e.snippet);var o=null!==(t=n.find(function(t){return t.name===e.selected.name}))&&void 0!==t?t:e.selected;n=(0,i.replace_item_in)(n,function(t){return t.name===e.selected.name},s(s({},o),{data:(0,i.add_item_to)(o.data,e.snippet.id)}),"end")},a=0,c=w;a<c.length;a++){o(c[a])}u(n),l(r.filter(function(e){return n.some(function(t){return t.data.includes(e.id)})})),d()}else d()}},[C,w,a,p]);return m?e.h(e.Fragment,null,e.h("div",{className:"modal-body tts-import-conflicts tts-import-snippets-uncategorized"},e.h("p",null,"Some of the snippets you imported were not part of a group. Choose or create a group to add each snippet to."),e.h("form",{id:"uncategorized-snippet-form",onSubmit:j,className:"tts-import-rename tts-import-categorize-snippets modal-scroll-content"},e.h("table",{cellSpacing:0},e.h("thead",null,e.h("tr",{className:"tts-import-compare-row"},e.h("th",{className:"tts-import-snippet-col"},"Snippet"),e.h("th",{className:"tts-import-snippet-select-section"},"Section"),e.h("th",{className:"tts-import-rename-discard"},e.h("label",null,"Discard",e.h("input",{type:"checkbox",checked:b,onChange:function(){return g(!b)}}))))),e.h("tbody",null,w.map(function(t,n){return e.h(c,{key:n,row:t,sections:O,onChangeDiscard:z,onSelect:_})}))))),e.h("div",{className:"tts-import-review-footer modal-footer"},e.h("button",{className:"btn btn-large",type:"button",onClick:f},"Back"),e.h("button",{disabled:!C,className:"btn btn-primary btn-large",form:"uncategorized-snippet-form"},"Continue"))):null};exports.ImportUncategorizedSnippets=u;var c=function(i){var o,a=i.row,s=i.sections,u=i.onSelect,c=i.onChangeDiscard,p=a.snippet,l=a.selected,d=a.discard,f=(0,r.useValueRef)(a),m=(0,r.useStateIfMounted)(null!==(o=null==l?void 0:l.name)&&void 0!==o?o:""),h=m[0],v=m[1],b=(0,n.useCallback)(function(e){var t;if(e.trim()){var n=null!==(t=s.find(function(t){return t.name===e}))&&void 0!==t?t:{name:e,open:!1,data:[]};u(f.current,n)}else u(f.current,void 0)},[u,s]),g=(0,r.useDebounce)(b,100)[0];return(0,n.useEffect)(function(){g(h)},[h]),e.h("tr",{className:"tts-import-compare-row"},e.h("td",{className:"tts-import-categorize-snippet"},e.h(t.Snippet,{data:p,showRepeats:!0})),e.h("td",{className:"tts-import-categorize-section"},e.h("label",{className:"tts-import-categorize-section-input"},e.h("input",{id:"categorize-input",value:h,onChange:function(e){return v(e.target.value)},list:"categories-list",disabled:d,autocomplete:"off"}),e.h("datalist",{id:"categories-list"},null==s?void 0:s.map(function(t){return e.h("option",{key:t.name,value:t.name},t.name)})))),e.h("td",{className:"tts-import-rename-discard"},e.h("label",null,e.h("input",{type:"checkbox",checked:d,onInput:function(){return c(a,!d)}}))))};exports.ImportSnippetCategorizeItem=c;
},{"preact":"aSor","~/view/components":"AOf9","preact/hooks":"MwGB","~/view/utils":"YORt","~/common":"rTqy"}],"l0Xa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.import_multiple_files=exports.validate_import_data=exports.import_data=exports.is_duplicate_snippet=exports.is_duplicate_message=exports.generate_file=exports.export_snippets_sections=exports.export_snippets_section=exports.export_snippets=exports.export_snippet=exports.export_message_categories=exports.export_message_category=exports.export_messages=exports.SNIPPET_DUPE_PROPS=exports.MESSAGE_DUPE_PROPS=void 0;var t=require("~/common"),e=require("~/model"),n=require("~/view/utils"),r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},s=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]])}return n},a=function(t,e){for(var n=0,r=e.length,s=t.length;n<r;n++,s++)t[s]=e[n];return t},i=6,o=["speed","max_length"];exports.MESSAGE_DUPE_PROPS=o;var p=["prefix","suffix"];exports.SNIPPET_DUPE_PROPS=p;var u=function(t){return t.map(function(t){return r(r({},(0,e.conform_to_schema)(t,e.MESSAGE_SCHEMA)),{__type:"message"})})};exports.export_messages=u;var _=function(t){return r(r({},(0,e.conform_to_schema)(t,e.MESSAGE_CATEGORY_SCHEMA)),{__type:"message-category"})};exports.export_message_category=_;var f=function(t){return t.map(_)};exports.export_message_categories=f;var c=function(t){return r(r({},(0,e.conform_to_schema)(t,e.SNIPPET_SCHEMA)),{__type:"snippet"})};exports.export_snippet=c;var d=function(t){return t.map(c)};exports.export_snippets=d;var m=function(t){return r(r({},(0,e.conform_to_schema)(t,e.SNIPPET_SECTION_SCHEMA)),{__type:"snippets-section"})};exports.export_snippets_section=m;var g=function(t){return t.map(m)};exports.export_snippets_sections=g;var l=function(t){return JSON.stringify(t,null,"  ")};exports.generate_file=l;var y=function(t,e){return t.text===e.text&&o.every(function(n){return t[n]===e[n]})};exports.is_duplicate_message=y;var v=function(t,e){return t.text===e.text&&p.every(function(n){return t.options[n]===e.options[n]})};exports.is_duplicate_snippet=v;var h=function(i,o,p,u,_,f,c){var d,m,g,l,h,x,E=[],S=[],P=[],A=[],C=r(r({},f),{data:a([],f.data)}),O=[],M=[],T=[],I=[],N=[],H=function(e){var n=p.find(function(t){return y(t,e)})||E.find(function(t){return y(t,e)}),s=p.find(function(t){return t.name===e.name})||E.find(function(t){return t.name===e.name});return n?(n.name===e.name||s||O.push(e),e.id):((p.find(function(t){return t.id===e.id})||E.find(function(t){return t.id===e.id}))&&(e=r(r({},e),{id:(0,t.generate_id)(e.name)})),s?M.push(e):E.push(e),e.id)},G=function(t){var e,n=_.concat(S);if(t.name===f.name){var i=r(r({},f),{data:a([],f.data)});return t.data.forEach(function(t){var e=t;if("string"!=typeof t){t.__type;var r=s(t,["__type"]);e=H(r)}n.find(function(t){return t.data.includes(e)})||f.data.includes(e)||i.data.push(e)}),void(C=i)}var o=S.find(function(e){return e.name==t.name}),p=null!==(e=null!=o?o:_.find(function(e){return e.name===t.name}))&&void 0!==e?e:r(r({},t),{data:[]});return t.data.forEach(function(t){var e=t;if("string"!=typeof t){t.__type;var r=s(t,["__type"]);e=H(r)}n.find(function(t){return t.data.includes(e)})||p.data.push(e)}),o||S.push(p),p},b=function(s){var a=u.find(function(t){return v(t,s)})||P.find(function(t){return v(t,s)}),i=!!a&&(0,t.deep_equals)(r(r({},s),{id:""}),(0,e.conform_to_schema)(r(r({},a),{id:""}),e.SNIPPET_SCHEMA));return a?(i||I.some(function(t){return v(s,t)})||I.push(s),s.id):((u.some(function(t){return t.id===s.id})||P.some(function(t){return t.id===s.id}))&&(s=r(r({},s),{id:(0,t.generate_id)((0,n.snippet_to_string)(s))})),P.push(s),s.id)},j=function(t){var e,n=c.concat(A),a=A.find(function(e){return e.name===t.name}),i=null!==(e=null!=a?a:c.find(function(e){return e.name===t.name}))&&void 0!==e?e:r(r({},t),{data:[]});return t.data.forEach(function(t){var e=t;if("string"!=typeof t){t.__type;var r=s(t,["__type"]);e=b(r)}n.find(function(t){return t.data.includes(e)})||i.data.push(e)}),a||A.push(i),i};if(Array.isArray(i))i.forEach(function(t){var e=t.__type,n=s(t,["__type"]);"message"===e?H(n):"message-category"===e?G(n):"snippets-section"===e?j(n):"snippet"===e?b(n):"settings"===e&&(d=r(r({},o),n))});else if("export-data"===i.__type){var R=i.settings,w=i.messages,q=i.messageCategories,D=i.snippets,U=i.snippetsSections;if(R){R.__type;var Y=s(R,["__type"]);d=r(r({},o),Y)}null==w||w.forEach(function(t){var e=t.__type,n=s(t,["__type"]);"message"===e&&H(n)}),null==q||q.forEach(function(t){var e=t.__type,n=s(t,["__type"]);"message-category"===e&&G(n)}),null==U||U.forEach(function(t){var e=t.__type,n=s(t,["__type"]);"snippets-section"===e&&j(n)}),null==D||D.forEach(function(t){var e=t.__type,n=s(t,["__type"]);"snippet"===e&&b(n)})}else if("settings"===i.__type){i.__type,R=s(i,["__type"]);d=r(r({},o),R)}else if("message"===i.__type){i.__type;var z=s(i,["__type"]);H(z)}else if("message-category"===i.__type){i.__type;var J=s(i,["__type"]);G(J)}else if("snippets-section"===i.__type){i.__type;var k=s(i,["__type"]);j(k)}else if("snippet"===i.__type){i.__type;var B=s(i,["__type"]);b(B)}E.length>0&&(m=p.concat(E)),S=S.map(function(t){return r(r({},t),{data:t.data.filter(function(t){return(null!=m?m:p).concat(O).concat(M).find(function(e){return e.id===("string"==typeof t?t:t.id)})})})}).filter(function(t){return 0!==t.data.length&&!_.find(function(e){return e.name===t.name})||(t.data.length>0&&T.push(t),!1)}),T.length>0&&(g=_.map(function(t){var e=T.find(function(e){return e.name===t.name});return e?r(r({},t),{data:t.data.concat(e.data.map(function(t){return"string"==typeof t?t:t.id}).filter(function(e){return!t.data.includes(e)}))}):t})),S.length>0&&(g=(null!=g?g:_).concat(S.map(function(t){return r(r({},t),{data:t.data.map(function(t){return"string"==typeof t?t:t.id})})}))),l=r(r({},f),{data:(0,n.get_uncategorized_messages)(null!=m?m:p,null!=g?g:_,C).data});var F=P.filter(function(t){return!c.concat(A).concat(N).some(function(e){return e.data.some(function(e){return t.id===("string"==typeof e?e:e.id)})})});return(P=P.filter(function(t){return!F.some(function(e){return e.id===t.id})})).length>0&&(h=u.concat(P)),A=A.map(function(t){return r(r({},t),{data:t.data.filter(function(t){return(null!=h?h:u).concat(I).find(function(e){return e.id===("string"==typeof t?t:t.id)})})})}).filter(function(t){return 0!==t.data.length&&!c.find(function(e){return e.name===t.name})||(t.data.length>0&&N.push(t),!1)}),N.length>0&&(x=c.map(function(t){var e=N.find(function(e){return e.name===t.name});return e?r(r({},t),{data:t.data.concat(e.data.map(function(t){return"string"==typeof t?t:t.id}).filter(function(e){return!t.data.includes(e)}))}):t})),A.length>0&&(x=(null!=x?x:c).concat(A.map(function(t){return r(r({},t),{data:t.data.map(function(t){return"string"==typeof t?t:t.id})})}))),[d,m,h,g,x,l,O,M,I,F]};exports.import_data=h;var x=function n(a,o,p){if(void 0===o&&(o=0),o>i)return null;if(Array.isArray(a))return a.map(function(t){return n(t,o+1,p)}).filter(function(t){return!!t});if(!("__type"in a)||"string"!=typeof a.__type||p&&a.__type!==p)return null;if("export-data"===a.__type){if(!(a.snippets||a.messages||a.settings||a.messageCategories))return null;var u={__type:"export-data"};if(a.settings&&(u.settings=n(a.settings,o+1)),a.messages&&(u.messages=n(a.messages,o+1,"message")),a.messageCategories){var _=n(a.messageCategories,o+1,"message-category");_&&(u.messageCategories=_)}return a.snippets&&(u.snippets=n(a.snippets,o+1,"snippet")),a.snippetsSections&&(u.snippetsSections=n(a.snippetsSections,o+1,"snippets-section")),u}if("settings"===a.__type)return r({__type:"settings"},(0,e.conform_to_schema)(a,e.SETTINGS_SCHEMA));if("message"===a.__type)return!a.id&&a.name&&(a.id=(0,t.generate_id)(a.name)),r({__type:"message"},(0,e.conform_to_schema)(a,e.MESSAGE_SCHEMA));if("message-category"===a.__type){var f=a,c=f.data,d=s(f,["data"]);if("string"===(m=c.reduce(function(t,e){var n="string"==typeof e?"string":"message";return t&&t!==n?"":n},"")))return r({__type:"message-category"},(0,e.conform_to_schema)(a,e.MESSAGE_CATEGORY_SCHEMA));if("message"===m)return r(r({__type:"message-category"},(0,e.conform_to_schema)(r(r({},d),{data:[]}),e.MESSAGE_CATEGORY_SCHEMA)),{data:c.filter(function(t){return!!t}).map(function(t){return n(t,o+1,"message")})})}if("snippet"===a.__type)return r({__type:"snippet"},(0,e.conform_to_schema)(a,e.SNIPPET_SCHEMA));if("snippets-section"===a.__type){var m,g=a,l=g.data,y=s(g,["data"]);if("string"===(m=l.reduce(function(t,e){var n="string"==typeof e?"string":"snippet";return t&&t!==n?"":n},"")))return r({__type:"snippets-section"},(0,e.conform_to_schema)(a,e.SNIPPET_SECTION_SCHEMA));if("snippet"===m)return r(r({__type:"snippets-section"},(0,e.conform_to_schema)(r(r({},y),{data:[]}),e.SNIPPET_SECTION_SCHEMA)),{data:l.filter(function(t){return!!t}).map(function(t){return n(t,o+1,"snippet")}).filter(function(t){return!!t})})}return null};exports.validate_import_data=x;var E=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var s,i=[],o=[],p=[],u=function(n){if("export-data"===n.__type){if(!n.snippets&&!n.messages&&!n.settings)return;n.settings&&(s||(s={}),s=r(r({},s),n.settings)),n.messages&&o.push.apply(o,n.messages),n.messageCategories&&i.push.apply(i,n.messageCategories),n.snippets&&p.push.apply(p,n.snippets)}else{if("settings"===n.__type)return r({__type:"settings"},(0,e.conform_to_schema)(t,e.SETTINGS_SCHEMA));"message"===n.__type?o.push(n):"message-category"===n.__type?i.push(n):"snippet"===n.__type?p.push(n):"snippets-section"===n.__type&&p.push(n)}},_=0,f=t;_<f.length;_++){var c=f[_];Array.isArray(c)?c.forEach(u):u(c)}var d=a(a([],o),p);return s&&d.push(s),d};exports.import_multiple_files=E;
},{"~/common":"rTqy","~/model":"p5UI","~/view/utils":"YORt"}],"Hrmp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResetStorage=void 0;var e=n(require("preact")),t=require("~/common"),a=require("~/view/utils");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(n,s,l):n[s]=e[s]}return n.default=e,a&&a.set(e,n),n}var o=function(r){var n=r.onCancel,o=(0,a.useStateIfMounted)(!1),s=o[0],l=o[1];return e.h(e.Fragment,null,e.h("div",{className:"modal-body tts-reset"},e.h("div",{className:"tts-reset-icon"},e.h("i",{className:"fas fa-exclamation-circle"})),e.h("h1",null,"WARNING"),e.h("p",null,"This operation cannot be reversed. Resetting storage will clear all saved messages, snippets, and settings, and restore the default sample data. If there's anything you might want to keep, go back and export the data before resetting."),e.h("label",{className:"checkbox"},e.h("input",{type:"checkbox",className:"checkbox-input",checked:s,onInput:function(){return l(!s)}}),e.h("span",{className:"checkbox-label"},"Reset Tutorials"))),e.h("div",{className:"modal-footer"},e.h("button",{className:"btn btn-large",onClick:n},"Cancel"),e.h("button",{className:"btn btn-large btn-negative",onClick:function(){return(0,t.reset_all_storage)(s)}},"Continue")))};exports.ResetStorage=o;
},{"preact":"aSor","~/common":"rTqy","~/view/utils":"YORt"}],"A6Do":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./Export");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./ExportMessage");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./ExportMessageCategory");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./ExportSnippet");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./Import");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var u=require("./ImportDuplicateMessages");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});var s=require("./ImportDuplicateSnippets");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===s[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}}))});var p=require("./ImportExport");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===p[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}}))});var i=require("./ImportExportModal");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===i[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}}))});var c=require("./ImportRenameMessages");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===c[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}}))});var f=require("./ImportUncategorizedSnippets");Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===f[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return f[e]}}))});var a=require("./utils");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===a[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return a[e]}}))});var x=require("./Reset");Object.keys(x).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===x[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return x[e]}}))});
},{"./Export":"mUbX","./ExportMessage":"KEae","./ExportMessageCategory":"jf6Y","./ExportSnippet":"h8OU","./Import":"lsqS","./ImportDuplicateMessages":"hnd6","./ImportDuplicateSnippets":"oW7G","./ImportExport":"adFD","./ImportExportModal":"izDl","./ImportRenameMessages":"gaf3","./ImportUncategorizedSnippets":"KpJL","./utils":"l0Xa","./Reset":"Hrmp"}],"OlUs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Footer=void 0;var e=n(require("preact")),t=require("~/common"),r=require("~/view/utils");function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(n,s,l):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}var o=localStorage.getItem("tts-release-viewed"),s="1.4.0",l=function(){var a=(0,r.useStateIfMounted)(o!==s),n=a[0],l=a[1];return e.h("footer",{className:"footer"},e.h("a",{href:t.REPOSITORY_URL+"/issues/new?template=bug_report.yml",target:"_blank"},"Report an Issue"),e.h("span",null),e.h("a",{href:t.REPOSITORY_URL+"/issues/new?template=feature_request.md",target:"_blank"},"Give Feedback"),s&&e.h(e.Fragment,null,e.h("span",null),e.h("a",{className:"footer-release",target:"_blank",href:t.REPOSITORY_URL+"/releases",onClick:n?function(){localStorage.setItem("tts-release-viewed",s),l(!1)}:void 0},e.h("span",null,"Release Notes"),n&&e.h("span",{className:"footer-release-new"},"New",e.h("i",{className:"fas fa-exclamation"})))))};exports.Footer=l;
},{"preact":"aSor","~/common":"rTqy","~/view/utils":"YORt"}],"vS8G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SkipTutorials=void 0;var e=o(require("preact")),t=require("~/model"),r=require("~/view/utils");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var a=i?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(o,u,a):o[u]=e[u]}return o.default=e,r&&r.set(e,o),o}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u=function(n){var o=n.onFinish,u=(0,r.useContextState)(t.EDITOR_SETTINGS),a=u[0],f=u[1];return e.h("button",{className:"btn btn-large btn-negative",onClick:function(){f(i(i({},a),{skip_tutorials:!0})),o()}},"Turn Off Tutorials")};exports.SkipTutorials=u;
},{"preact":"aSor","~/model":"p5UI","~/view/utils":"YORt"}],"LFqG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HelpModal=void 0;var e=s(require("preact")),t=require("preact/hooks"),r=require("~/model"),n=require("~/view/components"),o=require("~/view/components/help/demos"),a=require("~/view/components/help/demos/SkipTutorials"),l=require("~/view/utils"),i=require("./help-data");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}var c=function(){return(c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},p=function(u){var s=u.isTutorial,p=(0,l.useContextState)(r.HELP_COMPLETED),f=p[0],d=p[1],h=(0,l.useContextState)(r.HELP_ITEM),m=h[0],v=h[1],b=(0,l.useStateRef)([]),k=b[0],y=b[1],P=b[2],O=(0,l.useValueRef)(m),g=(0,t.useCallback)(function(e){if(null===e)return v(null),void y([]);i.HELP_DATA[e]&&y(P.current.concat(O.current)),v(e)},[]),w=(0,t.useCallback)(function(){for(var e=P.current.slice(0),t=e.pop();!i.HELP_DATA[t]&&e.length>0;)t=e.pop();if(!i.HELP_DATA[t])return v(null),void y([]);v(t),y(e)},[]);(0,t.useEffect)(function(){var e;!m||s&&m!==k[0]||f[m]||d(c(c({},f),((e={})[m]=!0,e)))},[m]);var M=null==m?void 0:m.startsWith("intro-"),E=(0,t.useMemo)(function(){var e;return M?((e={})["data-intro-key"]=m,e):void 0},[M?m:void 0]);if(!m)return null;var H=i.HELP_DATA[m]||i.HELP_DATA["not-found"],T=function(){return v(null)},_=H.name,A=H.content,C="string"==typeof A?A:e.h(A,{goToHelp:g});return e.h(n.Modal,{className:"help-modal",dismiss:T,closeOnClickBackdrop:!M,backdropData:E,"data-item":m},e.h(n.ModalHeader,{dismiss:T,showCloseButton:!M},k.length>0&&!M?e.h("button",{className:"icon-button help-modal-back",onClick:w},e.h("i",{className:"fas fa-chevron-left"})):null,_?e.h("h3",null,_):null),e.h("div",{className:"modal-body modal-scroll-content"},C),s&&0===k.length&&e.h("div",{className:"modal-footer"},e.h("div",null),e.h("button",{className:"link help-modal-skip",onClick:function(){return g("skip-tutorials")}},"Don't show me these one-time tutorials.")),"skip-tutorials"===m&&e.h("div",{className:"modal-footer"},e.h("button",{className:"btn btn-large btn-primary",onClick:w},"Back"),e.h(a.SkipTutorials,{onFinish:function(){return v(null)}})),M&&e.h(o.IntroFooter,{item:m,setItem:g,back:w}))};exports.HelpModal=p;
},{"preact":"aSor","preact/hooks":"MwGB","~/model":"p5UI","~/view/components":"AOf9","~/view/components/help/demos":"AHri","~/view/components/help/demos/SkipTutorials":"vS8G","~/view/utils":"YORt","./help-data":"uLYc"}],"Q2AG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HelpButton=void 0;var e=u(require("preact")),t=require("preact/hooks"),n=require("~/view/components"),r=require("~/view/components/help/help-data"),o=require("~/view/utils");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var a=o?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(r,u,a):r[u]=e[u]}return r.default=e,n&&n.set(e,r),r}var a={capture:!0},l=function(){var i=(0,o.useStateRef)(!1),u=i[0],l=i[1],s=i[2],c=(0,o.useHelpItem)(u),p=c[0],f=c[1],d=c[2],v=p?r.HELP_DATA[p]||r.HELP_DATA["not-found"]:null,w=(0,t.useCallback)(function(e){s.current&&(0,o.silence_event)(e),s.current&&"help-button"===e.target.id?l(!1):f(e)},[]),h=(0,t.useCallback)(function(e){"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),l(!1))},[]);(0,t.useEffect)(function(){if(u){var e=document.getElementById("app");if(e)return e.setAttribute("data-help-active","true"),window.addEventListener("mousedown",o.silence_event,a),window.addEventListener("mouseup",o.silence_event,a),window.addEventListener("keydown",h),function(){window.removeEventListener("mousedown",o.silence_event,a),window.removeEventListener("mouseup",o.silence_event,a),window.removeEventListener("keydown",h),e.removeAttribute("data-help-active")};u&&l(!1)}},[u]),(0,t.useEffect)(function(){if(!v)return window.addEventListener("click",w,a),function(){window.removeEventListener("click",w,a)}},[v]);var m=(0,n.useModal)(),b=m[0],E=m[1];return(0,t.useEffect)(function(){l(!1),E(!!v)},[v]),e.h(e.Fragment,null,e.h("button",{id:"help-button","data-help-intro-highlight":"intro-help"===p,className:"header-button help-button",onClickCapture:function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),l(!u)},disabled:!!p},u?e.h("i",{className:"fas fa-times"}):e.h("i",{class:"far fa-question-circle"})),e.h(b,null,e.h(n.HelpModal,{isTutorial:d})))};exports.HelpButton=l;
},{"preact":"aSor","preact/hooks":"MwGB","~/view/components":"AOf9","~/view/components/help/help-data":"uLYc","~/view/utils":"YORt"}],"sXRs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./HelpModal");Object.keys(e).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in exports&&exports[t]===e[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return e[t]}}))});var t=require("./HelpButton");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});
},{"./HelpModal":"LFqG","./HelpButton":"Q2AG"}],"zWij":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoadingApp=void 0;var e=r(require("preact"));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}function r(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}var n=function(){return e.h("div",{className:"tts-loading"},e.h("div",{className:"tts-submit-status"},e.h("i",{className:"fas fa-circle-notch"})),e.h("h2",null,"Setting things up..."))};exports.LoadingApp=n;
},{"preact":"aSor"}],"okLG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useCategoryField=exports.CategoryField=void 0;var e=a(require("preact")),t=require("preact/hooks"),r=require("~/model"),n=require("~/view/utils");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}var u=function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},i=function(o){var a=o.category,u=o.setCategory,i=(0,t.useContext)(r.MESSAGE_CATEGORIES).value,s=(0,n.useStateIfMounted)(a),l=s[0],c=s[1],f=(0,n.useDebounce)(u)[0];return(0,t.useEffect)(function(){f(l)},[l]),e.h("label",{className:"tts-message-modal-input tts-message-modal-category"},e.h("p",null,"Category"),e.h("input",{id:"message-category-input",value:l,onChange:function(e){return c(e.target.value)},list:"message-categories-list",autocomplete:"off",placeholder:"Not Categorized"}),e.h("datalist",{id:"message-categories-list"},null==i?void 0:i.map(function(t){return e.h("option",{key:t.name,value:t.name},t.name)})))};exports.CategoryField=i;var s=function(e){var o=(0,t.useContext)(r.MESSAGE_CATEGORIES).value,a=(0,t.useMemo)(function(){var t;return null===(t=o.find(function(t){return t.data.includes(e.id)}))||void 0===t?void 0:t.name},[]);return u(u([],(0,n.useStateIfMounted)(a)),[a])};exports.useCategoryField=s;
},{"preact":"aSor","preact/hooks":"MwGB","~/model":"p5UI","~/view/utils":"YORt"}],"Pn7X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CategoryModal=void 0;var e=u(require("preact")),t=require("preact/hooks"),r=require("~/common"),a=require("~/model"),n=require("~/view/components"),o=require("~/view/utils");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},l=function(s){var u=s.category,l=s.updateCategory,c=s.onDeleteCategory,f=s.dismiss,d=(0,t.useContext)(a.MODAL_DIRTY).setValue,p=null==u?void 0:u.name,y=(0,t.useRef)(),m=(0,o.useStateIfMounted)(p),g=m[0],v=m[1],h=(0,t.useCallback)(function(){(0,r.do_confirm)("Are you sure you want to delete this category and all messages in it?")&&(c(u),d(!1),l(p,null),f())},[l,c,u]);return(0,t.useEffect)(function(){var e;return null===(e=y.current)||void 0===e?void 0:e.focus()},[]),(0,t.useEffect)(function(){d(!!u&&p!==g)},[p,g,!!u]),e.h(n.Modal,{className:"tts-message-category-modal",dismiss:f},e.h(n.ModalHeader,{dismiss:f},e.h("h3",null,p?"Edit":"Create New"," Message Category")),e.h("div",{className:"modal-body"},e.h("label",{className:"tts-message-category-modal-input"},e.h("span",null,"Category Name"),e.h("input",{ref:y,value:g,onInput:function(e){return v(e.target.value)}})),p&&e.h("button",{className:"btn btn-negative btn-with-icon",onClick:h},e.h("i",{className:"fas fa-trash"}),"Delete Category")),e.h("div",{className:"modal-footer"},e.h("button",{className:"btn",onClick:f},"Cancel"),u&&u.name&&e.h(n.ExportMessageCategory,{category:u}),e.h("button",{className:"btn btn-primary",onClick:function(){l(p,i(i({open:!0,data:[]},u),{name:g})),d(!1),f()},disabled:!g},"Save")))};exports.CategoryModal=l;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI","~/view/components":"AOf9","~/view/utils":"YORt"}],"k50k":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DiffButton=void 0;var e=i(require("preact")),t=require("preact/hooks"),r=require("~/model"),n=require("~/view/utils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var o=function(u){var i=u.message,o=(0,t.useContext)(r.MESSAGES).value,a=(0,t.useMemo)(function(){return o.find(function(e){return e.id===i.id})},[i.id]),f=(0,n.useMessageFullText)(a),p=(0,n.useMessageFullText)(i);return f&&p&&f!==p?e.h("form",{id:"diff-form",action:"https://text-compare.com",method:"POST",target:"_blank"},e.h("input",{type:"hidden",value:f,name:"text1",id:"inputText1"}),e.h("input",{type:"hidden",value:p,name:"text2",id:"inputText2"}),e.h("button",{type:"submit",class:"btn btn-large btn-primary"},"Review Changes")):null};exports.DiffButton=o;
},{"preact":"aSor","preact/hooks":"MwGB","~/model":"p5UI","~/view/utils":"YORt"}],"pB03":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessagesHeader=exports.MessagesList=void 0;var e=o(require("preact")),t=require("preact/hooks"),n=require("~/common"),r=require("~/model"),a=require("~/view/components"),u=require("~/view/utils");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=a?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(r,u,o):r[u]=e[u]}return r.default=e,n&&n.set(e,r),r}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},c=function(e){return i({"data-help":"messages-group"},e.name===n.UNCATEGORIZED_GROUP_NAME?{draggable:!1,"data-disable-reorder":"true"}:{})},l=function(e,t,n){return t.id},d=function(e,t){return t.test(e.name)||t.test(e.text)},f=function(s){var o=s.updateMessages,f=(0,u.useContextState)(r.MESSAGES),p=f[0],g=f[1],M=(0,u.useValueRef)(p),h=(0,u.useContextState)(r.MESSAGE_CATEGORIES),v=h[0],E=h[1],y=(0,u.useContextState)(r.UNCATEGORIZED_MESSAGES),b=y[0],C=y[1],O=(0,u.useValueRef)(b),S=(0,t.useContext)(r.LOADED_MESSAGE).setValue,R=(0,u.useStateIfMounted)(null),_=R[0],N=R[1],A=(0,u.useStateIfMounted)(null),I=A[0],P=A[1],x=(0,u.useStateIfMounted)(!1),G=x[0],w=x[1],k=(0,t.useMemo)(function(){return p.find(function(e){return e.id===_})},[p,_]),D=(0,t.useMemo)(function(){return v.find(function(e){return e.name===I})},[v,I]),T=(0,u.useValueRef)(v),j=(0,t.useCallback)(function(e,t){E((0,n.replace_item_in)(T.current,function(t){return t.name===e},t,"end").filter(function(e){return!!e}))},[]),U=(0,t.useCallback)(function(e){var t=M.current.filter(function(t){return!e.data.includes(t.id)});g(t)},[]),H=(0,u.useStateIfMounted)(""),q=H[0],z=H[1],V=(0,t.useMemo)(function(){return new r.ImmutableContextValue(q,z)},[q]),L=(0,t.useContext)(r.EDITOR_SETTINGS).value,Z=(0,t.useMemo)(function(){if(!q)return null;for(var e=[q],t=0,n=["safe","normal","max"];t<n.length;t++){var a=n[t];e.push((0,u.optimize_message)(q,{current:null},r.OptimizeTrigger.manual,i(i({},L),{optimize_level:r.OptimizeLevel[a]}))[0])}return e},[q,L]),F=(0,a.useOrganizerSearch)(p,v,b,Z,d),W=F[0],B=F[1],K=(0,u.useValueRef)(!!W||!!B),J=(0,t.useMemo)(function(){if(B)return B.map(function(e){return i(i({},e),{data:e.data.map(function(e){return p.find(function(t){return t.id===e})})})});var e=v.map(function(e){return i(i({},e),{data:e.data.map(function(e){return p.find(function(t){return t.id===e})})})}),t=p.filter(function(e){return!v.find(function(t){return t.data.includes(e.id)})});if(t.length>0){var n=b.data.filter(function(e){return t.find(function(t){return t.id===e})}).map(function(e){return p.find(function(t){return t.id===e})}).concat(t.filter(function(e){return!b.data.includes(e.id)}));e.push(i(i({},b),{data:n}))}return e},[v,B,p,b]),Q=(0,t.useCallback)(function(e){var t=[],r=null;if(K.current)t=e.reduce(function(e,t){return t.name===n.UNCATEGORIZED_GROUP_NAME?(r=i(i({},O.current),{open:t.open}),e):(0,n.replace_item_in)(e,function(e){return e.name===t.name},function(e){return i(i({},e),{open:t.open})})},T.current);else for(var a=0,u=e;a<u.length;a++){var s=u[a];s.name===n.UNCATEGORIZED_GROUP_NAME?r=s:t.push(i(i({},s),{data:s.data.map(function(e){return e.id})}))}E(t),null!=r&&C(i(i({},r),{data:r.data.map(function(e){return e.id})}),t)},[]),X=(0,u.useRenderPropsFunc)(function(t){return e.h(m,i({},t,{onClickAdd:function(){return P("")}}))},[],"MessagesHeader"),Y=(0,u.useRenderPropsFunc)(function(t){var r=t.section;return r.name!==n.UNCATEGORIZED_GROUP_NAME&&e.h("button",{className:"icon-button category-edit tts-message-category-edit",onClick:function(){return P(r.name)}},e.h("i",{className:"fas fa-edit"}))},[],"MessageCategoryHeaderControls"),$=(0,u.useRenderPropsFunc)(function(t){var n=t.data,r=t.buttons,u=t.reorderEnabled;return e.h(a.MessagesListItem,{message:n,openMessageInModal:N,buttons:u?r:null})},[],"MessageItem"),ee=(0,u.useRenderPropsFunc)(function(t){return 0===t.section.data.length?e.h("div",{className:"tts-message-category-empty"},"This category is empty."):null},[],"MessageSectionExtras"),te=(0,a.useModal)(),ne=te[0],re=te[1];(0,t.useEffect)(function(){re(null!=_)},[_]);var ae=(0,a.useModal)(),ue=ae[0],se=ae[1];return(0,t.useEffect)(function(){se(null!=I)},[I]),e.h("div",{className:"tts-messages"},e.h(a.SEARCH_BAR.Provider,{value:V},e.h("div",{className:"tts-message-list"},e.h(a.Organizer,{RenderHeader:X,RenderSectionHeaderControls:Y,RenderSectionExtras:ee,RenderItem:$,getSectionHeaderProps:c,getItemKey:l,sections:J,reorderEnabled:G,setReorderEnabled:w,updateSections:Q}))),e.h(ne,null,e.h(a.MessageModal,{message:k,loadMessage:function(){return S(_)},updateMessage:function(e,t){return o(_,e,t)},deleteMessage:function(e){return o(_,void 0,e)},dismiss:function(){re(!1)&&N(null)}})),e.h(ue,null,e.h(a.CategoryModal,{category:D,updateCategory:j,onDeleteCategory:U,dismiss:function(){se(!1)&&P(null)}})))};exports.MessagesList=f;var m=function(t){var n=t.className,r=t.buttons,s=t.reorderEnabled,o=t.onClickAdd;return e.h("div",{className:"row tts-col-header tts-messages-header"+(0,u.maybeClassName)(n)},e.h(a.SearchBar,null),e.h("h4",{"data-help":"messages-overview"},"Messages"),e.h("div",{className:"tts-col-header-controls"},r,!s&&e.h("button",{className:"tts-messages-add-category icon-button",type:"button",onClick:o,title:"Create a new message category"},e.h("i",{className:"fas fa-plus"}))))};exports.MessagesHeader=m;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI","~/view/components":"AOf9","~/view/utils":"YORt"}],"LuO2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessagesListItem=void 0;var e=o(require("preact")),t=require("preact/hooks"),r=require("~/model"),s=require("~/view/utils");function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var s={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var n=o?Object.getOwnPropertyDescriptor(e,i):null;n&&(n.get||n.set)?Object.defineProperty(s,i,n):s[i]=e[i]}return s.default=e,r&&r.set(e,s),s}var i=function(a){var o=a.message,i=a.openMessageInModal,n=a.buttons,u=(0,t.useContext)(r.LOADED_MESSAGE).value,c=(0,s.useCopyToClipboard)((0,s.useMessageFullText)(o));return e.h("div",{className:"tts-message-item","data-active":""+(u===o.id)},e.h("div",{className:"tts-message-item-header"},e.h("div",{className:"tts-message-item-title",onClick:function(){return i(o.id)}},o.name),n||e.h("button",{className:"btn icon-button tts-message-item-copy",onClick:c,title:"Copy message to clipboard"},e.h("i",{className:"fas fa-clipboard"}))))};exports.MessagesListItem=i;
},{"preact":"aSor","preact/hooks":"MwGB","~/model":"p5UI","~/view/utils":"YORt"}],"reWG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessageModalBase=exports.MessageModal=void 0;var e=l(require("preact")),t=require("preact/hooks"),s=require("~/common"),a=require("~/model"),n=require("~/view/components"),o=require("~/view/utils");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(r=function(e){return e?s:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=r(t);if(s&&s.has(e))return s.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=n?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}return a.default=e,s&&s.set(e,a),a}var i={text:"",promise:new Promise(function(){}),data:""},u=function(r){var l=r.message,i=r.loadMessage,u=r.updateMessage,c=r.deleteMessage,m=r.dismiss,g=r.isNew,h=(0,t.useContext)(a.MODAL_DIRTY).setValue,p=l||{},f=p.name,v=void 0===f?"":f,b=p.options,y=(0,o.useMessageFullText)(l),N=(0,o.useStateIfMounted)(v),M=N[0],w=N[1],x=(0,n.useCategoryField)(l),C=x[0],O=x[1],_=x[2],E=(0,t.useRef)(!1);(0,t.useEffect)(function(){v!==M&&(E.current=!1)},[M,v]);var P=(0,t.useCallback)(function(){(0,s.do_confirm)("Are you sure you want to delete this message?")&&(c(_),h(!1),m())},[]);return(0,t.useEffect)(function(){h(v!==M||C!==_)},[v,M,C,_]),l?e.h(d,{message:l,name:M,setName:w,category:C,setCategory:O,dismiss:m},g?e.h("div",null):e.h("button",{className:"btn btn-large btn-negative btn-with-icon",onClick:P,disabled:!v},e.h("i",{className:"fas fa-trash"}),"Delete"),!g&&e.h("div",{className:"btn-multi"},e.h("button",{className:"btn btn-large btn-with-icon btn-left",onClick:function(){i(),m()}},e.h("i",{className:"fas fa-folder-open"}),"Load Into Editor"),e.h(n.ClipboardButton,{id:"msg-modal",className:"btn btn-large btn-with-icon btn-right",text:y}),e.h("textarea",{id:"clipboard-input-msg-modal",className:"clipboard-input invisible",tabIndex:-1})),e.h("button",{className:"btn btn-large btn-primary",onClick:function(){E.current||(E.current=!0,l.id||((0,s.do_alert)("couldn't save due to missing id"),console.error("couldn't save due to missing id")),u({id:l.id,name:M,text:l.text,options:b},C||void 0)?(h(!1),m()):E.current=!1)},disabled:!M||M===v&&C===_},"Save")):null};exports.MessageModal=u;var d=function(a){var r=a.message,l=a.name,u=a.setName,d=a.category,c=a.setCategory,m=a.dismiss,g=a.isNew,h=a.children,p=(0,t.useRef)(),f=(r||{}).options,v=f.max_length,b=f.speed,y=f.bits,N=f.voice,M=void 0===N?s.DEFAULT_VOICE:N,w=f.speed_char,x=void 0===w?s.DEFAULT_SPEED_CHAR:w,C=(0,o.usePlayMessage)(r,"message-modal-player",i),O=C[0],_=C[1],E=C[2],P=C[3],D=(0,t.useCallback)(function(e){O||(e.preventDefault(),E())},[O]);return(0,t.useEffect)(function(){var e;null===(e=p.current)||void 0===e||e.focus()},[]),e.h(n.Modal,{className:"tts-message-modal",dismiss:m},e.h(n.ModalHeader,{dismiss:m},e.h("h3",null,g?"Create New":"Edit"," Saved Message")),e.h("div",{className:"modal-body"},e.h("div",{className:"row tts-message-modal-name"},e.h("label",{className:"tts-message-modal-input"},e.h("p",null,"Message Name"),e.h("input",{ref:p,value:l,onInput:function(e){return u(e.target.value)}})),e.h(n.CategoryField,{category:d,setCategory:c})),e.h("div",{className:"tts-message-modal-preview tts-text"},P),e.h("div",{className:"tts-message-modal-player"},e.h(n.AudioPlayer,{data:O,id:"message-modal-player",onPlay:D}),e.h(n.StatusIndicator,{status:_})),e.h("div",{className:"tts-message-modal-details"},e.h("div",{className:"tts-message-modal-options"},e.h("h4",null,"Options"),e.h("div",{className:"row"},e.h("span",null,"Character Limit: ",e.h("strong",null,v)),e.h("span",null,"Speed Modifier:"," ",e.h("strong",null,b?e.h("code",null,x):"None")),e.h("span",null,"Bits: ",e.h("strong",null,y?e.h("code",null,y):"None")),e.h("span",null,"Voice: ",e.h("strong",null,M))))),!g&&e.h("div",{className:"tts-message-modal-export"},e.h(n.ExportMessage,{message:r}),e.h(n.DiffButton,{message:r}))),e.h("div",{className:"modal-footer"},h))};exports.MessageModalBase=d;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI","~/view/components":"AOf9","~/view/utils":"YORt"}],"hurr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./CategoryField");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./CategoryModal");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./Diff");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./List");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./ListItem");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var u=require("./Modal");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});
},{"./CategoryField":"okLG","./CategoryModal":"Pn7X","./Diff":"k50k","./List":"pB03","./ListItem":"LuO2","./Modal":"reWG"}],"OCvJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GeneralSettings=void 0;var t=a(require("preact")),e=require("~/common"),s=require("~/view/utils");function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,s=new WeakMap;return(i=function(t){return t?s:e})(t)}function a(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=i(e);if(s&&s.has(t))return s.get(t);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var o=n?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=t[r]}return a.default=t,s&&s.set(t,a),a}var n=function(i){var a=i.form,n=i.onChangeSettings;return t.h("div",{className:"tts-settings-section"},t.h("div",{className:"tts-settings-section-header"},"General Settings"),t.h("div",{className:"tts-settings-item"},t.h("label",{className:"checkbox toggle tts-settings-item tts-settings-skip",title:"Automatically stop audio playback when the speed modifier starts","data-help":"tutorials-auto-stop"},t.h("span",{className:"checkbox-label"},"Automatically Stop Audio at Speed Modifier"),t.h("input",{type:"checkbox",className:"invisible",checked:a.stop_playback_at_modifier,onChange:function(){return n("stop_playback_at_modifier",!a.stop_playback_at_modifier)}}),t.h("div",{className:"toggle-switch"}))),t.h("div",{className:"tts-settings-item tts-settings-bits","data-help":"bits-default"},t.h("div",{className:"tts-settings-item-label"},"Default Bits String"),t.h("div",{className:"tts-settings-item-control"},t.h("input",{value:a.bits_string,onChange:function(t){t.target.value&&n("bits_string",t.target.value.trim())},onBlur:function(t){t.target.value||n("bits_string",e.DEFAULT_BITS_STRING)}}))),t.h("div",{className:"tts-settings-item tts-settings-history",title:"Number of undo/redo steps that will be stored. When you exceed this number, the oldest step will be discarded.","data-help":"history-steps"},t.h("div",{className:"tts-settings-item-label"},"Max. Undo/Redo Steps"),t.h("div",{className:"tts-settings-item-control"},t.h("span",null,a.history_steps),t.h("input",{type:"range",min:64,max:256,value:a.history_steps,onChange:function(t){var e=(0,s.ensure_number)(t.target.valueAsNumber,255);n("history_steps",e)}}))))};exports.GeneralSettings=n;
},{"preact":"aSor","~/common":"rTqy","~/view/utils":"YORt"}],"todN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HelpSettings=void 0;var e=s(require("preact"));function t(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,r=new WeakMap;return(t=function(e){return e?r:s})(e)}function s(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t(s);if(r&&r.has(e))return r.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(i,n,o):i[n]=e[n]}return i.default=e,r&&r.set(e,i),i}var r=function(t){var s=t.form,r=t.onChangeSettings;return e.h("div",{className:"tts-settings-section"},e.h("div",{className:"tts-settings-section-header"},"Help & Tutorials"),e.h("div",{className:"tts-settings-item"},e.h("label",{className:"checkbox toggle tts-settings-item tts-settings-skip",title:"Disable tutorials that appear the first time you use certain features.","data-help":"tutorials-help"},e.h("span",{className:"checkbox-label"},"Skip All Tutorials"),e.h("input",{type:"checkbox",className:"invisible",checked:s.skip_tutorials,onChange:function(){return r("skip_tutorials",!s.skip_tutorials)}}),e.h("div",{className:"toggle-switch"}))))};exports.HelpSettings=r;
},{"preact":"aSor"}],"pZh8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SettingsModal=void 0;var e=s(require("preact")),t=require("preact/hooks"),n=require("~/common"),r=require("~/model"),o=require("~/view/components"),a=require("~/view/utils");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var u=function(i){var s=i.dismiss,u=(0,t.useContext)(r.MODAL_DIRTY).setValue,l=(0,a.useContextState)(r.EDITOR_SETTINGS),c=l[0],f=l[1],d=(0,a.useStateObject)(c),p=d[0],m=d[1],g=(0,t.useCallback)(function(e,t){var n;return m(((n={})[e]=t,n))},[]);return(0,t.useEffect)(function(){u(!(0,n.deep_equals)(p,c))},[p,c]),e.h(o.Modal,{className:"tts-settings-modal",dismiss:s},e.h(o.ModalHeader,{dismiss:s},e.h("h3",null,"Settings")),e.h("div",{className:"modal-body modal-scroll-content"},e.h(o.GeneralSettings,{onChangeSettings:g,form:p}),e.h(o.OptimizationSettings,{onChangeSettings:g,form:p}),e.h(o.HelpSettings,{onChangeSettings:g,form:p}),e.h("div",{className:"modal-footer"},e.h("button",{className:"btn btn-large",onClick:s},"Cancel"),e.h("button",{className:"btn btn-large btn-primary",onClick:function(){f(p),u(!1),s()}},"Save"))))};exports.SettingsModal=u;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI","~/view/components":"AOf9","~/view/utils":"YORt"}],"WJro":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OptimizationSettings=void 0;var e=a(require("preact")),t=require("~/model");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=n?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(s,r,o):s[r]=e[r]}return s.default=e,a&&a.set(e,s),s}var s={manual:"Manually",submit:"When you click submit",stop:"When you stop typing",edit:"As you're typing"},n={safe:"Minimum",normal:"Normal",max:"Maximum"},r=function(i){var a=i.form,r=i.onChangeSettings;return e.h("div",{className:"tts-settings-section","data-help":"optimize-full"},e.h("div",{className:"tts-settings-section-header"},"Optimization Settings"),e.h("div",{className:"tts-settings-item"},e.h("label",{className:"checkbox toggle tts-settings-item tts-settings-whitespace",title:"Automatically remove any duplicate, leading, or trailing whitespace"},e.h("span",{className:"checkbox-label"},"Automatically Trim Spaces"),e.h("input",{type:"checkbox",className:"invisible",checked:a.trim_whitespace,onChange:function(){return r("trim_whitespace",!a.trim_whitespace)}}),e.h("div",{className:"toggle-switch"}))),e.h("div",{className:"tts-settings-item tts-settings-trigger",title:"Choose when message optimization is triggered. Optimization will eliminate unneeded characters (such as replacing 'you' with 'u') to maximize the amount of text you can fit within the character limit."},e.h("div",{className:"tts-settings-item-label"},"Optimize Words:"),e.h("div",{className:"tts-settings-item-control"},e.h("select",{value:a.optimize_words,onChange:function(e){return r("optimize_words",parseInt(e.target.value))}},Object.entries(s).map(function(i){var a=i[0],s=i[1];return e.h("option",{value:t.OptimizeTrigger[a],key:a},s)})))),e.h("div",{className:"tts-settings-item tts-settings-trigger",title:"Minimum: Speech should be identical before and after optimization.\nNormal: Optimization will cause some very minor changes in speech, but shouldn't be noticeable.\nMaximum: Some parts of speech may change noticeably, but should still have the correct syllables."},e.h("div",{className:"tts-settings-item-label"},"Optimization Level:"),e.h("div",{className:"tts-settings-item-control"},e.h("select",{value:a.optimize_level,onChange:function(e){return r("optimize_level",parseInt(e.target.value))}},Object.entries(n).map(function(i){var a=i[0],s=i[1];return e.h("option",{value:t.OptimizeLevel[a],key:a},s)})))))};exports.OptimizationSettings=r;
},{"preact":"aSor","~/model":"p5UI"}],"OiEO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./General");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./Help");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./Modal");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./Optimization");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});
},{"./General":"OCvJ","./Help":"todN","./Modal":"pZh8","./Optimization":"WJro"}],"DaPg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SnippetsRow=void 0;var e=u(require("preact")),t=require("preact/hooks"),n=require("~/model"),r=require("~/view/components"),o=require("~/view/utils");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=o?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(r,u,s):r[u]=e[u]}return r.default=e,n&&n.set(e,r),r}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(i){var u=i.row,a=i.onClickDelete,l=i.onClickEdit,p=i.previewText,c=i.buttons,f=(0,t.useContext)(n.ADD_SNIPPET_CALLBACK).value,d=(0,o.useStateIfMounted)(!u.text),v=d[0],w=d[1],b=(0,t.useRef)(!1),C=(0,o.useValueRef)(null==u?void 0:u.options),h=(0,t.useCallback)(function(){return l(u.id)},[l,u.id]),k=(0,t.useCallback)(function(){return a(u.id)},[a,u.id]),y=(0,t.useCallback)(function(e){var t=u.text,n=void 0===t?"":t,r=u.options,o=r.prefix,i=r.space_before,s=r.default_count;if(2===(null==e?void 0:e.button))e.preventDefault(),b.current=!0,f(n,(null==e?void 0:e.initialClick)?"start":void 0);else if(null==e?void 0:e.initialClick){f((i?" ":"")+(o||"")+n.repeat(s||1),"start")}else f(n)},[f,u]),x=(0,t.useCallback)(function(){var e,t,n=null!==(e=C.current)&&void 0!==e?e:{},r=n.space_after,o=n.suffix,i=void 0===o?"":o;b.current||!i&&!r?f("","end"):f(i+(r?" ":""),"end"),b.current=!1,null===(t=document.getElementById("tts-editor-input"))||void 0===t||t.focus()},[f]),O=(0,o.useHoldClick)(y,x,100);return e.h("li",{className:"tts-snippets-row","data-edit":""+v},e.h("div",{className:"tts-snippets-row-left"},c||e.h("button",s({type:"button",className:"icon-button tts-snippets-row-control tts-snippets-row-control-add",title:"Add to message"},O,{onContextMenu:function(e){return e.preventDefault()},"data-help":"snippet-insert"}),e.h("i",{className:"fas fa-plus"})),e.h("div",{className:"tts-snippets-row-text","data-help":"snippet-text"},e.h(r.Snippet,{data:u}))),!c&&e.h(r.SnippetsRowControls,{row:u,open:v,setOpen:w,onClickEdit:h,onClickDelete:k,previewText:p}))};exports.SnippetsRow=a;
},{"preact":"aSor","preact/hooks":"MwGB","~/model":"p5UI","~/view/components":"AOf9","~/view/utils":"YORt"}],"pH4r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SnippetsRowControls=void 0;var t=s(require("preact")),e=require("preact/hooks"),o=require("~/common"),n=require("~/view/utils");function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,o=new WeakMap;return(r=function(t){return t?o:e})(t)}function s(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=r(e);if(o&&o.has(t))return o.get(t);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var a=s?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=t[i]}return n.default=t,o&&o.set(t,n),n}var i={once:!0},a=function(r){var s=r.row,a=r.open,u=r.setOpen,c=r.onClickEdit,p=r.onClickDelete,l=r.previewText,f=s.options.default_count,d=(0,n.useRequestStatus)(l),b=d[0],w=d[1];(0,e.useEffect)(function(){if(a){var t=function(){setTimeout(function(){return u(!1)},50)};return window.addEventListener("mouseup",t,i),function(){window.removeEventListener("mouseup",t,i)}}},[a]);var m=(0,e.useCallback)(function(){(0,o.do_confirm)("Are you sure you want to delete this snippet?")&&p()},[p]),v=(0,n.useCopyToClipboard)((0,n.snippet_to_string)(s).trim()),h=(0,n.useCopyToClipboard)(s.text.repeat(Math.round((f||2)/2)));return t.h("div",{className:"tts-snippets-row-controls","data-open":""+a},t.h("button",{className:"tts-snippets-row-control icon-button tts-snippets-row-controls-button",onClick:function(){return u(!a)},"data-help":"snippet-actions"},t.h("i",{className:"fas fa-cog"})),t.h("div",{className:"tts-snippets-row-controls-menu"},t.h("button",{className:"icon-button tts-snippets-row-control",title:"Listen",onClick:function(){return w(s,f)},disabled:b.pending},t.h("i",{className:"fas fa-volume-up"})),t.h("button",{className:"icon-button tts-snippets-row-control",title:"Copy to Clipboard",onClick:v,onAuxClick:h,onContextMenu:function(t){t.preventDefault(),h()}},t.h("i",{className:"fas fa-clipboard"})),t.h("button",{className:"icon-button tts-snippets-row-control",title:"Edit",onClick:c},t.h("i",{className:"fas fa-edit"})),t.h("button",{className:"icon-button tts-snippets-row-control",title:"Delete",onClick:m},t.h("i",{className:"fas fa-trash"}))))};exports.SnippetsRowControls=a;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/view/utils":"YORt"}],"Rp0m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SnippetsRowEdit=void 0;var e=r(require("preact")),t=require("preact/hooks"),n=require("~/common"),a=require("~/model"),i=require("~/view/components"),s=require("~/view/utils");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function r(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var r=i?Object.getOwnPropertyDescriptor(e,s):null;r&&(r.get||r.set)?Object.defineProperty(a,s,r):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a}var u={text:"",promise:new Promise(function(){}),data:""},l=function(o){var r,l,p,c,d,f,h,m,v=o.row,b=void 0===v?{}:v,x=o.updateRow,N=o.dismiss,y=o.isNew,g=(0,t.useContext)(a.MODAL_DIRTY).setValue,w=(0,s.useStateIfMounted)(null!==(r=b.text)&&void 0!==r?r:""),S=w[0],k=w[1],M=(0,s.useStateIfMounted)(null!==(p=null===(l=b.options)||void 0===l?void 0:l.prefix)&&void 0!==p?p:""),_=M[0],I=M[1],O=(0,s.useStateIfMounted)(null!==(d=null===(c=b.options)||void 0===c?void 0:c.suffix)&&void 0!==d?d:""),P=O[0],R=O[1],D=(0,s.useStateIfMounted)((null===(f=b.options)||void 0===f?void 0:f.default_count)||1),j=D[0],q=D[1],C=(0,s.useStateIfMounted)(null===(h=b.options)||void 0===h?void 0:h.space_before),E=C[0],W=C[1],A=(0,s.useStateIfMounted)(null===(m=b.options)||void 0===m?void 0:m.space_after),T=A[0],B=A[1],H=(0,s.usePlaySnippet)("snippet-modal-player",u),J=H[0],L=H[1],V=H[2],Y=(0,t.useRef)();(0,t.useEffect)(function(){var e;null===(e=Y.current)||void 0===e||e.focus()},[]);var z={id:b.id,text:S,options:{prefix:_,suffix:P,default_count:j,space_before:E,space_after:T}};return(0,t.useEffect)(function(){g(y?!!S||!!_||!!P:!(0,n.deep_equals)(z,b))},[z,b]),z.id=(0,t.useMemo)(function(){var e;return b.id?b.id:null!==(e=b.id)&&void 0!==e?e:(0,n.generate_id)((0,s.snippet_to_string)(z))},[b.id,S,_,P,j,E,T]),e.h(i.Modal,{className:"tts-snippets-modal",dismiss:N},e.h(i.ModalHeader,{dismiss:N},e.h("h3",null,b.text?"Edit":"Create New"," Snippet")),e.h("div",{className:"modal-body"},e.h("div",{className:"row tts-snippets-modal-text tts-text"},e.h("label",{className:"tts-snippets-modal-prefix",title:"Some snippets need to start with a different string than the repeated characters (e.g. the 'y' in yDRDRDR)."},e.h("span",null,"Prefix"),e.h("input",{value:_,onInput:function(e){return I(e.target.value)}})),e.h("label",{className:"tts-snippets-modal-input"},e.h("span",null,"Main Text"),e.h("input",{ref:Y,value:S,onInput:function(e){return k(e.target.value)}})),e.h("label",{className:"tts-snippets-modal-suffix",title:"Text to insert after all repetitions of the snippet (e.g. punctuation)"},e.h("span",null,"Suffix"),e.h("input",{value:P,onInput:function(e){return R(e.target.value)}})),e.h("button",{className:"icon-button",onClick:function(){return V(z)},disabled:!S},e.h("i",{className:"fas fa-volume-up"})),e.h("div",{className:"tts-submit-status"},L.pending?e.h("i",{className:"fas fa-circle-notch"}):L.success?e.h("i",{className:"fas fa-check-circle"}):L.error?e.h("i",{className:"fas fa-exclamation-circle"}):null)),e.h("div",{className:"row"},e.h(i.AudioPlayer,{id:"snippet-modal-player",data:J}),L.error&&e.h("p",{className:"error"},JSON.stringify(L.error,null,2))),e.h("h4",null,"Options"),e.h("div",{className:"row"},e.h("label",{className:"tts-snippets-modal-checkbox",title:"When adding this snippet to the message, put a space between the existing text and the snippet."},e.h("input",{type:"checkbox",checked:E,onInput:function(e){return W(e.target.checked)}}),"Space Before"),e.h("label",{className:"tts-snippets-modal-checkbox",title:"When adding this snippet to the message, put a space after the snippet."},e.h("input",{type:"checkbox",checked:T,onInput:function(e){return B(e.target.checked)}}),"Space After"),e.h("label",{className:"tts-snippets-modal-count",title:"By default, the snippet's main text will be repeated this many times. This can be overridden in the Snippet sidebar."},e.h("input",{type:"number",value:j,min:1,max:20,step:1,onInput:function(e){var t=e.target.valueAsNumber;isNaN(t)||q(t)}}),"Default Repeat Count"))),e.h("div",{className:"modal-footer"},e.h("button",{className:"btn",onClick:N},"Cancel"),!y&&e.h(i.ExportSnippet,{snippet:z}),e.h("button",{className:"btn btn-primary",onClick:function(){x(z),g(!1),N()},disabled:!S},"Save")))};exports.SnippetsRowEdit=l;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI","~/view/components":"AOf9","~/view/utils":"YORt"}],"PJhF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Snippet=void 0;var e=a(require("preact")),t=require("~/view/utils");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var r={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var n=p?Object.getOwnPropertyDescriptor(e,i):null;n&&(n.get||n.set)?Object.defineProperty(r,i,n):r[i]=e[i]}return r.default=e,a&&a.set(e,r),r}var r=function(s){var a=s.data,r=s.className,p=s.showRepeats;return e.h("div",{className:"snippet tts-text"+(0,t.maybeClassName)(r)},e.h("div",{className:"snippet-space-before","data-show":""+!!a.options.space_before}),a.options.prefix&&e.h("div",{className:"snippet-prefix"},a.options.prefix),e.h("div",{className:"snippet-text"},a.text),p&&a.options.default_count>1&&e.h("div",{className:"snippet-text-repeats",title:"Repeat Count: "+a.options.default_count},a.text.repeat(a.options.default_count-1)),a.options.suffix&&e.h("div",{className:"snippet-suffix"},a.options.suffix),e.h("div",{className:"snippet-space-after","data-show":""+!!a.options.space_after}))};exports.Snippet=r;
},{"preact":"aSor","~/view/utils":"YORt"}],"kCJk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SnippetsHeader=exports.SnippetsList=void 0;var e=a(require("preact")),n=require("preact/hooks"),t=require("~/common"),r=require("~/model"),u=require("~/view/components"),i=require("~/view/utils");function o(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(o=function(e){return e?t:n})(e)}function a(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o(n);if(t&&t.has(e))return t.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=u?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}var s=function(){return(s=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u]);return e}).apply(this,arguments)},c=function(){return{"data-help":"snippets-group"}},l=function(e,n,t){return n.id},d=function(e,n){return n.test((0,i.snippet_to_string)(e))},p={text:"",promise:new Promise(function(){}),data:""},f=function(){var o=(0,i.useContextState)(r.SNIPPETS),a=o[0],f=o[1],v=(0,i.useContextState)(r.SNIPPETS_SECTIONS),S=v[0],b=v[1],h=(0,i.useValueRef)(a),C=(0,i.useValueRef)(S),w=(0,i.useStateIfMounted)(void 0),y=w[0],k=w[1],P=(0,i.useStateIfMounted)(void 0),R=P[0],_=P[1],M=(0,i.useStateIfMounted)(!1),N=M[0],O=M[1],g=(0,n.useRef)(null),E=(0,n.useCallback)(function(e,n){e&&!n||(g.current=null!=n?n:null,k(e))},[]),x=(0,i.useSaveSnippetInSection)(C,b),I=(0,n.useCallback)(function(e,n,r){f((0,t.replace_item_in)(h.current,function(n){return n.id===e},n,"end")),x(e,n,r)},[x]),j=(0,n.useCallback)(function(e){var n;x(e,void 0,null===(n=g.current)||void 0===n?void 0:n.name),f((0,t.remove_item_from)(h.current,function(n){return n.id===e}))},[x]),H=(0,i.usePlaySnippet)("snippets-sidebar-player",p),A=H[0],q=H[2],D=(0,n.useMemo)(function(){return a.find(function(e){return e.id===y})},[a,y]),F=(0,n.useMemo)(function(){var e;if(null!=R)return null!==(e=S.find(function(e){return e.name===R}))&&void 0!==e?e:{name:"",open:!1,data:[]}},[S,R]),T=(0,n.useCallback)(function(e,n){b((0,t.replace_item_in)(C.current,function(n){return n.name===e},n,"end").filter(function(e){return!!e}))},[]),V=(0,n.useCallback)(function(e){var n=h.current.filter(function(n){return!e.data.includes(n.id)});f(n)},[]),z=(0,i.useStateIfMounted)(""),W=z[0],B=z[1],L=(0,n.useMemo)(function(){return new r.ImmutableContextValue(W,B)},[W]),K=(0,n.useMemo)(function(){return W?[W]:null},[W]),G=(0,u.useOrganizerSearch)(a,S,void 0,K,d),J=G[0],Q=G[1],U=(0,i.useValueRef)(!!J||!!Q),X=(0,n.useMemo)(function(){return(null!=Q?Q:S).map(function(e){return s(s({},e),{data:e.data.map(function(e){return a.find(function(n){return n.id===e})})})})},[Q,S,a]),Y=(0,n.useCallback)(function(e){var n=[];n=U.current?e.reduce(function(e,n){return(0,t.replace_item_in)(e,function(e){return e.name===n.name},function(e){return s(s({},e),{open:n.open})})},C.current):e.map(function(e){return s(s({},e),{data:e.data.map(function(e){return e.id})})}),b(n)},[]),Z=(0,n.useCallback)(function(){V(F),b((0,t.remove_item_from)(C.current,function(e){return e.name===R}))},[F,R]),$=(0,n.useCallback)(function(){return _("")},[]),ee=(0,i.useRenderPropsFunc)(function(n){return e.h(m,s({},n,{onClickAdd:$}))},[],"SnippetsHeader"),ne=(0,i.useRenderPropsFunc)(function(n){var t=n.section;return e.h("button",{className:"icon-button tts-snippets-section-edit",onClick:function(){return _(t.name)}},e.h("i",{className:"fas fa-edit"}))},[],"SnippetsSectionHeaderControls"),te=(0,i.useRenderPropsFunc)(function(n){var t=n.section;return e.h("div",{className:"organizer-section-item tts-snippets-section-add-row-item"},e.h("button",{className:"tts-snippets-section-add-row",type:"button",onClick:function(){return E("",s(s({},t),{data:t.data.map(function(e){return e.id})}))}},e.h("i",{className:"fas fa-plus"}),"Add a Snippet"))},[],"SnippetsSectionAdd"),re=(0,i.useRenderPropsFunc)(function(n){var t=n.data,r=n.buttons,i=n.reorderEnabled;return e.h(u.SnippetsRow,{row:t,onClickDelete:j,onClickEdit:function(){var e=C.current.find(function(e){return e.data.includes(t.id)});E(t.id,e)},previewText:q,buttons:i?r:void 0})},[q],"SnippetsRow"),ue=(0,u.useModal)(),ie=ue[0],oe=ue[1];(0,n.useEffect)(function(){oe(null!=y)},[y]);var ae=(0,u.useModal)(),se=ae[0],ce=ae[1];return(0,n.useEffect)(function(){ce(null!=R)},[R]),e.h("div",{className:"tts-snippets"},e.h(u.SEARCH_BAR.Provider,{value:L},e.h("div",{className:"tts-snippets-list"},e.h(u.Organizer,{RenderHeader:ee,RenderSectionHeaderControls:ne,RenderSectionExtras:te,RenderItem:re,getSectionHeaderProps:c,getItemKey:l,sections:X,reorderEnabled:N,setReorderEnabled:O,updateSections:Y}))),e.h(u.AudioPlayer,{id:"snippets-sidebar-player",className:"tts-snippets-sidebar-player invisible",data:A}),e.h(ie,null,e.h(u.SnippetsRowEdit,{row:D,updateRow:function(e){var n;return I(y,e,null===(n=g.current)||void 0===n?void 0:n.name)},onClickDelete:function(){var e;return I(y,void 0,null===(e=g.current)||void 0===e?void 0:e.name)},isNew:!D,dismiss:function(){oe(!1)&&E(null,null)}}),")"),e.h(se,null,e.h(u.SnippetsSectionModal,{section:F,updateSection:function(e){return T(R,e)},deleteSection:Z,dismiss:function(){ce(!1)&&_(null)}})))};exports.SnippetsList=f;var m=function(n){var t=n.className,r=n.buttons,i=n.reorderEnabled,o=n.onClickAdd;return e.h("div",{className:"row tts-col-header "+t},e.h(u.SearchBar,null),e.h("h4",{"data-help":"snippets-overview"},"Snippets"),e.h("div",{className:"tts-col-header-controls"},r,!i&&e.h("button",{className:"tts-snippets-add-section icon-button",type:"button",onClick:o,title:"Create a new group of snippets"},e.h("i",{className:"fas fa-plus"}))))};exports.SnippetsHeader=m;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI","~/view/components":"AOf9","~/view/utils":"YORt"}],"kJeQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExportSnippetsSection=void 0;var e=i(require("preact")),t=require("preact/hooks"),r=require("~/model"),n=require("~/view/components");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var p=i?Object.getOwnPropertyDescriptor(e,a):null;p&&(p.get||p.set)?Object.defineProperty(n,a,p):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}var a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},p=function(o){var i=o.section,p=(0,t.useContext)(r.SNIPPETS).value,s=(0,t.useMemo)(function(){var e;return"tts-snippets-section-"+(null===(e=i.name)||void 0===e?void 0:e.split(" ").map(function(e){return e.length>0?""+e[0].toUpperCase()+e.slice(1).toLowerCase():""}).join("").replace(/\W/gi,""))+".json"},[i]),u=(0,t.useMemo)(function(){var e=a(a({},(0,n.export_snippets_section)(i)),{data:(0,n.export_snippets)(p.filter(function(e){return i.data.includes(e.id)}))});return(0,n.generate_file)(e)},[i]);return e.h("a",{className:"btn btn-with-icon",href:"data:application/json;charset=utf-8,"+encodeURIComponent(u),download:s,"data-help":"export-snippet"},e.h("i",{class:"fas fa-share-square"}),"Export")};exports.ExportSnippetsSection=p;
},{"preact":"aSor","preact/hooks":"MwGB","~/model":"p5UI","~/view/components":"AOf9"}],"zWHA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SnippetsSectionModal=void 0;var e=u(require("preact")),t=require("preact/hooks"),n=require("~/common"),r=require("~/model"),o=require("~/view/components"),i=require("~/view/components/export/ExportSnippetSection"),a=require("~/view/utils");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c=function(s){var u=s.section,c=s.updateSection,p=s.deleteSection,f=s.dismiss,d=(0,t.useContext)(r.MODAL_DIRTY).setValue,m=null==u?void 0:u.name,v=(0,t.useRef)(),h=(0,a.useStateIfMounted)(m),b=h[0],y=h[1],O=(0,t.useCallback)(function(){(0,n.do_confirm)("Are you sure you want to delete this group and all snippets in it?")&&(p(),d(!1),f())},[]);return(0,t.useEffect)(function(){var e;return null===(e=v.current)||void 0===e?void 0:e.focus()},[]),(0,t.useEffect)(function(){d(!!(null==u?void 0:u.name)&&m!==b)},[m,b,!!u]),e.h(o.Modal,{className:"tts-snippets-section-modal",dismiss:f},e.h(o.ModalHeader,{dismiss:f},e.h("h3",null,m?"Edit":"Create New"," Snippet Group")),e.h("div",{className:"modal-body"},e.h("label",{className:"tts-snippets-section-modal-input"},e.h("span",null,"Group Name"),e.h("input",{ref:v,value:b,onInput:function(e){return y(e.target.value)}})),m&&e.h("button",{className:"btn btn-negative btn-with-icon",onClick:O},e.h("i",{className:"fas fa-trash"}),"Delete Group")),e.h("div",{className:"modal-footer"},e.h("button",{className:"btn",onClick:f},"Cancel"),u&&u.name&&e.h(i.ExportSnippetsSection,{section:u}),e.h("button",{className:"btn btn-primary",onClick:function(){c(l(l({},u),{name:b})),d(!1),f()},disabled:!b},"Save")))};exports.SnippetsSectionModal=c;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI","~/view/components":"AOf9","~/view/components/export/ExportSnippetSection":"kJeQ","~/view/utils":"YORt"}],"IyBR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./Row");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./RowControls");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./RowEdit");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./Snippet");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./Snippets");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var u=require("./SectionEdit");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});
},{"./Row":"DaPg","./RowControls":"pH4r","./RowEdit":"Rp0m","./Snippet":"PJhF","./Snippets":"kCJk","./SectionEdit":"zWHA"}],"DqsT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=d(require("preact")),t=require("preact/compat"),n=require("preact/hooks"),a=require("~/model"),r=require("~/view/components"),o=require("~/view/utils");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var d=r?Object.getOwnPropertyDescriptor(e,o):null;d&&(d.get||d.set)?Object.defineProperty(a,o,d):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}var s=function(){var t=(0,n.useContext)(a.HELP_ITEM).value,i=(0,r.useModal)(),d=i[0],s=i[1],l=(0,o.useSaveMessage)(),u=l[0],c=l[1],v=(0,o.useStateRef)(null),p=v[0],m=v[1],h=v[2],f=(0,o.useUploadFiles)(m);return(0,n.useEffect)(function(){var e=function(e){e.preventDefault(),e.stopPropagation()},t=function(e){var t;e.preventDefault(),e.stopPropagation(),(null===(t=document.getElementById("modal-container"))||void 0===t?void 0:t.childElementCount)<=0&&(f(e.dataTransfer.files),e.dataTransfer.clearData())},n=function(e){var t,n,a,o;if(!((null===(t=document.getElementById("modal-container"))||void 0===t?void 0:t.childElementCount)>0&&document.getElementById("tts-export-modal")&&h.current)){if((null===(a=null===(n=null==e?void 0:e.clipboardData)||void 0===n?void 0:n.files)||void 0===a?void 0:a.length)>0)return e.preventDefault(),e.stopPropagation(),void f(e.clipboardData.files).then(function(){e.clipboardData.clearData()});var i=null===(o=null==e?void 0:e.clipboardData)||void 0===o?void 0:o.getData("text");try{var d=JSON.parse(i),s=(0,r.validate_import_data)(d);s&&(e.preventDefault(),e.stopPropagation(),m(s))}catch(e){}}};return document.addEventListener("paste",n),document.addEventListener("dragover",e),document.addEventListener("dragenter",e),document.addEventListener("drop",t),document.addEventListener("dragleave",e),document.addEventListener("dragexit",e),document.addEventListener("dragend",e),function(){document.removeEventListener("paste",n),document.removeEventListener("dragover",e),document.removeEventListener("dragenter",e),document.removeEventListener("drop",t),document.removeEventListener("dragleave",e),document.removeEventListener("dragexit",e),document.removeEventListener("dragend",e)}},[]),e.h(e.Fragment,null,e.h("div",{className:"header"},e.h("div",{className:"header-left"},e.h("h1",null,"TTS Playground"),e.h("h4",null,"By BlueLdr")),e.h("div",{className:"header-right"},e.h(r.HelpButton,null),e.h("button",{className:"header-button",type:"button",onClick:function(){return s(!0)}},e.h("i",{className:"fas fa-cog"})),e.h(r.ImportExport,{importData:p,setImportData:m}),e.h("button",{className:"help-link btn btn-primary","data-help":"intro-start"},"App Overview"),e.h("button",{className:"help-link btn btn-primary","data-help":"help-docs"},"Read the TTS Guide"))),e.h("div",{className:"tts-container"},e.h("div",{className:"tts-container"},e.h("div",{className:"tts-col tts-col-messages"},e.h("div",{"data-help-intro-highlight":"intro-messages"===t},e.h(r.MessagesList,{updateMessages:c}))),e.h("div",{className:"tts-col tts-col-main"},e.h(r.Editor,{message:u,updateMessages:c}),e.h(r.Footer,null)),e.h("div",{className:"tts-col tts-col-snippets"},e.h("div",{"data-help-intro-highlight":"intro-snippets"===t},e.h(r.SnippetsList,null))))),e.h(d,null,e.h(r.SettingsModal,{dismiss:function(){return s(!1)}})))},l=(0,t.memo)(s);exports.default=l;
},{"preact":"aSor","preact/compat":"AQ6k","preact/hooks":"MwGB","~/model":"p5UI","~/view/components":"AOf9","~/view/utils":"YORt"}],"AOf9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={View:!0};Object.defineProperty(exports,"View",{enumerable:!0,get:function(){return f.default}});var t=require("./App");Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===t[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return t[r]}}))});var r=require("./context");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in exports&&exports[t]===r[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return r[t]}}))});var o=require("./common");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in exports&&exports[t]===o[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return o[t]}}))});var n=require("./editor");Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in exports&&exports[t]===n[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return n[t]}}))});var u=require("./export");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in exports&&exports[t]===u[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return u[t]}}))});var p=require("./Footer");Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in exports&&exports[t]===p[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return p[t]}}))});var c=require("./help");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in exports&&exports[t]===c[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return c[t]}}))});var s=require("./Loading");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in exports&&exports[t]===s[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return s[t]}}))});var a=require("./messages");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in exports&&exports[t]===a[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return a[t]}}))});var i=require("./settings");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in exports&&exports[t]===i[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return i[t]}}))});var l=require("./snippets");Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in exports&&exports[t]===l[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return l[t]}}))});var f=b(require("./View"));function b(e){return e&&e.__esModule?e:{default:e}}
},{"./App":"nWoM","./context":"BcoN","./common":"Qr85","./editor":"Yncg","./export":"A6Do","./Footer":"OlUs","./help":"sXRs","./Loading":"zWij","./messages":"hurr","./settings":"OiEO","./snippets":"IyBR","./View":"DqsT"}],"aeYJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.convert_snippets_to_categories=exports.add_messages_to_categories=exports.add_props_to_messages=void 0;var e=require("~/common"),t=require("~/common/sample-data"),n=require("~/view/utils"),r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=function(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(e){try{u(r.next(e))}catch(t){s(t)}}function i(e){try{u(r.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,i)}u((r=r.apply(e,t||[])).next())})},s=function(e,t){var n,r,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(i){s=[6,i],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}},a=localStorage.getItem("tts-loaded-version"),i="1.4.0",u=function(e){return parseInt((null!=e?e:"1.0.0").replace(/[^0-9]/gi,""))},c=a?u(a):0,l=u(i),p=function(){var n,o=null!==(n=(0,e.get_stored_messages)())&&void 0!==n?n:[];o=o.map(function(n,o){var s,a;if(!n.id){var i=t.sample_messages.findIndex(function(e){return e.name===n.name&&e.text===n.text});n.id=i>-1?"sample-message-"+(i+1):(0,e.generate_id)(n.text)}return r(r({},n),{options:r(r({},n.options),{voice:null!==(s=n.options.voice)&&void 0!==s?s:e.DEFAULT_VOICE,speed_char:null!==(a=n.options.speed_char)&&void 0!==a?a:e.DEFAULT_SPEED_CHAR})})}),(0,e.set_stored_messages)(o)};exports.add_props_to_messages=p;var d=function(){var n,r=null!==(n=(0,e.get_stored_messages)())&&void 0!==n?n:[],o={name:"Sample Messages",open:!0,data:[]};r.forEach(function(e){t.sample_messages.some(function(t){return t.id===e.id||t.name===e.name&&t.text===e.text})&&o.data.push(e.id)}),(0,e.set_stored_message_categories)([o])};exports.add_messages_to_categories=d;var f=function(){var o=(0,e.get_stored_snippets)();if(o!==t.sample_snippets){var s=[],a=o.map(function(t){return r(r({},t),{data:t.data.map(function(t){return t.id||(t.id=(0,e.generate_id)((0,n.snippet_to_string)(t))),s.push(t),t.id})})});(0,e.set_stored_snippets_sections)(a),(0,e.set_stored_snippets)(s)}};exports.convert_snippets_to_categories=f;var _={"v1.1.0":[p],"v1.3.0":[d,f]},v=function(e){return o(void 0,void 0,void 0,function(){var t,n;return s(this,function(r){for(t=0,n=e;t<n.length;t++)(0,n[t])();return localStorage.setItem("tts-loaded-version",i),window.location.reload(),[2]})})},m=function(){if(i===a)return!1;var e=Object.entries(_).filter(function(e){var t=e[0],n=u(t);return n<=l&&n>c}).reduce(function(e,t){var n=t[1];return e.concat(n)},[]);return e.length<=0?(localStorage.setItem("tts-loaded-version",i),!1):(v(e),!0)},g=m;exports.default=g;
},{"~/common":"rTqy","~/common/sample-data":"vzeQ","~/view/utils":"YORt"}],"IpGw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"perform_startup_updates",{enumerable:!0,get:function(){return e.default}});var e=t(require("./startup"));function t(e){return e&&e.__esModule?e:{default:e}}
},{"./startup":"aeYJ"}],"iUHz":[function(require,module,exports) {
"use strict";require("preact/debug");var e=u(require("preact")),r=require("~/view/components"),t=require("./updates");function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}function u(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var u={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in e)if("default"!==p&&Object.prototype.hasOwnProperty.call(e,p)){var o=a?Object.getOwnPropertyDescriptor(e,p):null;o&&(o.get||o.set)?Object.defineProperty(u,p,o):u[p]=e[p]}return u.default=e,t&&t.set(e,u),u}var a=document.getElementById("app");a&&((0,t.perform_startup_updates)()?e.render(e.h(r.LoadingApp,null),a,a.lastElementChild||void 0):e.render(e.h(r.App,null),a,a.lastElementChild||void 0));
},{"preact/debug":"jYgX","preact":"aSor","~/view/components":"AOf9","./updates":"IpGw"}]},{},["iUHz"], null)
//# sourceMappingURL=/app.3bc61526.js.map</script></html>