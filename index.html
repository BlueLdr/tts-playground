<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>TTS Playground</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="" referrerpolicy="no-referrer"><style>*,:after,:before{box-sizing:border-box}body,html{font:16px Helvetica Neue,arial,sans-serif;font-weight:400;color:#f8f8f8;background-color:#303030}body{margin:0}audio{border-radius:20px;width:500px}h1{text-align:center}.link,a{color:#0f79e7;cursor:pointer}.link:hover,a:hover{color:#2581ff}.link{text-decoration:underline}.header{background-color:#484848;box-shadow:0 2px 5px -3px rgba(0,0,0,.8);padding:.5rem 1rem;height:3.5rem;display:flex;justify-content:space-between;align-items:center}.header h1,.header h4{margin:0;display:inline}.header h1{margin-right:1rem}.header h4{opacity:.8}.row{display:flex;justify-content:flex-start;align-items:center;margin:1rem 0}.row:first-child{margin-top:0}.row:last-child{margin-bottom:0}.row>*{margin-left:1rem}.row>:first-child{margin-left:0}.invisible{position:absolute;width:1px;height:1px;visibility:hidden;opacity:0;z-index:-999;pointer-events:none;overflow:hidden;top:50%;left:50%}@-moz-keyframes spinner{0%{transform:rotate(0deg)}to{transform:rotate(359.9deg)}}@-webkit-keyframes spinner{0%{transform:rotate(0deg)}to{transform:rotate(359.9deg)}}@-o-keyframes spinner{0%{transform:rotate(0deg)}to{transform:rotate(359.9deg)}}@keyframes spinner{0%{transform:rotate(0deg)}to{transform:rotate(359.9deg)}}button{cursor:pointer}.btn,button{appearance:none;border:none}.btn{font-size:1rem;color:#e8e8e8;background-color:grey;border-radius:4px;transition:background-color 80ms;display:flex;justify-content:center;align-items:center;padding:.375rem 1rem}.btn:hover{background-color:#909090}.btn:active{background-color:#707070}.btn:disabled{color:#a0a0a0;background-color:#606060;pointer-events:none}.btn-large{padding:1rem 1.5rem}.btn-primary{background-color:#0f79e7}.btn-primary:hover{background-color:#2581ff}.btn-primary:active{background-color:#0060de}.btn-primary:disabled{background-color:#344457}.btn-negative{background-color:#d50f0f}.btn-negative:hover{background-color:#d94a4a}.btn-negative:active{background-color:#aa2c2c}.btn-negative:disabled{background-color:#683030}.btn-with-icon i{margin-right:1rem}.btn-with-icon.icon-only i{margin-right:0}.btn-multi{display:flex;justify-content:center;align-items:center}.btn-left{border-right:1px solid #404040;border-top-right-radius:0;border-bottom-right-radius:0;margin-right:0}.btn-right{border-top-left-radius:0;border-bottom-left-radius:0;margin-left:0}.icon-button{color:#707070;font-size:1.25rem;background-color:transparent;transition:color .1s ease}.icon-button:hover{color:#a0a0a0}.icon-button:active{color:grey}.icon-button:disabled{pointer-events:none;color:#404040}input,textarea{font-family:Helvetica Neue,arial,sans-serif;font-size:1rem;color:#f8f8f8;background-color:#484848;border-radius:4px;padding:.25rem}input:focus,textarea:focus{background-color:#404040}textarea.invisible{visibility:visible}textarea.clipboard-input{position:fixed;top:50%}input{background-color:#606060;border:1px solid grey;padding:.5rem;height:2.25rem}input:focus{background-color:#484848;border-color:#a0a0a0}input:disabled{color:#a0a0a0;background-color:#404040;border-color:#606060}input[data-invalid=true]{border-color:#aa2c2c;outline-color:#aa2c2c}select{cursor:pointer}label.checkbox,label.radio-button{display:flex;justify-content:flex-start;align-items:center;cursor:pointer}input[type=checkbox],input[type=radio]{height:auto;cursor:pointer}input[type=checkbox]+.checkbox-label,input[type=radio]+.radio-label{font-size:.875rem;margin-left:.5rem}.checkbox.toggle .toggle-switch{position:relative;cursor:pointer}.checkbox.toggle .toggle-switch:after,.checkbox.toggle .toggle-switch:before{content:" ";display:block;transition:.2s ease-in-out}.checkbox.toggle .toggle-switch:before{background-color:#606060;border-radius:.875rem;width:3rem;height:1.75rem;z-index:2}.checkbox.toggle .toggle-switch:after{background-color:#d8d8d8;background-clip:padding-box;border-radius:.875rem;position:absolute;top:50%;left:0;transform:translate(3px,-50%);width:calc(1.75rem - 6px);height:calc(1.75rem - 6px);z-index:3}.checkbox.toggle input:checked+.toggle-switch:before{background-color:#049032}.checkbox.toggle input:checked+.toggle-switch:after{transform:translate(calc(3rem - 3px - 100%),-50%)}.checkbox.toggle input:active+.toggle-switch:after{background-color:#a0a0a0}.modal{background-color:#303030;border-radius:8px;box-shadow:2px 4px 8px -3px rgba(0,0,0,.8);position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);min-height:10rem;max-height:calc(100% - 2rem);min-width:30rem;max-width:calc(100% - 2rem);display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start}.modal-container{position:fixed;top:0;left:0;z-index:99}.modal:empty{display:none}.modal-backdrop{background-color:rgba(24,24,24,.9);position:relative;width:100vw;height:100vh;z-index:100}.modal-body,.modal-footer,.modal-header{padding:1.25rem;width:100%}.modal-footer,.modal-header{display:flex;justify-content:space-between;align-items:center;flex:0 0 auto}.modal-header{border-bottom:1px solid #484848}.modal-header h3{margin:0}.modal-body{flex:1 1 auto}.modal-footer{border-top:1px solid #484848}.modal-header-tab{appearance:none;background:none;font-family:inherit;text-align:inherit;align-items:unset;padding:0;color:#f8f8f8;font-size:1rem;border:none;border-right:1px solid #484848;flex:1 1 auto;text-align:center}.modal-header-tabs{display:flex;justify-content:space-between;align-items:center}.modal-header-tabs .modal-close{width:2.5rem}.modal-header-tab,.modal-header-tabs .modal-close{height:2.5rem}.modal-header-tab:first-child{border-top-left-radius:8px}.modal-header-tab:focus,.modal-header-tab:hover{background-color:#909090}.modal-header-tab:active{background-color:grey}.modal-header-tab[data-active=true]{background-color:#344457}.modal-scroll-content{position:relative;overflow-x:hidden;overflow-y:auto}.tts-container{align-items:flex-start;margin:auto}.tts-container,.tts-submit-status{display:flex;justify-content:center}.tts-submit-status{align-items:center}.tts-submit-status .fa-circle-notch{color:#5ab2ff;animation:spinner 1.5s linear;animation-iteration-count:infinite}.tts-submit-status .fa-check-circle{color:#60ee80}.tts-submit-status .fa-exclamation-circle{color:#ee6050}.tts-col{position:relative}.tts-col-header{height:2.5rem;background-color:#303030;position:sticky;top:0;z-index:2}.tts-col-header,.tts-col-header.row{margin:.75rem 0}.tts-col-header h4{margin:0}.header-right{display:flex;flex-direction:row-reverse;justify-content:flex-end;align-items:center}.tts-col-main{max-width:40rem;flex:1 1 100%}.tts-header-top{display:flex;justify-content:space-between;align-items:center}.tts-header-controls{display:flex;justify-content:flex-end;align-items:center}.tts-header-controls>:not(:last-child){margin-right:.75rem}.tts-options{background-color:rgba(64,64,64,.5);border:1px solid #a0a0a0;border-bottom:none;border-top-left-radius:4px;border-top-right-radius:4px;padding:1rem;display:flex;justify-content:space-between;align-items:center}.tts-options-reset{font-size:1.25rem;border:2px solid transparent;display:flex;justify-content:center;align-items:center;padding:.5rem}.tts-options-item{display:flex;justify-content:space-between;align-items:flex-start;flex-direction:column;height:3.25rem}.tts-options-item:not(:last-child){margin-right:1rem}.tts-options-item-label{display:flex;justify-content:flex-start;align-items:center;padding:.125rem 0}.tts-options-item input[type=range]{border:none;height:1.5rem;padding:0 .5rem;margin:0}.tts-textarea{position:relative}.tts-textarea,.tts-textarea-container{max-width:100%}.tts-textarea-container{margin-top:0}.tts-textarea-preview,.tts-textarea textarea{border:1px solid #a0a0a0;border-radius:0;display:inline-block;appearance:textfield;-moz-default-appearance:textarea;margin-block:0;text-rendering:optimizeLegibility;vertical-align:text-bottom;cursor:text;white-space:pre-wrap;word-wrap:break-word;padding:.25rem;text-align:initial;text-indent:0;text-shadow:none;text-transform:none;word-spacing:normal;letter-spacing:normal;inset-block-end:0}.tts-textarea textarea{background:transparent;border-color:transparent;position:relative;max-width:100%;min-width:100%;min-height:10rem;padding:.25rem;z-index:3}.tts-textarea-preview{color:#a0a0a0;background:#404040;border-bottom-color:grey;border-top-color:grey;display:inline-block;position:absolute;top:0;left:0;width:100%;height:100%;padding:.25rem;z-index:2}.tts-textarea-preview span:first-child{visibility:hidden;margin-inline-end:.125rem}span.tts-textarea-preview-over-limit{color:transparent;background-color:#aa2c2c}.tts-textarea-preview span:last-child{word-break:break-all}.tts-textarea-preview:after{content:attr(data-cursor);color:#707070;display:block;position:absolute;bottom:.125rem;right:1.25rem;z-index:3}.tts-textarea-bottom{background:#404040;border:1px solid #a0a0a0;border-top:none;border-bottom-right-radius:4px;border-bottom-left-radius:4px;margin-bottom:1rem;display:flex;justify-content:space-between;align-items:center;padding:.375rem}.tts-textarea-submit{display:flex;justify-content:flex-start;align-items:center;width:100%}.tts-textarea-submit button{font-size:1.375rem;border-radius:8px;display:block;width:100%;padding:1rem}.tts-textarea-bits-checkbox{margin-right:.25rem}.tts-textarea-bits-string{width:7rem}.tts-pause-modal-duration input{max-width:4rem;margin:0 .5rem}.tts-col-main .tts-player{flex:1 1 100%}.tts-col-main .tts-player audio{width:100%}.tts-main-bottom{display:flex;justify-content:space-between;align-items:center}.tts-main-bottom button{padding:1rem}.tts-main-bottom button i{margin-right:1rem}button.tts-clipboard-button{padding:0}.tts-clipboard-button-inner{border-radius:inherit;padding:1rem;width:100%;height:100%}.tts-clipboard-button[data-success=true] .tts-clipboard-button-inner{animation:success-flash-bg 1.5s ease-out;animation-direction:normal;animation-play-state:running}@-moz-keyframes success-flash-bg{0%{background-color:#48c162}50%{background-color:#48c162}to{background-color:rgba(96,238,128,0)}}@-webkit-keyframes success-flash-bg{0%{background-color:#48c162}50%{background-color:#48c162}to{background-color:rgba(96,238,128,0)}}@-o-keyframes success-flash-bg{0%{background-color:#48c162}50%{background-color:#48c162}to{background-color:rgba(96,238,128,0)}}@keyframes success-flash-bg{0%{background-color:#48c162}50%{background-color:#48c162}to{background-color:rgba(96,238,128,0)}}.tts-export-button.icon-button{position:relative}.tts-export-button.icon-button .fa-file{color:#606060;margin-left:-.5rem}.tts-export-button.icon-button .fa-exchange-alt{color:grey;font-size:.875rem;position:absolute;top:52%;left:20%;z-index:1;transform:translate(-85%,-50%)}.tts-export-button.icon-button:hover .fa-file{color:#b0b0b0}.tts-export-button.icon-button:active .fa-file,.tts-export-button.icon-button:hover .fa-exchange-alt{color:#909090}.tts-export-button.icon-button:active .fa-exchange-alt{color:#707070}.tts-export-modal .modal-header{padding:0}.tts-export-export-form h4{margin-top:0}.tts-export-export-form ul{-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0;-webkit-padding-start:0;-webkit-padding-end:0;-moz-margin-start:0;-moz-padding-end:0;-moz-padding-start:0;margin-block-start:0;margin-block-end:0;padding-left:0;list-style:none;margin:1.5rem 0}.tts-export-export-form li{margin:.25rem 0}.tts-export-export-form li .checkbox,.tts-export-export-form li .checkbox-label{font-size:1rem}.tts-export-export-form .row{justify-content:center}.tts-import-file{padding:.5rem}.tts-import-input{color:#a0a0a0;border:6px dashed grey;border-radius:.75rem;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:6rem 0;cursor:pointer}.tts-import-input .fa-file-upload{font-size:5rem}.tts-import-input[data-dragged=true]{background-color:#484848}.tts-import-input-main,.tts-import-input-text{display:flex;justify-content:center;align-items:center}.tts-import-input-text{flex-direction:column;margin-left:1rem}.tts-import-input-text span:first-child,.tts-import-input-text span:last-child{font-size:1.125rem}.tts-import-input-text span:nth-child(2){color:#909090;font-weight:500;margin:.125rem 0}.tts-import-input-error{color:#aa2c2c;margin-top:2rem}.tts-import-conflicts.modal-body{max-height:calc(100vh - 10.5rem);overflow:hidden;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start}.tts-import-compare-row{padding:1.5rem 1rem}.tts-import-compare-row:not(:last-child){border-bottom:2px solid grey}.tts-import-compare-row-top{display:flex;justify-content:space-evenly;align-items:center}.tts-import-compare-row:first-child{background-color:#404040;position:sticky;top:0;z-index:10}.tts-import-compare-side label.btn{display:flex;justify-content:center;align-items:center;cursor:pointer;padding:.75rem 1.5rem}.tts-import-compare-side input{margin-right:1rem}.tts-import-compare-side[data-selected=false] label.btn:not(:hover):not(:focus){background-color:transparent}.tts-import-compare-side[data-selected=true] label.btn{background-color:#344457}.tts-import-compare-side[data-selected=true] label.btn:hover{background-color:#0060de}.tts-import-compare-header{display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer}.tts-import-compare-header[data-static=true]{cursor:auto}.tts-import-compare-header-input{font-size:.875rem;margin-top:.5rem}.tts-import-compare-message-text{background-color:#404040;border:1px solid #606060;border-radius:8px;padding:1rem;margin-top:1rem}.tts-import-compare-snippet-section{background-color:#707070;padding:1rem;position:sticky;top:4.875rem;z-index:10}.tts-import-compare-snippet-section>*{border-top:1px solid #909090;border-bottom:1px solid #909090}.tts-import-compare-snippet-section .tts-import-compare-row{padding:.75rem 1rem}.tts-import-compare-snippet-section .tts-import-compare-row:first-child{position:static}.tts-import-compare-snippets{min-width:560px;width:100%}.tts-import-snippets-duplicates{width:fit-content}.tts-import-snippets-duplicates table{width:100%}.tts-import-compare table,.tts-import-rename table{position:relative;border:1px solid #606060;border-top:none}.tts-import-compare tr,.tts-import-rename tr{display:table-row}.tts-import-compare tr.tts-import-compare-row:nth-child(2n),.tts-import-rename tr.tts-import-compare-row:nth-child(2n){background-color:#404040}.tts-import-compare td,.tts-import-compare th,.tts-import-rename td,.tts-import-rename th{display:table-cell}.tts-import-compare th,.tts-import-rename th{background-color:#484848;border-top:1px solid #606060;border-bottom:1px solid #606060;padding:1rem .375rem;text-align:left;height:4.875rem;position:sticky;top:0}.tts-import-compare td,.tts-import-rename td{vertical-align:top;padding:.5rem .375rem}.tts-import-compare td:not(:last-child),.tts-import-rename td:not(:last-child){border-right:1px solid hsla(0,0%,50.2%,.1)}.tts-import-compare td label.btn,.tts-import-rename td label.btn{justify-content:flex-start}.tts-import-rename-name input{min-width:18rem}.tts-import-rename-discard{width:6.5rem}td.tts-import-rename-discard,th.tts-import-rename-discard{text-align:right}.tts-import-rename-discard input,.tts-import-rename-discard label{cursor:pointer}.tts-import-rename-discard input{margin-left:.625rem}td.tts-import-rename-discard{line-height:2.25rem}.tts-import-rename .tts-import-compare-message-text{margin-top:0}.tts-import-categorize-snippets,.tts-import-categorize-snippets table{width:100%}.tts-import-success{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:18rem}.tts-import-success i.fa-check-circle{color:#60ee80;font-size:8rem;font-weight:200}.tts-reset{display:flex;flex-direction:column;justify-content:center;align-items:center}.tts-reset-icon{font-size:8rem;color:#ee6050}.tts-col-messages{margin-right:1.5rem;flex:1 1 25%;min-width:18rem;max-width:25rem;max-height:100%}.tts-message-modal{min-width:42.5rem}.tts-message-modal-name.row{align-items:flex-end}.tts-message-modal-input{flex:1 1 30rem}.tts-message-modal-input p{margin-top:0}.tts-message-modal-input input{width:100%}.tts-message-modal-input+button{padding:.5625rem 1rem;flex:0 0 auto}.tts-message-modal-preview{background-color:#404040;border:1px solid #606060;border-radius:4px;padding:.5rem;margin:1rem 0;max-width:40rem;word-wrap:break-word}.tts-message-modal-details .row{color:#d8d8d8}.tts-message-modal-details .row strong{color:#f8f8f8}.tts-message-modal .modal-footer .btn,.tts-message-modal .modal-footer .btn-left,.tts-message-modal .modal-footer .btn-negative,.tts-message-modal .modal-footer .btn-primary{padding:1rem;min-width:7rem}.tts-message-modal .modal-footer>:not(:last-child){margin-right:1rem}.tts-message-modal .modal-footer .tts-clipboard-button{padding:0}.tts-message-item{border:1px solid transparent;display:flex;justify-content:space-between;align-items:center;position:relative;padding:0;transition:background-color .15s ease}.tts-message-item,.tts-message-item:nth-child(odd){background-color:#484848}.tts-message-item:nth-child(2n){background-color:#404040}.tts-message-item:first-child,.tts-message-item:first-child .tts-message-item-header{border-top-right-radius:4px;border-top-left-radius:4px}.tts-message-item:last-child,.tts-message-item:last-child .tts-message-item-header{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.tts-message-item:nth-child(2n):hover,.tts-message-item:nth-child(odd):hover{background-color:#606060}.tts-message-item[data-active=true]{background-color:#344457}.tts-message-item-header{display:flex;justify-content:space-between;align-items:center;width:100%}.tts-message-item-header>*{padding:.5rem .75rem}.tts-message-item-title{padding:.5rem .75rem;flex:1 1 100%;cursor:pointer;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.tts-message-item-copy{opacity:0;transition-property:background-color,opacity,color}.tts-message-item-copy:active,.tts-message-item-copy:focus,.tts-message-item-copy:hover{background-color:transparent}.tts-col-messages:focus-within .tts-message-item-copy,.tts-col-messages:hover .tts-message-item-copy{opacity:.2}.tts-message-item:focus-within .tts-message-item-copy,.tts-message-item:hover .tts-message-item-copy{opacity:1}.tts-message-item .tts-message-item-controls{height:100%}.tts-settings-button{font-size:1.25rem;color:#e8e8e8;background-color:#484848;border:2px solid transparent;border-radius:4px;transition:background-color .15s;display:flex;justify-content:center;align-items:center;padding:.5rem;margin-left:.5rem}.tts-settings-button:hover{background-color:#606060}.tts-settings-button:active{background-color:#404040}.tts-settings-button[data-open=true]{border-color:#707070}.tts-settings-section{width:100%;margin-bottom:1rem}.tts-settings-section>*{padding-left:1rem;padding-right:1rem}.tts-settings-section:not(:last-child){margin-bottom:3rem}.tts-settings-section-header{background-color:#404040;font-size:1.125rem;font-weight:600;border-bottom:1px solid #606060;padding:1rem;margin-bottom:1rem}.tts-settings-item{display:flex;align-items:center;width:100%}.tts-settings-item:not(:last-child){margin-bottom:1rem}label.tts-settings-item{cursor:pointer}.tts-settings-item,label.tts-settings-item.checkbox{justify-content:space-between}.tts-settings-item,.tts-settings-item-control select{height:2.25rem}.tts-settings-history .tts-settings-item-control{display:flex;justify-content:flex-end;align-items:center}.tts-settings-history .tts-settings-item-control input{border:none;width:10rem;margin:0 0 0 .75rem;padding:0}.tts-settings-insert .tts-settings-item-control{display:flex;justify-content:flex-end;align-items:center}.tts-settings-insert .tts-settings-item-control .radio-button{margin-left:1rem}.tts-settings-modal .modal-body{padding:0}.tts-col-snippets{margin-left:1.5rem;flex:1 1 25%;min-width:18rem;max-width:25rem}.tts-col-snippets,.tts-snippets{max-height:100%}.tts-snippets{overflow:auto;padding:0 0 2rem;width:100%;max-height:calc(100vh - 3.5rem)}.tts-snippets ul{-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0;-webkit-padding-start:0;-webkit-padding-end:0;-moz-margin-start:0;-moz-padding-end:0;-moz-padding-start:0;margin-block-start:0;margin-block-end:0;margin-top:0;margin-bottom:0;padding-left:0;list-style:none}.tts-snippets-header{justify-content:space-between}.tts-snippets-section[data-open=false]{border-color:transparent #393939;border-style:solid;border-width:1px}.tts-snippets-section[data-open=true]{border:1px solid #666}.tts-snippets-section-title{display:flex;justify-content:flex-start;align-items:center}.tts-snippets-section-header{background-color:#393939;padding:.5rem;display:flex;justify-content:space-between;align-items:center}.tts-snippets-section:first-child,.tts-snippets-section:first-child .tts-snippets-section-header{border-top-right-radius:4px;border-top-left-radius:4px}.tts-snippets-section:last-child,.tts-snippets-section:last-child .tts-snippets-section-header{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.tts-snippets-section-modal .modal-body{display:flex;justify-content:space-between;align-items:flex-end}.tts-snippets-section-modal-input{display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-start}.tts-snippets-section-modal-input span{margin-bottom:.5rem}.tts-snippets-section[data-open=false] ul{display:none}.tts-snippets-section-title{appearance:none;background-color:transparent;cursor:pointer}.tts-snippets-section-title span{color:#f6f6f6}.tts-snippets-section-expand{color:#666;font-size:1.25rem;background-color:transparent;transition:color .1s ease;width:2rem}.tts-snippets-section-title:hover .tts-snippets-section-expand{color:#999}.tts-snippets-section-title:active .tts-snippets-section-expand{color:#777}.tts-snippets-section-title:disabled .tts-snippets-section-expand{pointer-events:none;color:#444}.tts-snippets-section-add-row{color:#aaa;background-color:#393939;border:1px dashed #777;border-radius:6px;padding:.25rem .75rem;opacity:.5;width:calc(100% - 1rem);margin:.5rem}.tts-snippets-section-add-row:hover{opacity:1}.tts-snippets-section-add-row i{margin-right:.5rem}.tts-snippets-section-add-row-item.tts-snippets-row{width:100%;justify-content:center}.tts-snippets-row{border:1px solid transparent;display:flex;justify-content:space-between;align-items:center;position:relative;padding:0 .25rem}.tts-snippets-row:nth-child(odd){background-color:#444}.tts-snippets-row:last-child,.tts-snippets-row:nth-child(2n){background-color:transparent}.tts-snippets-row[data-edit=true]{background-color:#444;border-color:#999 #999 transparent;border-top-left-radius:4px;border-top-right-radius:4px}.tts-snippets-row-left{display:flex;justify-content:flex-start;align-items:center}.tts-snippets-row-input,.tts-snippets-row-text{line-height:1.75rem;width:12rem;padding:.125rem .5rem}.tts-snippets-row-text-prefix,.tts-snippets-row-text-suffix{opacity:.6}.tts-snippets-row-text-prefix{margin-right:.125rem}.tts-snippets-row-text-suffix{margin-left:.125rem}.tts-snippets-row-controls{height:100%}.tts-snippets-row-controls[data-open=false] .tts-snippets-row-controls-menu{display:none}.tts-snippets-row-controls-menu{background-color:#444;border:1px solid #999;border-top-color:#494949;border-bottom-left-radius:4px;border-bottom-right-radius:4px;display:flex;justify-content:space-evenly;align-items:center;position:absolute;width:calc(100% + 2px);padding:.25rem;top:100%;left:-1px;z-index:100}.tts-snippets-row-control-add,.tts-snippets-row-controls-button{opacity:0;transition-property:background-color,opacity,color}.tts-snippets-row-control-add{padding:0 .375rem}.tts-col-snippets:focus-within .tts-snippets-row-control-add,.tts-col-snippets:hover .tts-snippets-row-control-add{opacity:.2}.tts-snippets-row:focus-within .tts-snippets-row-control-add,.tts-snippets-row:focus-within .tts-snippets-row-controls-button,.tts-snippets-row:hover .tts-snippets-row-control-add,.tts-snippets-row:hover .tts-snippets-row-controls-button{opacity:1}.tts-snippets-row-controls-button{opacity:0}.tts-snippets-modal-text{align-items:flex-end}.tts-snippets-modal-input,.tts-snippets-modal-prefix,.tts-snippets-modal-suffix{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start}.tts-snippets-modal-input span,.tts-snippets-modal-prefix span,.tts-snippets-modal-suffix span{font-size:.875rem;margin-bottom:.5rem}.tts-snippets-modal-prefix,.tts-snippets-modal-suffix{flex:1 1 4rem;max-width:4rem}.tts-snippets-modal-prefix input,.tts-snippets-modal-suffix input{border:1px solid #909090;max-width:4rem}.tts-snippets-modal-prefix input{border-right:1px dashed #707070;border-top-right-radius:0;border-bottom-right-radius:0}.tts-snippets-modal-suffix input{border-left:1px dashed #707070;border-radius:0}.tts-snippets-modal-input{width:100%;flex:1 1 calc(100% - 9rem);max-width:calc(100% - 9rem)}.tts-snippets-modal-input input{font-size:1rem;border-left:1px solid #909090;border-right:1px solid #909090;border-color:#909090 #707070;border-style:solid dashed;border-width:1px;border-radius:0;width:100%}.tts-snippets-modal-input~button{border:1px solid #909090;border-left:none;border-top-right-radius:4px;border-bottom-right-radius:4px;flex:0 0 auto}.tts-snippets-modal-input input,.tts-snippets-modal-input~button,.tts-snippets-modal-prefix input,.tts-snippets-modal-suffix input{height:2rem;display:block}.tts-snippets-modal-input,.tts-snippets-modal-input~button,.tts-snippets-modal-prefix,.tts-snippets-modal-suffix{margin-left:0}.tts-snippets-modal .tts-submit-status{height:2rem;width:3rem;flex:0 0 3rem;margin:0}.tts-snippets-modal-checkbox{display:flex;justify-content:flex-start;align-items:center;margin-right:1.5rem}.tts-snippets-modal-checkbox input{margin-right:.75rem}.tts-snippets-modal-count{display:flex;justify-content:flex-start;align-items:center}.tts-snippets-modal-count input{background-color:#464646;border:none;border-bottom:2px solid #666;border-radius:0;margin-right:.75rem;max-width:3rem}.tts-snippets-modal audio::-webkit-media-controls-current-time-display,.tts-snippets-modal audio::-webkit-media-controls-timeline{display:none!important}.tts-snippets-modal audio::-webkit-media-controls-time-remaining-display{display:none!important}.snippet{display:flex;justify-content:flex-start;align-items:flex-start;line-height:1.5em}.snippet-prefix,.snippet-suffix{opacity:.6}.snippet-prefix{margin-right:.125rem}.snippet-suffix{margin-left:.125rem}.snippet-text{font-weight:600;margin:0 .0625em}.snippet-text-repeats{margin:0 .0625em;display:inline-flex;justify-content:flex-start;align-items:center}.snippet-text-repeats:after,.snippet-text-repeats:before{font-size:.875em;opacity:.5;vertical-align:middle}.snippet-text-repeats:before{content:"["}.snippet-text-repeats:after{content:"]"}.snippet-space-after,.snippet-space-before{width:.375rem;border-bottom:1px solid transparent;height:1.5em}.snippet-space-after[data-show=true],.snippet-space-before[data-show=true]{border-bottom-color:grey;background-color:hsla(0,0%,62.7%,.5)}.snippet-space-before{margin-right:.125rem}.snippet-space-after{margin-left:.125rem}
/*# sourceMappingURL=/style.b5f0871a.css.map */</style></head><body> <div id="app"> </div> <noscript>You need to enable JavaScript to run this, ya goobus.</noscript> </body><script>parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"aSor":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=L,exports.hydrate=F,exports.h=exports.createElement=p,exports.Fragment=d,exports.createRef=a,exports.Component=h,exports.cloneElement=H,exports.createContext=O,exports.toChildArray=b,exports.options=exports.isValidElement=void 0;var e,n,t,_,l,o,r={},i=[],u=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(e,n){for(var t in n)e[t]=n[t];return e}function c(e){var n=e.parentNode;n&&n.removeChild(e)}function p(e,n,t){var _,l,o,r=arguments,i={};for(o in n)"key"==o?_=n[o]:"ref"==o?l=n[o]:i[o]=n[o];if(arguments.length>3)for(t=[t],o=3;o<arguments.length;o++)t.push(r[o]);if(null!=t&&(i.children=t),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===i[o]&&(i[o]=e.defaultProps[o]);return f(e,i,_,l,null)}function f(n,t,_,l,o){var r={type:n,props:t,key:_,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++e.__v:o};return null!=e.vnode&&e.vnode(r),r}function a(){return{current:null}}function d(e){return e.children}function h(e,n){this.props=e,this.context=n}function v(e,n){if(null==n)return e.__?v(e.__,e.__.__k.indexOf(e)+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return"function"==typeof e.type?v(e):null}function y(e){var n,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return y(e)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!k.__r++||l!==e.debounceRendering)&&((l=e.debounceRendering)||_)(k)}function k(){for(var e;k.__r=t.length;)e=t.sort(function(e,n){return e.__v.__b-n.__v.__b}),t=[],e.some(function(e){var n,t,_,l,o,r;e.__d&&(o=(l=(n=e).__v).__e,(r=n.__P)&&(t=[],(_=s({},l)).__v=l.__v+1,D(r,l,_,n.__n,void 0!==r.ownerSVGElement,null!=l.__h?[o]:null,t,null==o?v(l):o,l.__h),T(t,l),l.__e!=o&&y(l)))})}function g(e,n,t,_,l,o,u,s,c,p){var a,h,y,m,k,g,b,P=_&&_.__k||i,S=P.length;for(t.__k=[],a=0;a<n.length;a++)if(null!=(m=t.__k[a]=null==(m=n[a])||"boolean"==typeof m?null:"string"==typeof m||"number"==typeof m?f(null,m,null,null,m):Array.isArray(m)?f(d,{children:m},null,null,null):m.__b>0?f(m.type,m.props,m.key,null,m.__v):m)){if(m.__=t,m.__b=t.__b+1,null===(y=P[a])||y&&m.key==y.key&&m.type===y.type)P[a]=void 0;else for(h=0;h<S;h++){if((y=P[h])&&m.key==y.key&&m.type===y.type){P[h]=void 0;break}y=null}D(e,m,y=y||r,l,o,u,s,c,p),k=m.__e,(h=m.ref)&&y.ref!=h&&(b||(b=[]),y.ref&&b.push(y.ref,null,m),b.push(h,m.__c||k,m)),null!=k?(null==g&&(g=k),"function"==typeof m.type&&null!=m.__k&&m.__k===y.__k?m.__d=c=x(m,c,e):c=C(e,m,y,P,k,c),p||"option"!==t.type?"function"==typeof t.type&&(t.__d=c):e.value=""):c&&y.__e==c&&c.parentNode!=e&&(c=v(y))}for(t.__e=g,a=S;a--;)null!=P[a]&&("function"==typeof t.type&&null!=P[a].__e&&P[a].__e==t.__d&&(t.__d=v(_,a+1)),N(P[a],P[a]));if(b)for(a=0;a<b.length;a++)M(b[a],b[++a],b[++a])}function x(e,n,t){var _,l;for(_=0;_<e.__k.length;_++)(l=e.__k[_])&&(l.__=e,n="function"==typeof l.type?x(l,n,t):C(t,l,l,e.__k,l.__e,n));return n}function b(e,n){return n=n||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some(function(e){b(e,n)}):n.push(e)),n}function C(e,n,t,_,l,o){var r,i,u;if(void 0!==n.__d)r=n.__d,n.__d=void 0;else if(null==t||l!=o||null==l.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(l),r=null;else{for(i=o,u=0;(i=i.nextSibling)&&u<_.length;u+=2)if(i==l)break e;e.insertBefore(l,o),r=o}return void 0!==r?r:l.nextSibling}function P(e,n,t,_,l){var o;for(o in t)"children"===o||"key"===o||o in n||E(e,o,null,t[o],_);for(o in n)l&&"function"!=typeof n[o]||"children"===o||"key"===o||"value"===o||"checked"===o||t[o]===n[o]||E(e,o,n[o],t[o],_)}function S(e,n,t){"-"===n[0]?e.setProperty(n,t):e[n]=null==t?"":"number"!=typeof t||u.test(n)?t:t+"px"}function E(e,n,t,_,l){var o;e:if("style"===n)if("string"==typeof t)e.style.cssText=t;else{if("string"==typeof _&&(e.style.cssText=_=""),_)for(n in _)t&&n in t||S(e.style,n,"");if(t)for(n in t)_&&t[n]===_[n]||S(e.style,n,t[n])}else if("o"===n[0]&&"n"===n[1])o=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in e?n.toLowerCase().slice(2):n.slice(2),e.l||(e.l={}),e.l[n+o]=t,t?_||e.addEventListener(n,o?U:w,o):e.removeEventListener(n,o?U:w,o);else if("dangerouslySetInnerHTML"!==n){if(l)n=n.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==n&&"list"!==n&&"form"!==n&&"download"!==n&&n in e)try{e[n]=null==t?"":t;break e}catch(e){}"function"==typeof t||(null!=t&&(!1!==t||"a"===n[0]&&"r"===n[1])?e.setAttribute(n,t):e.removeAttribute(n))}}function w(n){this.l[n.type+!1](e.event?e.event(n):n)}function U(n){this.l[n.type+!0](e.event?e.event(n):n)}function D(n,t,_,l,o,r,i,u,c){var p,f,a,v,y,m,k,x,b,C,P,S=t.type;if(void 0!==t.constructor)return null;null!=_.__h&&(c=_.__h,u=t.__e=_.__e,t.__h=null,r=[u]),(p=e.__b)&&p(t);try{e:if("function"==typeof S){if(x=t.props,b=(p=S.contextType)&&l[p.__c],C=p?b?b.props.value:p.__:l,_.__c?k=(f=t.__c=_.__c).__=f.__E:("prototype"in S&&S.prototype.render?t.__c=f=new S(x,C):(t.__c=f=new h(x,C),f.constructor=S,f.render=W),b&&b.sub(f),f.props=x,f.state||(f.state={}),f.context=C,f.__n=l,a=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=S.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=s({},f.__s)),s(f.__s,S.getDerivedStateFromProps(x,f.__s))),v=f.props,y=f.state,a)null==S.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==S.getDerivedStateFromProps&&x!==v&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(x,C),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(x,f.__s,C)||t.__v===_.__v){f.props=x,f.state=f.__s,t.__v!==_.__v&&(f.__d=!1),f.__v=t,t.__e=_.__e,t.__k=_.__k,f.__h.length&&i.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(x,f.__s,C),null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(v,y,m)})}f.context=C,f.props=x,f.state=f.__s,(p=e.__r)&&p(t),f.__d=!1,f.__v=t,f.__P=n,p=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(l=s(s({},l),f.getChildContext())),a||null==f.getSnapshotBeforeUpdate||(m=f.getSnapshotBeforeUpdate(v,y)),P=null!=p&&p.type===d&&null==p.key?p.props.children:p,g(n,Array.isArray(P)?P:[P],t,_,l,o,r,i,u,c),f.base=t.__e,t.__h=null,f.__h.length&&i.push(f),k&&(f.__E=f.__=null),f.__e=!1}else null==r&&t.__v===_.__v?(t.__k=_.__k,t.__e=_.__e):t.__e=A(_.__e,t,_,l,o,r,i,c);(p=e.diffed)&&p(t)}catch(n){t.__v=null,(c||null!=r)&&(t.__e=u,t.__h=!!c,r[r.indexOf(u)]=null),e.__e(n,t,_)}}function T(n,t){e.__c&&e.__c(t,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(e){e.call(t)})}catch(n){e.__e(n,t.__v)}})}function A(e,n,t,_,l,o,u,s){var p,f,a,d,h=t.props,v=n.props,y=n.type,m=0;if("svg"===y&&(l=!0),null!=o)for(;m<o.length;m++)if((p=o[m])&&(p===e||(y?p.localName==y:3==p.nodeType))){e=p,o[m]=null;break}if(null==e){if(null===y)return document.createTextNode(v);e=l?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,v.is&&v),o=null,s=!1}if(null===y)h===v||s&&e.data===v||(e.data=v);else{if(o=o&&i.slice.call(e.childNodes),f=(h=t.props||r).dangerouslySetInnerHTML,a=v.dangerouslySetInnerHTML,!s){if(null!=o)for(h={},d=0;d<e.attributes.length;d++)h[e.attributes[d].name]=e.attributes[d].value;(a||f)&&(a&&(f&&a.__html==f.__html||a.__html===e.innerHTML)||(e.innerHTML=a&&a.__html||""))}if(P(e,v,h,l,s),a)n.__k=[];else if(m=n.props.children,g(e,Array.isArray(m)?m:[m],n,t,_,l&&"foreignObject"!==y,o,u,e.firstChild,s),null!=o)for(m=o.length;m--;)null!=o[m]&&c(o[m]);s||("value"in v&&void 0!==(m=v.value)&&(m!==e.value||"progress"===y&&!m)&&E(e,"value",m,h.value,!1),"checked"in v&&void 0!==(m=v.checked)&&m!==e.checked&&E(e,"checked",m,h.checked,!1))}return e}function M(n,t,_){try{"function"==typeof n?n(t):n.current=t}catch(n){e.__e(n,_)}}function N(n,t,_){var l,o,r;if(e.unmount&&e.unmount(n),(l=n.ref)&&(l.current&&l.current!==n.__e||M(l,null,t)),_||"function"==typeof n.type||(_=null!=(o=n.__e)),n.__e=n.__d=void 0,null!=(l=n.__c)){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(n){e.__e(n,t)}l.base=l.__P=null}if(l=n.__k)for(r=0;r<l.length;r++)l[r]&&N(l[r],t,_);null!=o&&c(o)}function W(e,n,t){return this.constructor(e,t)}function L(n,t,_){var l,o,u;e.__&&e.__(n,t),o=(l="function"==typeof _)?null:_&&_.__k||t.__k,u=[],D(t,n=(!l&&_||t).__k=p(d,null,[n]),o||r,r,void 0!==t.ownerSVGElement,!l&&_?[_]:o?null:t.firstChild?i.slice.call(t.childNodes):null,u,!l&&_?_:o?o.__e:t.firstChild,l),T(u,n)}function F(e,n){L(e,n,F)}function H(e,n,t){var _,l,o,r=arguments,i=s({},e.props);for(o in n)"key"==o?_=n[o]:"ref"==o?l=n[o]:i[o]=n[o];if(arguments.length>3)for(t=[t],o=3;o<arguments.length;o++)t.push(r[o]);return null!=t&&(i.children=t),f(e.type,i,_||e.key,l||e.ref,null)}function O(e,n){var t={__c:n="__cC"+o++,__:e,Consumer:function(e,n){return e.children(n)},Provider:function(e){var t,_;return this.getChildContext||(t=[],(_={})[n]=this,this.getChildContext=function(){return _},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&t.some(m)},this.sub=function(e){t.push(e);var n=e.componentWillUnmount;e.componentWillUnmount=function(){t.splice(t.indexOf(e),1),n&&n.call(e)}}),e.children}};return t.Provider.__=t.Consumer.contextType=t}exports.isValidElement=n,exports.options=e,exports.options=e={__e:function(e,n){for(var t,_,l;n=n.__;)if((t=n.__c)&&!t.__)try{if((_=t.constructor)&&null!=_.getDerivedStateFromError&&(t.setState(_.getDerivedStateFromError(e)),l=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(e),l=t.__d),l)return t.__E=t}catch(n){e=n}throw e},__v:0},exports.isValidElement=n=function(e){return null!=e&&void 0===e.constructor},h.prototype.setState=function(e,n){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),"function"==typeof e&&(e=e(s({},t),this.props)),e&&s(t,e),null!=e&&this.__v&&(n&&this.__h.push(n),m(this))},h.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),m(this))},h.prototype.render=d,t=[],_="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,k.__r=0,o=0;
},{}],"nR5O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addHookName=o;var e=require("preact");function o(o,t){return e.options.__a&&e.options.__a(t),o}"undefined"!=typeof window&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.5.12",e.options,{Fragment:e.Fragment,Component:e.Component});
},{"preact":"aSor"}],"jYgX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resetPropWarnings=t;var e=require("preact");require("preact/devtools");var n={};function t(){n={}}function o(n){return n.type===e.Fragment?"Fragment":"function"==typeof n.type?n.type.displayName||n.type.name:"string"==typeof n.type?n.type:"#text"}var r=[],a=[];function i(){return r.length>0?r[r.length-1]:null}var p=!1;function s(n){return"function"==typeof n.type&&n.type!=e.Fragment}function c(e){for(var n=[e],t=e;null!=t.__o;)n.push(t.__o),t=t.__o;return n.reduce(function(e,n){e+="  in "+o(n);var t=n.__source;return t?e+=" (at "+t.fileName+":"+t.lineNumber+")":p||(p=!0,console.warn("Add @babel/plugin-transform-react-jsx-source to get a more detailed component stack. Note that you should not add it to production builds of your App for bundle size reasons.")),e+"\n"},"")}var l="function"==typeof WeakMap,u=e.Component.prototype.setState;e.Component.prototype.setState=function(e,n){return null==this.__v?null==this.state&&console.warn('Calling "this.setState" inside the constructor of a component is a no-op and might be a bug in your application. Instead, set "this.state = {}" directly.\n\n'+c(i())):null==this.__P&&console.warn('Can\'t call "this.setState" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.\n\n'+c(this.__v)),u.call(this,e,n)};var f=e.Component.prototype.forceUpdate;function d(e){var n=e.props,t=o(e),r="";for(var a in n)if(n.hasOwnProperty(a)&&"children"!==a){var i=n[a];"function"==typeof i&&(i="function "+(i.displayName||i.name)+"() {}"),i=Object(i)!==i||i.toString?i+"":Object.prototype.toString.call(i),r+=" "+a+"="+JSON.stringify(i)}var p=n.children;return"<"+t+r+(p&&p.length?">..</"+t+">":" />")}e.Component.prototype.forceUpdate=function(e){return null==this.__v?console.warn('Calling "this.forceUpdate" inside the constructor of a component is a no-op and might be a bug in your application.\n\n'+c(i())):null==this.__P&&console.warn('Can\'t call "this.forceUpdate" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.\n\n'+c(this.__v)),f.call(this,e)},function(){!function(){var n=e.options.__b,t=e.options.diffed,o=e.options.__,i=e.options.vnode,p=e.options.__r;e.options.diffed=function(e){s(e)&&a.pop(),r.pop(),t&&t(e)},e.options.__b=function(e){s(e)&&r.push(e),n&&n(e)},e.options.__=function(e,n){a=[],o&&o(e,n)},e.options.vnode=function(e){e.__o=a.length>0?a[a.length-1]:null,i&&i(e)},e.options.__r=function(e){s(e)&&a.push(e),p&&p(e)}}();var t=!1,i=e.options.__b,p=e.options.diffed,u=e.options.vnode,f=e.options.__e,y=e.options.__,h=e.options.__h,_=l?{useEffect:new WeakMap,useLayoutEffect:new WeakMap,lazyPropTypes:new WeakMap}:null,m=[];e.options.__e=function(e,n,t){if(n&&n.__c&&"function"==typeof e.then){var r=e;e=new Error("Missing Suspense. The throwing component was: "+o(n));for(var a=n;a;a=a.__)if(a.__c&&a.__c.__c){e=r;break}if(e instanceof Error)throw e}try{f(e,n,t),"function"!=typeof e.then&&setTimeout(function(){throw e})}catch(e){throw e}},e.options.__=function(e,n){if(!n)throw new Error("Undefined parent passed to render(), this is the second argument.\nCheck if the element is available in the DOM/has the correct id.");var t;switch(n.nodeType){case 1:case 11:case 9:t=!0;break;default:t=!1}if(!t){var r=o(e);throw new Error("Expected a valid HTML node as a second argument to render.\tReceived "+n+" instead: render(<"+r+" />, "+n+");")}y&&y(e,n)},e.options.__b=function(e){var r=e.type,a=function e(n){return n?"function"==typeof n.type?e(n.__):n:{}}(e.__);if(t=!0,void 0===r)throw new Error("Undefined component passed to createElement()\n\nYou likely forgot to export your component or might have mixed up default and named imports"+d(e)+"\n\n"+c(e));if(null!=r&&"object"==typeof r){if(void 0!==r.__k&&void 0!==r.__e)throw new Error("Invalid type passed to createElement(): "+r+"\n\nDid you accidentally pass a JSX literal as JSX twice?\n\n  let My"+o(e)+" = "+d(r)+";\n  let vnode = <My"+o(e)+" />;\n\nThis usually happens when you export a JSX literal and not the component.\n\n"+c(e));throw new Error("Invalid type passed to createElement(): "+(Array.isArray(r)?"array":r))}if("thead"!==r&&"tfoot"!==r&&"tbody"!==r||"table"===a.type?"tr"===r&&"thead"!==a.type&&"tfoot"!==a.type&&"tbody"!==a.type&&"table"!==a.type?console.error("Improper nesting of table. Your <tr> should have a <thead/tbody/tfoot/table> parent."+d(e)+"\n\n"+c(e)):"td"===r&&"tr"!==a.type?console.error("Improper nesting of table. Your <td> should have a <tr> parent."+d(e)+"\n\n"+c(e)):"th"===r&&"tr"!==a.type&&console.error("Improper nesting of table. Your <th> should have a <tr>."+d(e)+"\n\n"+c(e)):console.error("Improper nesting of table. Your <thead/tbody/tfoot> should have a <table> parent."+d(e)+"\n\n"+c(e)),void 0!==e.ref&&"function"!=typeof e.ref&&"object"!=typeof e.ref&&!("$$typeof"in e))throw new Error('Component\'s "ref" property should be a function, or an object created by createRef(), but got ['+typeof e.ref+"] instead\n"+d(e)+"\n\n"+c(e));if("string"==typeof e.type)for(var p in e.props)if("o"===p[0]&&"n"===p[1]&&"function"!=typeof e.props[p]&&null!=e.props[p])throw new Error("Component's \""+p+'" property should be a function, but got ['+typeof e.props[p]+"] instead\n"+d(e)+"\n\n"+c(e));if("function"==typeof e.type&&e.type.propTypes){if("Lazy"===e.type.displayName&&_&&!_.lazyPropTypes.has(e.type)){var s="PropTypes are not supported on lazy(). Use propTypes on the wrapped component itself. ";try{var l=e.type();_.lazyPropTypes.set(e.type,!0),console.warn(s+"Component wrapped in lazy() is "+o(l))}catch(e){console.warn(s+"We will log the wrapped component's name once it is loaded.")}}var u=e.props;e.type.__f&&delete(u=function(e,n){for(var t in n)e[t]=n[t];return e}({},u)).ref,function(e,t,o,r,a){Object.keys(e).forEach(function(o){var i;try{i=e[o](t,o,r,"prop",null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){i=e}!i||i.message in n||(n[i.message]=!0,console.error("Failed prop type: "+i.message+(a&&"\n"+a()||"")))})}(e.type.propTypes,u,0,o(e),function(){return c(e)})}i&&i(e)},e.options.__h=function(e,n,o){if(!e||!t)throw new Error("Hook can only be invoked from render methods.");h&&h(e,n,o)};var v=function(e,n){return{get:function(){var t="get"+e+n;m&&m.indexOf(t)<0&&(m.push(t),console.warn("getting vnode."+e+" is deprecated, "+n))},set:function(){var t="set"+e+n;m&&m.indexOf(t)<0&&(m.push(t),console.warn("setting vnode."+e+" is not allowed, "+n))}}},b={nodeName:v("nodeName","use vnode.type"),attributes:v("attributes","use vnode.props"),children:v("children","use vnode.props.children")},w=Object.create({},b);e.options.vnode=function(e){var n=e.props;if(null!==e.type&&null!=n&&("__source"in n||"__self"in n)){var t=e.props={};for(var o in n){var r=n[o];"__source"===o?e.__source=r:"__self"===o?e.__self=r:t[o]=r}}e.__proto__=w,u&&u(e)},e.options.diffed=function(e){if(e.__k&&e.__k.forEach(function(n){if(n&&void 0===n.type){delete n.__,delete n.__b;var t=Object.keys(n).join(",");throw new Error("Objects are not valid as a child. Encountered an object with the keys {"+t+"}.\n\n"+c(e))}}),t=!1,p&&p(e),null!=e.__k)for(var n=[],o=0;o<e.__k.length;o++){var r=e.__k[o];if(r&&null!=r.key){var a=r.key;if(-1!==n.indexOf(a)){console.error('Following component has two or more children with the same key attribute: "'+a+'". This may cause glitches and misbehavior in rendering process. Component: \n\n'+d(e)+"\n\n"+c(e));break}n.push(a)}}}}();
},{"preact":"aSor","preact/devtools":"nR5O"}],"MwGB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useState=p,exports.useReducer=h,exports.useEffect=v,exports.useLayoutEffect=l,exports.useRef=m,exports.useImperativeHandle=H,exports.useMemo=d,exports.useCallback=x,exports.useContext=y,exports.useDebugValue=E,exports.useErrorBoundary=b;var _,n,t,o=require("preact"),e=0,u=[],r=o.options.__b,i=o.options.__r,c=o.options.diffed,s=o.options.__c,f=o.options.unmount;function a(_,t){o.options.__h&&o.options.__h(n,_,e||t),e=0;var u=n.__H||(n.__H={__:[],__h:[]});return _>=u.__.length&&u.__.push({}),u.__[_]}function p(_){return e=1,h(C,_)}function h(t,o,e){var u=a(_++,2);return u.t=t,u.__c||(u.__=[e?e(o):C(void 0,o),function(_){var n=u.t(u.__[0],_);u.__[0]!==n&&(u.__=[n,u.__[1]],u.__c.setState({}))}],u.__c=n),u.__}function v(t,e){var u=a(_++,3);!o.options.__s&&F(u.__H,e)&&(u.__=t,u.__H=e,n.__H.__h.push(u))}function l(t,e){var u=a(_++,4);!o.options.__s&&F(u.__H,e)&&(u.__=t,u.__H=e,n.__h.push(u))}function m(_){return e=5,d(function(){return{current:_}},[])}function H(_,n,t){e=6,l(function(){"function"==typeof _?_(n()):_&&(_.current=n())},null==t?t:t.concat(_))}function d(n,t){var o=a(_++,7);return F(o.__H,t)&&(o.__=n(),o.__H=t,o.__h=n),o.__}function x(_,n){return e=8,d(function(){return _},n)}function y(t){var o=n.context[t.__c],e=a(_++,9);return e.__c=t,o?(null==e.__&&(e.__=!0,o.sub(n)),o.props.value):t.__}function E(_,n){o.options.useDebugValue&&o.options.useDebugValue(n?n(_):_)}function b(t){var o=a(_++,10),e=p();return o.__=t,n.componentDidCatch||(n.componentDidCatch=function(_){o.__&&o.__(_),e[1](_)}),[e[0],function(){e[1](void 0)}]}function g(){u.forEach(function(_){if(_.__P)try{_.__H.__h.forEach(A),_.__H.__h.forEach(D),_.__H.__h=[]}catch(n){_.__H.__h=[],o.options.__e(n,_.__v)}}),u=[]}o.options.__b=function(_){n=null,r&&r(_)},o.options.__r=function(t){i&&i(t),_=0;var o=(n=t.__c).__H;o&&(o.__h.forEach(A),o.__h.forEach(D),o.__h=[])},o.options.diffed=function(_){c&&c(_);var e=_.__c;e&&e.__H&&e.__H.__h.length&&(1!==u.push(e)&&t===o.options.requestAnimationFrame||((t=o.options.requestAnimationFrame)||function(_){var n,t=function(){clearTimeout(o),q&&cancelAnimationFrame(n),setTimeout(_)},o=setTimeout(t,100);q&&(n=requestAnimationFrame(t))})(g)),n=void 0},o.options.__c=function(_,n){n.some(function(_){try{_.__h.forEach(A),_.__h=_.__h.filter(function(_){return!_.__||D(_)})}catch(t){n.some(function(_){_.__h&&(_.__h=[])}),n=[],o.options.__e(t,_.__v)}}),s&&s(_,n)},o.options.unmount=function(_){f&&f(_);var n=_.__c;if(n&&n.__H)try{n.__H.__.forEach(A)}catch(_){o.options.__e(_,n.__v)}};var q="function"==typeof requestAnimationFrame;function A(_){var t=n;"function"==typeof _.__c&&_.__c(),n=t}function D(_){var t=n;_.__c=_.__(),n=t}function F(_,n){return!_||_.length!==n.length||n.some(function(n,t){return n!==_[t]})}function C(_,n){return"function"==typeof n?n(_):n}
},{"preact":"aSor"}],"nWoM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.App=void 0;var e=o(require("preact")),t=require("preact/hooks"),r=require("~/view/components");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(o,a,u):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}var i=function(){var n=(0,t.useRef)();return(0,r.useCtrlZListener)(n),e.h(r.WithGlobalContexts,null,e.h(r.WithContextHooks,null,e.h(r.View,null),e.h("textarea",{id:"clipboard-input",className:"clipboard-input invisible",tabIndex:-1}),e.h("div",{ref:n,id:"modal-container",className:"modal-container"})))};exports.App=i;
},{"preact":"aSor","preact/hooks":"MwGB","~/view/components":"AOf9"}],"AQ6k":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={version:!0,Children:!0,render:!0,hydrate:!0,unmountComponentAtNode:!0,createPortal:!0,createFactory:!0,cloneElement:!0,isValidElement:!0,findDOMNode:!0,PureComponent:!0,memo:!0,forwardRef:!0,unstable_batchedUpdates:!0,StrictMode:!0,Suspense:!0,SuspenseList:!0,lazy:!0,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:!0,unstable_ImmediatePriority:!0,unstable_UserBlockingPriority:!0,unstable_NormalPriority:!0,unstable_LowPriority:!0,unstable_IdlePriority:!0,unstable_runWithPriority:!0,unstable_now:!0,createElement:!0,createContext:!0,createRef:!0,Fragment:!0,Component:!0};exports.render=O,exports.hydrate=g,exports.unmountComponentAtNode=Y,exports.createPortal=x,exports.createFactory=$,exports.cloneElement=H,exports.isValidElement=z,exports.findDOMNode=q,exports.PureComponent=i,exports.memo=u,exports.forwardRef=_,exports.Suspense=f,exports.SuspenseList=h,exports.lazy=m,exports.unstable_runWithPriority=j,Object.defineProperty(exports,"createElement",{enumerable:!0,get:function(){return n.createElement}}),Object.defineProperty(exports,"createContext",{enumerable:!0,get:function(){return n.createContext}}),Object.defineProperty(exports,"createRef",{enumerable:!0,get:function(){return n.createRef}}),Object.defineProperty(exports,"Fragment",{enumerable:!0,get:function(){return n.Fragment}}),Object.defineProperty(exports,"Component",{enumerable:!0,get:function(){return n.Component}}),exports.unstable_now=exports.unstable_IdlePriority=exports.unstable_LowPriority=exports.unstable_NormalPriority=exports.unstable_UserBlockingPriority=exports.unstable_ImmediatePriority=exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=exports.StrictMode=exports.unstable_batchedUpdates=exports.Children=exports.version=exports.default=void 0;var t=require("preact/hooks");Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(e,n)||n in exports&&exports[n]===t[n]||Object.defineProperty(exports,n,{enumerable:!0,get:function(){return t[n]}}))});var n=require("preact");function r(e,t){for(var n in t)e[n]=t[n];return e}function o(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function i(e){this.props=e}function u(e,t){function r(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:o(this.props,e)}function i(t){return this.shouldComponentUpdate=r,(0,n.createElement)(e,t)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i}(i.prototype=new n.Component).isPureReactComponent=!0,i.prototype.shouldComponentUpdate=function(e,t){return o(this.props,e)||o(this.state,t)};var l=n.options.__b;n.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),l&&l(e)};var a="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function _(e){function t(t,n){var o=r({},t);return delete o.ref,e(o,(n=t.ref||n)&&("object"!=typeof n||"current"in n)?n:null)}return t.$$typeof=a,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var c=function(e,t){return null==e?null:(0,n.toChildArray)((0,n.toChildArray)(e).map(t))},s={map:c,forEach:c,count:function(e){return e?(0,n.toChildArray)(e).length:0},only:function(e){var t=(0,n.toChildArray)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:n.toChildArray},p=n.options.__e;function f(){this.__u=0,this.t=null,this.__b=null}function d(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function m(e){var t,r,o;function i(i){if(t||(t=e()).then(function(e){r=e.default||e},function(e){o=e}),o)throw o;if(!r)throw t;return(0,n.createElement)(r,i)}return i.displayName="Lazy",i.__f=!0,i}function h(){this.u=null,this.o=null}exports.Children=s,n.options.__e=function(e,t,n){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);p(e,t,n)},(f.prototype=new n.Component).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=d(r.__v),i=!1,u=function(){i||(i=!0,n.componentWillUnmount=n.__c,o?o(l):l())};n.__c=n.componentWillUnmount,n.componentWillUnmount=function(){u(),n.__c&&n.__c()};var l=function(){if(!--r.__u){if(r.state.__e){var e=r.state.__e;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return e(t,n,r)}),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},a=!0===t.__h;r.__u++||a||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(u,u)},f.prototype.componentWillUnmount=function(){this.t=[]},f.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var o=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,o){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),t.__c.__H=null),null!=(t=r({},t)).__c&&(t.__c.__P===o&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return e(t,n,o)})),t}(this.__b,o,i.__O=i.__P)}this.__b=null}var u=t.__e&&(0,n.createElement)(n.Fragment,null,e.fallback);return u&&(u.__h=null),[(0,n.createElement)(n.Fragment,null,t.__e?null:e.children),u]};var y=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function v(e){return this.getChildContext=function(){return e.context},e.children}function b(e){var t=this,r=e.i;t.componentWillUnmount=function(){(0,n.render)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==r&&t.componentWillUnmount(),e.__v?(t.l||(t.i=r,t.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),(0,n.render)((0,n.createElement)(v,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function x(e,t){return(0,n.createElement)(b,{__v:e,i:t})}(h.prototype=new n.Component).__e=function(e){var t=this,n=d(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),y(t,e,r)):o()};n?n(i):i()}},h.prototype.render=function(e){this.u=null,this.o=new Map;var t=(0,n.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var r=t.length;r--;)this.o.set(t[r],this.u=[1,0,this.u]);return e.children},h.prototype.componentDidUpdate=h.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){y(e,n,t)})};var C="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,E=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,P=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};function O(e,t,r){return null==t.__k&&(t.textContent=""),(0,n.render)(e,t),"function"==typeof r&&r(),e?e.__c:null}function g(e,t,r){return(0,n.hydrate)(e,t),"function"==typeof r&&r(),e?e.__c:null}n.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(n.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var N=n.options.event;function R(){}function S(){return this.cancelBubble}function U(){return this.defaultPrevented}n.options.event=function(e){return N&&(e=N(e)),e.persist=R,e.isPropagationStopped=S,e.isDefaultPrevented=U,e.nativeEvent=e};var k,w={configurable:!0,get:function(){return this.class}},L=n.options.vnode;n.options.vnode=function(e){var t=e.type,r=e.props,o=r;if("string"==typeof t){for(var i in o={},r){var u=r[i];"value"===i&&"defaultValue"in r&&null==u||("defaultValue"===i&&"value"in r&&null==r.value?i="value":"download"===i&&!0===u?u="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!P(r.type)?i="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():E.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===u&&(u=void 0),o[i]=u)}"select"==t&&o.multiple&&Array.isArray(o.value)&&(o.value=(0,n.toChildArray)(r.children).forEach(function(e){e.props.selected=-1!=o.value.indexOf(e.props.value)})),"select"==t&&null!=o.defaultValue&&(o.value=(0,n.toChildArray)(r.children).forEach(function(e){e.props.selected=o.multiple?-1!=o.defaultValue.indexOf(e.props.value):o.defaultValue==e.props.value})),e.props=o}t&&r.class!=r.className&&(w.enumerable="className"in r,null!=r.className&&(o.class=r.className),Object.defineProperty(o,"className",w)),e.$$typeof=C,L&&L(e)};var A=n.options.__r;n.options.__r=function(e){A&&A(e),k=e.__c};var I={ReactCurrentDispatcher:{current:{readContext:function(e){return k.__n[e.__c].props.value}}}},D=1,F=2,W=3,T=4,M=5;function j(e,t){return t()}exports.unstable_IdlePriority=M,exports.unstable_LowPriority=T,exports.unstable_NormalPriority=W,exports.unstable_UserBlockingPriority=F,exports.unstable_ImmediatePriority=D,exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I;var B="object"==typeof performance&&"function"==typeof performance.now?performance.now.bind(performance):function(){return Date.now()},V="16.8.0";function $(e){return n.createElement.bind(null,e)}function z(e){return!!e&&e.$$typeof===C}function H(e){return z(e)?n.cloneElement.apply(null,arguments):e}function Y(e){return!!e.__k&&((0,n.render)(null,e),!0)}function q(e){return e&&(e.base||1===e.nodeType&&e)||null}exports.version=V,exports.unstable_now=B;var Z=function(e,t){return e(t)},G=n.Fragment;exports.StrictMode=G,exports.unstable_batchedUpdates=Z;var J={useState:t.useState,useReducer:t.useReducer,useEffect:t.useEffect,useLayoutEffect:t.useLayoutEffect,useRef:t.useRef,useImperativeHandle:t.useImperativeHandle,useMemo:t.useMemo,useCallback:t.useCallback,useContext:t.useContext,useDebugValue:t.useDebugValue,version:"16.8.0",Children:s,render:O,hydrate:g,unmountComponentAtNode:Y,createPortal:x,createElement:n.createElement,createContext:n.createContext,createFactory:$,cloneElement:H,createRef:n.createRef,Fragment:n.Fragment,isValidElement:z,findDOMNode:q,Component:n.Component,PureComponent:i,memo:u,forwardRef:_,unstable_batchedUpdates:Z,StrictMode:n.Fragment,Suspense:f,SuspenseList:h,lazy:m,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:I};exports.default=J;
},{"preact/hooks":"MwGB","preact":"aSor"}],"R0Pm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_HISTORY_STEPS_LIMIT=exports.DEFAULT_BITS_STRING=exports.VOICE_NAMES=void 0;var e=["Brian","Amy","Emma","Joanna","Kendra","Kimberly","Salli","Joey","Matthew","Geraint"];exports.VOICE_NAMES=e;var r="uni300";exports.DEFAULT_BITS_STRING=r;var t=256;exports.DEFAULT_HISTORY_STEPS_LIMIT=t;
},{}],"JBX6":[function(require,module,exports) {
"use strict";var e,t;Object.defineProperty(exports,"__esModule",{value:!0}),exports.OptimizeLevel=exports.OptimizeTrigger=void 0,exports.OptimizeTrigger=e,function(e){e[e.manual=0]="manual",e[e.submit=1]="submit",e[e.blur=2]="blur",e[e.stop=3]="stop",e[e.edit=4]="edit"}(e||(exports.OptimizeTrigger=e={})),exports.OptimizeLevel=t,function(e){e[e.safe=0]="safe",e[e.normal=1]="normal",e[e.max=2]="max"}(t||(exports.OptimizeLevel=t={}));
},{}],"bIZv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reset_all_storage=exports.set_stored_state=exports.get_stored_state=exports.set_stored_messages=exports.get_stored_messages=exports.set_stored_snippets=exports.get_stored_snippets=void 0;var e=require("~/common"),t=require("~/model/types"),s=function(){return(s=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++)for(var o in t=arguments[s])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(s[r[o]]=e[r[o]])}return s},o=function(e,t){var s=localStorage.getItem(e);return s&&JSON.parse(s)||t},a=function(){return o("tts-snippets",c).map(function(e){return s(s({},e),{data:e.data.map(function(e){var t,o=null!==(t=e.options)&&void 0!==t?t:{},a=o.defaultCount,n=r(o,["defaultCount"]),i=s(s({},e),{options:n});return isNaN(parseInt(a))||(i.options.defaultCount=parseInt(a)),i})})})};exports.get_stored_snippets=a;var n=function(e){return localStorage.setItem("tts-snippets",JSON.stringify(e))};exports.set_stored_snippets=n;var i=function(){return o("tts-messages",m)};exports.get_stored_messages=i;var p=function(e){return localStorage.setItem("tts-messages",JSON.stringify(e))};exports.set_stored_messages=p;var l=function(){return o("tts-state",_)};exports.get_stored_state=l;var u=function(e){return localStorage.setItem("tts-state",JSON.stringify(e))};exports.set_stored_state=u;var f=function(){confirm("Are you REALLY sure you wanna do this?")&&(localStorage.setItem("tts-state",""),localStorage.setItem("tts-messages",""),localStorage.setItem("tts-snippets",""),window.location.reload())};exports.reset_all_storage=f;var _={settings:{bits_string:e.DEFAULT_BITS_STRING,insert_at_cursor:!0,trim_whitespace:!0,optimize_words:t.OptimizeTrigger.manual,optimize_level:t.OptimizeLevel.normal,voice:"Brian",history_steps:e.DEFAULT_HISTORY_STEPS_LIMIT},message:-1,volume:.5,editor:{max_length:255,speed:!1,bits:"",text:"Sample text"}},c=[{name:"Sample Snippets",open:!0,data:[{text:"VB",options:{prefix:"a",suffix:"",default_count:5,space_after:!0,space_before:!0}},{text:"brur",options:{prefix:"ur",suffix:"?^",default_count:2,space_after:!0,space_before:!0}}]},{name:"Sprinkler Noises",open:!1,data:[{text:"PX",options:{prefix:"y",suffix:"",default_count:5,space_after:!0,space_before:!0}},{text:"HJ",options:{prefix:"a",suffix:"",default_count:5,space_after:!0,space_before:!0}},{text:"",options:{prefix:"",suffix:"",default_count:5,space_after:!0,space_before:!0}}]}],m=[{name:"Sample Message",text:"This is a sample message. No silly noises here boink",options:{bits:"",speed:!1,max_length:255}},{name:"Silly Message",text:"This is a silly message. Do not send this message to the streamer. OOHOO HOO  HE DOESN'T KNOW LMAO  HE LACKS CRITICAL INFORMATION OMEGA LAUGHING ",options:{bits:"",speed:!0,max_length:255}}];
},{"~/common":"rTqy","~/model/types":"JBX6"}],"y1NU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.play_audio=exports.get_tts_data=exports.TTS_URL=void 0;var e=function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{c(n.next(e))}catch(t){a(t)}}function u(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,u)}c((n=n.apply(e,t||[])).next())})},t=function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(u){a=[6,u],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},r=function(e){return void 0===e&&(e="Brian"),"https://api.streamelements.com/kappa/v2/speech?voice="+e+"&text="};exports.TTS_URL=r;var n={text:"",promise:new Promise(function(){}),data:""},o=function(o,a,i){return void 0===a&&(a=n),void 0===i&&(i="Brian"),e(void 0,void 0,Promise,function(){var e,n,u;return t(this,function(t){switch(t.label){case 0:return o?i+":"+o===a.text&&a.promise?[4,a.promise]:[3,2]:[2,Promise.reject()];case 1:return e=t.sent(),[3,4];case 2:return a.text=i+":"+o,a.data="",[4,fetch(r(i)+encodeURIComponent(o.trim()))];case 3:e=t.sent(),a.promise=e,t.label=4;case 4:return 200==e.status?[3,6]:(n=alert,[4,e.text()]);case 5:return n.apply(void 0,[t.sent()]),a.text="",[2,Promise.reject(e.error())];case 6:return a.data?[3,8]:[4,e.blob()];case 7:u=t.sent(),a.data=URL.createObjectURL(u),t.label=8;case 8:return[2,a.data]}})})};exports.get_tts_data=o;var a=function(e,t){void 0===t&&(t=!0);var r=document.getElementById(e?e+"-audio":"audio");r instanceof HTMLAudioElement&&(r.pause(),t?r.load():r.currentTime=0,r.play())};exports.play_audio=a;
},{}],"KomH":[function(require,module,exports) {
"use strict";function e(r){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.deep_equals=exports.replace_item_in=exports.remove_item_from=exports.add_item_to=void 0;var r=function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e},t=function(e,t,n){if(void 0===n&&(n="end"),!t)return e?e.slice():[];if(e||(e=[]),0===e.length)return[t];if("function"==typeof n){for(var o=-1,i=0;i<e.length&&o<0;){1===n(t,e[i])?i++:o=i}if(0!==o&&o!==e.length-1)return r(r(r([],e.slice(0,o)),[t]),e.slice(o));n=0===o?"start":"end"}return"start"===n?[t].concat(e):e.concat([t])};exports.add_item_to=t;var n=function(e,r){var t=e.findIndex(r);return-1===t?e.slice():e.slice(0,t).concat(e.slice(t+1))};exports.remove_item_from=n;var o=function(e,r,n,o){var i=e.findIndex(r);return-1===i?o?t(e,n,o):e.slice():e.slice(0,i).concat([n]).concat(e.slice(i+1))};exports.replace_item_in=o;var i=function r(t,n,o,i,u){if(void 0===o&&(o=10),void 0===i&&(i=!1),void 0===u&&(u=0),u>o)return i;if(t===n)return!0;var c=e(t);if(e(n)!==c)return!1;if(null===t||null===n)return null===t&&null===n;if(Array.isArray(t)&&Array.isArray(n))return t.length===n.length&&t.every(function(e,t){return r(e,n[t],o,i,u+1)});if("object"===c){var l=Object.entries(t),f=Object.entries(n);return l.length===f.length&&l.every(function(e){var t=e[0],c=e[1];return t in n&&r(c,n[t],o,i,u+1)})}return t===n};exports.deep_equals=i;
},{}],"rTqy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./constants");Object.keys(e).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in exports&&exports[t]===e[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return e[t]}}))});var t=require("./storage");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var r=require("./tts");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var o=require("./utils");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});
},{"./constants":"R0Pm","./storage":"bIZv","./tts":"y1NU","./utils":"KomH"}],"uIaN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.INITIAL_STATE=void 0;var e=o(require("~/common")),i=require("./types");function t(e){if("function"!=typeof WeakMap)return null;var i=new WeakMap,o=new WeakMap;return(t=function(e){return e?o:i})(e)}function o(e,i){if(!i&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=t(i);if(o&&o.has(e))return o.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=e[r]}return l.default=e,o&&o.set(e,l),l}var l,n,r,s,u,d,v,p,a,_,c,g,f,m,y,O,T,b,I,h,w,j,P,S,x,A,E=function(){return(E=Object.assign||function(e){for(var i,t=1,o=arguments.length;t<o;t++)for(var l in i=arguments[t])Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l]);return e}).apply(this,arguments)},M=e.get_stored_state(),z={volume:null!==(l=null==M?void 0:M.volume)&&void 0!==l?l:1,message:null!==(n=null==M?void 0:M.message)&&void 0!==n?n:-1,settings:{insert_at_cursor:null!==(s=null===(r=null==M?void 0:M.settings)||void 0===r?void 0:r.insert_at_cursor)&&void 0!==s&&s,trim_whitespace:null!==(d=null===(u=null==M?void 0:M.settings)||void 0===u?void 0:u.trim_whitespace)&&void 0!==d&&d,optimize_words:null!==(p=null===(v=null==M?void 0:M.settings)||void 0===v?void 0:v.optimize_words)&&void 0!==p?p:i.OptimizeTrigger.manual,optimize_level:null!==(_=null===(a=null==M?void 0:M.settings)||void 0===a?void 0:a.optimize_level)&&void 0!==_?_:i.OptimizeLevel.normal,voice:null!==(g=null===(c=null==M?void 0:M.settings)||void 0===c?void 0:c.voice)&&void 0!==g?g:e.VOICE_NAMES[0],bits_string:null!==(m=null===(f=null==M?void 0:M.settings)||void 0===f?void 0:f.bits_string)&&void 0!==m?m:e.DEFAULT_BITS_STRING,history_steps:null!==(O=null===(y=null==M?void 0:M.settings)||void 0===y?void 0:y.history_steps)&&void 0!==O?O:e.DEFAULT_HISTORY_STEPS_LIMIT},editor:{text:null!==(b=null===(T=null==M?void 0:M.editor)||void 0===T?void 0:T.text)&&void 0!==b?b:"",max_length:null!==(h=null===(I=null==M?void 0:M.editor)||void 0===I?void 0:I.max_length)&&void 0!==h?h:255,speed:null!==(j=null===(w=null==M?void 0:M.editor)||void 0===w?void 0:w.speed)&&void 0!==j&&j,bits:null!==(S=null===(P=null==M?void 0:M.editor)||void 0===P?void 0:P.bits)&&void 0!==S?S:""}},L=null!==(x=e.get_stored_messages())&&void 0!==x?x:[],D=null!==(A=e.get_stored_snippets())&&void 0!==A?A:[],N=E(E({},z),{messages:L,snippets:D});exports.INITIAL_STATE=N;
},{"~/common":"rTqy","./types":"JBX6"}],"MkpQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IS_OPTIMIZED=exports.SNIPPETS=exports.MESSAGES=exports.EDITOR_SETTINGS=exports.OPTIMIZE_MESSAGE_CALLBACK=exports.ADD_SNIPPET_CALLBACK=exports.EDIT_MSG_TARGET=exports.EDITOR_UNSAVED=exports.LOADED_MESSAGE=exports.EDITOR_STATE=exports.VOLUME_CTX=exports.ImmutableContextValue=exports.createNamedContext=void 0;var e,t=n(require("preact")),r=require("~/model/initial-state");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in e)if("default"!==T&&Object.prototype.hasOwnProperty.call(e,T)){var a=E?Object.getOwnPropertyDescriptor(e,T):null;a&&(a.get||a.set)?Object.defineProperty(n,T,a):n[T]=e[T]}return n.default=e,r&&r.set(e,n),n}var E=function(e,r){var o=t.createContext(new T(e,function(){}));return o.displayName=r,o};exports.createNamedContext=E;var T=function(){function e(e,t){this._value=e,this._setValue=t}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"setValue",{get:function(){return this._setValue},set:function(e){},enumerable:!1,configurable:!0}),e}();exports.ImmutableContextValue=T;var a=E(r.INITIAL_STATE.volume,"VOLUME_CTX");exports.VOLUME_CTX=a;var s=E(r.INITIAL_STATE.editor,"EDITOR_STATE");exports.EDITOR_STATE=s;var u=E(null!==(e=r.INITIAL_STATE.message)&&void 0!==e?e:-1,"LOADED_MESSAGE");exports.LOADED_MESSAGE=u;var I=E(!0,"EDITOR_UNSAVED");exports.EDITOR_UNSAVED=I;var p=E(void 0,"EDIT_MSG_TARGET");exports.EDIT_MSG_TARGET=p;var S=E(function(){},"ADD_SNIPPET_CALLBACK");exports.ADD_SNIPPET_CALLBACK=S;var _=E(function(){},"OPTIMIZE_MESSAGE_CALLBACK");exports.OPTIMIZE_MESSAGE_CALLBACK=_;var i=E(r.INITIAL_STATE.settings,"EDITOR_SETTINGS");exports.EDITOR_SETTINGS=i;var A=E(r.INITIAL_STATE.messages,"MESSAGES");exports.MESSAGES=A;var c=E(r.INITIAL_STATE.snippets,"SNIPPETS");exports.SNIPPETS=c;var f=t.createContext(function(){return!1});exports.IS_OPTIMIZED=f,f.displayName="IS_OPTIMIZED";
},{"preact":"aSor","~/model/initial-state":"uIaN"}],"tAAz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.conform_to_schema=exports.HISTORY_STORAGE_SCHEMA=exports.HISTORY_SCHEMA=exports.HISTORY_CURSOR_SCHEMA=exports.MESSAGE_SCHEMA=exports.MESSAGE_OPTIONS_SCHEMA=exports.SNIPPET_SECTION_SCHEMA=exports.SNIPPET_SCHEMA=exports.SNIPPET_OPTIONS_SCHEMA=exports.SETTINGS_SCHEMA=void 0;var e=require("~/common"),t=require("~/model/types");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var p in t=arguments[r])Object.prototype.hasOwnProperty.call(t,p)&&(e[p]=t[p]);return e}).apply(this,arguments)},p={insert_at_cursor:{type:"boolean",default:!1},trim_whitespace:{type:"boolean",default:!1},optimize_words:{type:"number",default:t.OptimizeTrigger.manual},optimize_level:{type:"number",default:t.OptimizeLevel.normal},voice:{type:"string",default:"Brian"},bits_string:{type:"string",default:e.DEFAULT_BITS_STRING},history_steps:{type:"number",default:e.DEFAULT_HISTORY_STEPS_LIMIT}};exports.SETTINGS_SCHEMA=p;var n={prefix:{type:"string",default:""},suffix:{type:"string",default:""},space_before:{type:"boolean",default:!1},space_after:{type:"boolean",default:!1},default_count:{type:"number",default:1}};exports.SNIPPET_OPTIONS_SCHEMA=n;var a={text:{type:"string"},options:{type:n,default:{}}};exports.SNIPPET_SCHEMA=a;var s={name:{type:"string"},open:{type:"boolean",default:!1},data:{type:a,default:null}};exports.SNIPPET_SECTION_SCHEMA=s;var u={max_length:{type:"number",default:255},speed:{type:"boolean",default:!1},bits:{type:"string",default:""}};exports.MESSAGE_OPTIONS_SCHEMA=u;var l={name:{type:"string"},text:{type:"string"},options:{type:u,default:{}}};exports.MESSAGE_SCHEMA=l;var i={start:{type:"number"},end:{type:"number"}};exports.HISTORY_CURSOR_SCHEMA=i;var S={keep:{type:"boolean",default:!1},state:{type:o(o({},u),{text:{type:"string"}}),default:null},cursor:{type:i,default:null},cursor_before:{type:i,default:{}}};exports.HISTORY_SCHEMA=S;var f={data:{type:S,default:null},index:{type:"number"}};exports.HISTORY_STORAGE_SCHEMA=f;var y=function e(t,o){var p={},n=!1;return Object.entries(o).forEach(function(o){var a=o[0],s=o[1];if(!n)if("string"!=typeof s.type){if(Array.isArray(t[a])){var u=[];t[a].forEach(function(t){var r=e(t,s.type);r&&u.push(r)}),p[a]=u}else if(a in t){var l=e(t[a],s.type);l?p[a]=l:s.default&&(n=!0)}}else a in t&&r(t[a])===s.type?p[a]=t[a]:("default"in s||(n=!0),p[a]=s.default)}),n?null:p};exports.conform_to_schema=y;
},{"~/common":"rTqy","~/model/types":"JBX6"}],"BueH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorHistory=exports.EditorHistoryManager=void 0;var t=require("~/common"),e=require("./schema"),i=function(){return(i=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},r=function(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(i[r[o]]=t[r[o]])}return i},o="tts-history",n=function(){function e(t,e,i){this._on_change=function(){},this.history=null!=e?e:[],this.index=null!=i?i:-1,this.initialized=!1,this.limit=t,this.loaded=!!e}return e.prototype.setHistory=function(t){this.history=t,this.storeHistory()},e.prototype.setIndex=function(t){this.index=t,this.storeHistory()},e.prototype.storeHistory=function(){localStorage.setItem(o,JSON.stringify({data:this.history,index:this.index}))},e.prototype.initialize=function(t,e){this.initialized?console.warn("Attempted to re-initialize EditorHistoryManager"):(this.loaded||this.reset(t),this._on_change=e,this.initialized=!0)},e.prototype.getCurrentState=function(){return this.history[this.index]},e.prototype.reset=function(t){this.index=0,this.setHistory([i(i({},t),{keep:!0})])},e.prototype.push=function(e,o){var n,s;void 0===o&&(o=!1);e.keep;var h=r(e,["keep"]),a=this.getCurrentState(),l=a.keep,d=r(a,["keep"]);if("function"==typeof o&&(o=o(d,h)),!(0,t.deep_equals)(d,h)){if(o){var p=null!==(n=this.history[this.index-1])&&void 0!==n?n:{},u=(p.keep,r(p,["keep"]));(l||(0,t.deep_equals)(u,h))&&(o=!1)}var y=Math.max(this.history.length-this.limit+(o?0:1),0);this.setHistory(this.history.slice(y,this.index+(o?0:1)).concat(i(i({},e),{keep:null!==(s=e.keep)&&void 0!==s&&s}))),this.setIndex(this.history.length-1)}},e.prototype.undo=function(){var t=this.getCurrentState();if(this.index<=0)return console.warn("Cannot undo, reached start of history."),t;this.setIndex(this.index-1);var e=this.getCurrentState();return this._on_change(i(i({},e),{cursor_before:t.cursor_before}),!0),e},e.prototype.redo=function(){if(this.index>=this.history.length-1)return console.warn("Cannot redo, reached end of history."),this.getCurrentState();this.setIndex(this.index+1);var t=this.getCurrentState();return this._on_change(t,!1),t},e.prototype.keep=function(){this.history[this.index].keep=!0,this.setHistory(this.history)},e}();exports.EditorHistoryManager=n;var s=function(){var i,r,s,h,a=null!==(s=null===(r=null===(i=(0,t.get_stored_state)())||void 0===i?void 0:i.settings)||void 0===r?void 0:r.history_steps)&&void 0!==s?s:t.DEFAULT_HISTORY_STEPS_LIMIT,l=JSON.parse(null!==(h=localStorage.getItem(o))&&void 0!==h?h:"null"),d=l?(0,e.conform_to_schema)(l,e.HISTORY_STORAGE_SCHEMA):null;return d&&d.data.length===l.data.length?new n(a,d.data,d.index):new n(a)},h=s();exports.EditorHistory=h;
},{"~/common":"rTqy","./schema":"tAAz"}],"p5UI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./context");Object.keys(e).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in exports&&exports[t]===e[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return e[t]}}))});var t=require("./history");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var r=require("./initial-state");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var o=require("./schema");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./types");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});
},{"./context":"MkpQ","./history":"BueH","./initial-state":"uIaN","./schema":"tAAz","./types":"JBX6"}],"leC2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.trim_whitespace=exports.insert_text_at_selection=exports.ensure_number=void 0;var e=function(e,t){var r=e;return"string"==typeof e&&(r=parseInt(e)),isNaN(r)?null!=t?t:0:r};exports.ensure_number=e;var t=function(e,t,r,n){var i,s,l,o,u=null!==(i=n.current)&&void 0!==i?i:{},c=u.selectionStart,a=void 0===c?e.length:c,v=u.selectionEnd,d=void 0===v?e.length:v,p=r-(e.length-(d-a));if(p<1)return null===(s=n.current)||void 0===s||s.focus(),[e,e.length];p<t.length&&(t=t.slice(0,p));var h=null!==(l=null==e?void 0:e.slice(0,a))&&void 0!==l?l:"",_=null!==(o=null==e?void 0:e.slice(d))&&void 0!==o?o:"";return!t.startsWith(" ")||e&&!h.endsWith(" ")||(t=t.slice(1)),t.endsWith(" ")&&_.startsWith(" ")&&(_=_.slice(1)),[(""+h+t+_).slice(0,r),(""+h+t).length]};exports.insert_text_at_selection=t;var r=function(e){return e.trim().replace(/(\s)\s+/g,"$1")};exports.trim_whitespace=r;
},{}],"TTiJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.maybeClassName=void 0;var e=function(e){return e?" "+e:""};exports.maybeClassName=e;
},{}],"Zebh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useCallbackAfterUpdate=exports.useContextState=exports.useRequestStatus=exports.useMemoRef=exports.useValueRef=exports.useStateWithRef=exports.useStateRef=exports.useStateObject=exports.useStateIfMounted=void 0;var e=r(require("preact/hooks"));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}function r(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=o?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(u,a,c):u[a]=e[a]}return u.default=e,n&&n.set(e,u),u}var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var u in t=arguments[r])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e}).apply(this,arguments)},u=function(){var t=e.useRef(!0);return e.useEffect(function(){return function(){t.current=!1}},[]),t},o=function(t){var r=u(),n=e.useState(t),o=n[0],a=n[1];return[o,e.useCallback(function(e){r.current&&a(e)},[a,r])]};exports.useStateIfMounted=o;var a=function(t){var r=u(),o=e.useState(t),a=o[0],c=o[1];return[a,e.useCallback(function(e){r.current&&c("function"==typeof e?e:function(t){return n(n({},t),e)})},[c,r])]};exports.useStateObject=a;var c=function(t){var r=u(),n=e.useRef(t),o=e.useState(t),a=o[0],c=o[1];return[a,e.useCallback(function(e){r.current&&(n.current="function"==typeof e?e(n.current):e,c(e))},[c,r]),n]};exports.useStateRef=c;var s=function(t,r){var n=u(),o=e.useState(t),a=o[0],c=o[1];return e.useEffect(function(){r.current=t},[]),[a,e.useCallback(function(e){n.current&&(r.current="function"==typeof e?e(r.current):e,c(e))},[c,n])]};exports.useStateWithRef=s;var f=function(t){var r=e.useRef(t);return r.current=t,r};exports.useValueRef=f;var i=function(t,r){var n=e.useMemo(t,r);return f(n)};exports.useMemoRef=i;var l=function(t){var r=o({pending:!1,success:!1,error:null}),n=r[0],u=r[1];return[n,e.useCallback(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return u({pending:!0,success:!1,error:null}),t.apply(void 0,e).then(function(e){return u({pending:!1,success:!0,error:null}),e}).catch(function(e){return u({pending:!1,success:!1,error:e}),e})},[t])]};exports.useRequestStatus=l;var p=function(t){var r=e.useContext(t);return[r.value,r.setValue]};exports.useContextState=p;var v=function(t,r,n){var u=e.useRef(!1);return e.useEffect(function(){var e;u.current&&r.current&&(null===(e=r.current)||void 0===e||e.call(r),u.current=!1)},n),[e.useCallback(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];u.current=!0,t.apply(void 0,e)},[t]),e.useCallback(function(){var e;u.current=!1,null===(e=r.current)||void 0===e||e.call(r)},[])]};exports.useCallbackAfterUpdate=v;
},{"preact/hooks":"MwGB"}],"KGSM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useDebounce=exports.useCopyToClipboard=exports.useTempAnimation=exports.useModal=exports.useHoldClick=void 0;var e=require("preact/compat"),t=u(require("preact/hooks")),r=require("~/view/utils");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var i=o?Object.getOwnPropertyDescriptor(e,c):null;i&&(i.get||i.set)?Object.defineProperty(u,c,i):u[c]=e[c]}return u.default=e,r&&r.set(e,u),u}var o=function(e,t,r,n){return new(r||(r=Promise))(function(u,o){function c(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?u(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(c,i)}l((n=n.apply(e,t||[])).next())})},c=function(e,t){var r,n,u,o,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,n&&(u=2&o[0]?n.return:o[0]?n.throw||((u=n.return)&&u.call(n),0):n.next)&&!(u=u.call(n,o[1])).done)return u;switch(n=0,u&&(o=[2&o[0],u.value]),o[0]){case 0:case 1:u=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,n=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(u=(u=c.trys).length>0&&u[u.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!u||o[1]>u[0]&&o[1]<u[3])){c.label=o[1];break}if(6===o[0]&&c.label<u[1]){c.label=u[1],u=o;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(o);break}u[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(i){o=[6,i],n=0}finally{r=u=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},i={once:!0},l=function(e,n,u,o){void 0===u&&(u=150),void 0===o&&(o=750);var c=(0,r.useStateRef)(!1),l=c[0],a=c[1],s=c[2],f=(0,r.useValueRef)(e),p=(0,r.useValueRef)(n),v=(0,r.useValueRef)(u),d=t.useRef(),m=t.useCallback(function(){var e;s.current&&(d.current&&clearTimeout(d.current),null===(e=f.current)||void 0===e||e.call(f),d.current=setTimeout(m,v.current))},[]),b=t.useCallback(function(){a(!1),clearTimeout(d.current),d.current=null},[]);t.useEffect(function(){if(l)return d.current=setTimeout(m,o),window.addEventListener("mouseup",b,i),window.addEventListener("blur",b,i),function(){var e;null===(e=p.current)||void 0===e||e.call(p),window.removeEventListener("mouseup",b),window.removeEventListener("blur",b)}},[l]);var y=t.useCallback(function(e){var t;e.initialClick=!0,null===(t=f.current)||void 0===t||t.call(f,e),a(!0)},[]);return t.useMemo(function(){var e={onMouseDown:y};return l&&(e.onMouseLeave=b),e},[l])};exports.useHoldClick=l;var a=function(t){var r=document.getElementById("modal-container");return r&&t?(0,e.createPortal)(t,r):null};exports.useModal=a;var s=function(e,n){var u=t.useRef(),o=(0,r.useStateRef)(!1),c=o[0],i=o[1],l=o[2],a=t.useCallback(function(){i(!1),u.current&&clearTimeout(u.current),u.current=null},[]),s=t.useCallback(function(){l.current&&a(),u.current&&clearTimeout(u.current),n?u.current=setTimeout(function(){i(!0),u.current=setTimeout(a,e)},n):(i(!0),u.current=setTimeout(a,e))},[e,n]);return t.useEffect(function(){if(c)return function(){u.current&&clearTimeout(u.current),u.current=null}},[c]),[c,s,i]};exports.useTempAnimation=s;var f=function(e){return t.useCallback(function(){return o(void 0,void 0,void 0,function(){var t,r,n;return c(this,function(u){return t=document.getElementById("clipboard-input"),e&&t instanceof HTMLTextAreaElement?(r=document.activeElement,t.value=e,t.focus(),t.select(),t.setSelectionRange(0,99999),n=document.execCommand("copy"),t.value="",t.blur(),null==r||r.focus(),[2,n?Promise.resolve():Promise.reject()]):[2,Promise.reject()]})})},[e])};exports.useCopyToClipboard=f;var p=function(e,r){void 0===r&&(r=150);var n=t.useRef(null),u=t.useCallback(function(){for(var t=[],u=0;u<arguments.length;u++)t[u]=arguments[u];n.current&&clearTimeout(n.current),n.current=setTimeout(function(){e.apply(void 0,t),clearTimeout(n.current),n.current=null},r)},[e]),o=t.useCallback(function(){n.current&&(clearTimeout(n.current),n.current=null)},[]);return t.useEffect(function(){return function(){clearTimeout(n.current),n.current=null}},[e]),[u,o]};exports.useDebounce=p;
},{"preact/compat":"AQ6k","preact/hooks":"MwGB","~/view/utils":"YORt"}],"urVX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useOptimizeMessageTrigger=exports.useOptimizeMessage=exports.useInsertSnippet=exports.useMessageFullText=exports.useAudioPlayer=exports.usePlaySnippet=exports.usePlayMessage=void 0;var e=i(require("preact/hooks")),t=require("~/common"),r=require("~/model"),n=require("~/view/utils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var u in t=arguments[r])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e}).apply(this,arguments)},o=function(u,i,s){var o,c=null!==(o=e.useContext(r.EDITOR_SETTINGS).value)&&void 0!==o?o:{},a=c.voice,l=c.bits_string,f=(0,n.useValueRef)(a),v=u.text,p=u.options,d=p.speed,x=p.max_length,g=p.bits,_=(0,n.useStateRef)(""),E=_[0],S=_[1],R=_[2],m=(0,n.useMemoRef)(function(){var e=g&&l?l.length+1:0;return d&&x!==v.length?v+" "+"".repeat(Math.max(x-v.length-1-e,0)):v},[d,v,x,g,l]),T=(0,n.useRequestStatus)(t.get_tts_data),y=T[0],b=T[1],O=e.useCallback(function(){b(m.current,s,f.current).then(function(e){e===R.current?R.current&&(0,t.play_audio)(i,!1):S(e)})},[s,i]);return e.useEffect(function(){E&&(0,t.play_audio)(i)},[E]),[E,y,O,g?g+" "+m.current:m.current]};exports.usePlayMessage=o;var c=function(u,i){var s,o=null===(s=e.useContext(r.EDITOR_SETTINGS).value)||void 0===s?void 0:s.voice,c=(0,n.useValueRef)(o),a=(0,n.useStateRef)(""),l=a[0],f=a[1],v=a[2],p=(0,n.useRequestStatus)(t.get_tts_data),d=p[0],x=p[1],g=e.useCallback(function(e,r){var n=e.text,s=e.options,o=s.prefix,a=void 0===o?"":o,l=s.default_count,p=s.suffix,d=void 0===p?"":p,g=""+a+n.repeat(r||l||1)+d;return x(g,i,c.current).then(function(e){e===v.current?v.current&&(0,t.play_audio)(u,!1):f(e)})},[]);return e.useEffect(function(){l&&(0,t.play_audio)(u)},[l]),[l,d,g]};exports.usePlaySnippet=c;var a=function(u,i){var s,o=null===(s=e.useContext(r.EDITOR_SETTINGS).value)||void 0===s?void 0:s.voice,c=(0,n.useValueRef)(o),a=(0,n.useStateRef)(""),l=a[0],f=a[1],v=a[2];e.useEffect(function(){l&&(0,t.play_audio)(u)},[l]);var p=e.useCallback(function(e){return e?(0,t.get_tts_data)(e,i,c.current).then(function(e){e===v.current?(0,t.play_audio)(u,!1):f(e)}):Promise.resolve()},[]);return[l,p]};exports.useAudioPlayer=a;var l=function(t){var r=t.text,n=t.options,u=n.max_length,i=n.speed,s=n.bits;return e.useMemo(function(){var e=s?s+" "+r:r;return!i||e.length>=u-1?e:e+" "+"".repeat(u-r.length-1)},[r,u,i])};exports.useMessageFullText=l;var f=function(t,u,i){var s=e.useContext(r.EDITOR_SETTINGS).value,o=(0,n.useValueRef)(s.insert_at_cursor),c=(0,n.useValueRef)(t),a=(0,n.useValueRef)(u),l=e.useRef(-1),f=e.useRef(!1),v=e.useCallback(function(e,t){var r,u;if(t||-1===l.current||(i.current.selectionStart=l.current,i.current.selectionEnd=l.current),o.current){var s=(0,n.insert_text_at_selection)(c.current,e,a.current,i),v=s[0],p=s[1];u=v,l.current=p}else!e.startsWith(" ")||c.current&&!c.current.endsWith(" ")||(e=e.slice(1)),u=(""+c.current+e).slice(0,a.current),l.current=u.length;return"end"===t&&(u===c.current?l.current=-1:f.current=!0),u===c.current&&(null===(r=i.current)||void 0===r||r.focus()),u},[]);return e.useEffect(function(){var e;-1!==l.current&&(null===(e=i.current)||void 0===e||e.focus(),i.current.selectionStart=l.current,i.current.selectionEnd=l.current,l.current=-1),f.current&&(l.current=-1,f.current=!1)},[t]),v};exports.useInsertSnippet=f;var v=function(t,u,i){var o=(0,n.useContextState)(r.EDITOR_STATE),c=o[0],a=o[1],l=(0,n.useValueRef)(c),f=(0,n.useValueRef)(t),v=e.useRef(1/0);e.useEffect(function(){u.current=!1},[c.text]);var p=e.useRef(function(){}),d=(0,n.useCallbackAfterUpdate)(e.useCallback(function(e){var t,r,o,c,d=e.detail,x=d.trigger,g=d.input,_=d.callback;if(u.current&&v.current<=x||!i.current)_(l.current.text,null===(t=g.current)||void 0===t?void 0:t.selectionStart,null===(r=g.current)||void 0===r?void 0:r.selectionEnd,x);else{var E=f.current,S=E.trim_whitespace,R=E.optimize_words;if(!S&&x>R)_(l.current.text,null===(o=g.current)||void 0===o?void 0:o.selectionStart,null===(c=g.current)||void 0===c?void 0:c.selectionEnd,x);else{var m=(0,n.optimize_message)(l.current.text,g,x,f.current),T=m[0],y=m[1],b=m[2];l.current.text!==T&&_&&(p.current=function(){p.current=function(){},_(T,y,b,x)}),v.current=x,u.current=!0,a(s(s({},l.current),{text:T})),l.current.text===T&&_&&_(T,y,b,x)}}},[]),p,[c.text])[0];e.useEffect(function(){return window.addEventListener("optimize-message",d),function(){return window.removeEventListener("optimize-message",d)}},[])};exports.useOptimizeMessage=v;var p=function(t,u,i){var s=(0,n.useValueRef)(e.useContext(r.EDITOR_SETTINGS).value),o=e.useContext(r.EDITOR_STATE).value,c=(0,n.useValueRef)(o),a=(0,n.useContextState)(r.OPTIMIZE_MESSAGE_CALLBACK),l=a[0],f=a[1],v=e.useCallback(function(e){var r,n,o,a,l;if(null==u||u(c.current.text,null===(r=t.current)||void 0===r?void 0:r.selectionStart,null===(n=t.current)||void 0===n?void 0:n.selectionEnd,e),e>s.current.optimize_words)null==i||i(c.current.text,null===(o=t.current)||void 0===o?void 0:o.selectionStart,null===(a=t.current)||void 0===a?void 0:a.selectionEnd,e);else{var f=new CustomEvent("optimize-message",{bubbles:!0,detail:{trigger:e,input:t,callback:i}});null===(l=t.current)||void 0===l||l.dispatchEvent(f)}},[t,i]);return e.useEffect(function(){f(function(){return v})},[v]),l};exports.useOptimizeMessageTrigger=p;
},{"preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI","~/view/utils":"YORt"}],"oVMM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./data");Object.keys(e).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in exports&&exports[t]===e[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return e[t]}}))});var t=require("./dom");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var r=require("./tts");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});
},{"./data":"Zebh","./dom":"KGSM","./tts":"urVX"}],"Dc0T":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.optimize_message=exports.optimize_message_words=exports.optimize_whitespace=void 0;var e,t,r=require("~/model/types"),n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=((e={})[r.OptimizeLevel.safe]={too:"2",one:"1",two:"2",three:"3",four:"4",five:"5",six:"6",seven:"7",eight:"8",nine:"9",ten:"10",and:"&"},e[r.OptimizeLevel.normal]={are:"r",you:"u"},e[r.OptimizeLevel.max]={for:"4",fore:"4",to:"2"},e),o=((t={})[r.OptimizeLevel.safe]=[{match:function(e){return/^\w*ight$/i.test(e)},transform:function(e){return e.replace(/ight$/i,"ite")}},{match:function(e){return new RegExp("([aeiouy])(\\1){2,}","i").test(e)},transform:function(e){return e.replace(new RegExp("([aeiouy])(\\1){2,}","gi"),"$1$1")}}],t[r.OptimizeLevel.normal]=[],t[r.OptimizeLevel.max]=[{match:function(e){return/fore?$/i.test(e)},transform:function(e){return e.replace(/fore?$/i,"4")}},{match:function(e){return/^fore?/i.test(e)},transform:function(e){return e.replace(/^fore?/i,"4")}},{match:function(e){return/^fou?r\w*/i.test(e)},transform:function(e){return e.replace(/^fou?r/i,"4")}},{match:function(e){return/'ve\b/i.test(e)},transform:function(e){return e.replace(/'ve\b/i,"ve")}}],t),a=function(e,t){void 0===t&&(t=r.OptimizeLevel.normal);for(var n=r.OptimizeLevel.safe;n<=t;n++){var a=i[n];if(e in a)return a[e]}var l=e;for(n=r.OptimizeLevel.safe;n<=t;n++){(a=o[n]).forEach(function(t){var r,n;t.match(l)&&(l="string"==typeof t.transform?t.transform:null!==(n=null===(r=t.transform)||void 0===r?void 0:r.call(t,e))&&void 0!==n?n:e)})}return l},l=function(e,t){return void 0===t&&(t=0),(0===t?e:e.slice(t)).search(/[^\s]/i)},s=function(e,t){void 0===t&&(t=e.length);var r=(t===e.length?e:e.slice(0,t)).split("").reverse().join("").search(/[^\s]/i);return-1===r?r:e.length-r},c=function(e,t){if(t>e.length||t<=0||" "===e[t-1])return-1;var r=e.slice(0,t).split("").reverse().join("").search(/\s/i);return-1===r?0:t-r},u=function(e){var t=e.search(/[^a-z0-9']/i);return-1===t?e:e.slice(0,t)},f=function(e){var t=e.search(/[a-z0-9']/i);return-1===t?e:e.slice(0,t)},h=function(e,t,n,i){var o=i.trim_whitespace,a=t.current||{},c=a.selectionStart,u=void 0===c?-1:c,f=a.selectionEnd,h=void 0===f?-1:f,v=n<=r.OptimizeTrigger.blur;if(!o||u!==h)return[e,u,h];var m=u,g=e.replace(/\s/g," "),p=l(g),d=m<p&&!v;g=g.trimStart();for(var z=(m=Math.max(m-p,0))>s(g)&&!v,O=" "===(g=g.trimEnd())[(m=d?0:Math.min(m,g.length))-1]||z,_=" "===g[m]||d,w="",x=-1,y=0;y<g.length;y++){var L=g[y];if(m===y&&-1===x&&(x=w.length)," "===L)if(!v&&y+1===m&&O)x=(w+=L).length;else if(!v&&y===m&&_)w+=L;else{var E=w.slice(-1),b=g[y+1];" "!==E&&","!==E&&" "!==b&&","!==b&&(w+=L)}else d&&0===w.length&&(w+=" "),w+=L}return z&&(w+=" "),(-1===x||z)&&(x=w.length),[w,x,x]};exports.optimize_whitespace=h;var v=function(e,t,n,i){var o=i.optimize_words,l=i.optimize_level,s=t.current||{},h=s.selectionStart,v=void 0===h?-1:h,m=s.selectionEnd,g=void 0===m?-1:m,p=n<=r.OptimizeTrigger.blur;if(!(n<=o)||v!==g)return[e,v,g];for(var d=e,z=v,O=c(d,z),_=-1!==O?z-O:-1,w=d.split(" "),x="",y=0===z?0:-1,L="",E=function(e,t){L+=e,x+=t},b=0,$=w;b<$.length;b++){var M=$[b],j=L.length,S=x.length;if(j===z&&(y=S),0!==j&&" "!==x.slice(-1)&&(E(" "," "),j=L.length,S=x.length,j===z&&(y=S)),""!==M)if(/^[a-z0-9']+$/i.test(M))if(p||O!==j){var P=a(M,l);O===j&&(y=S+Math.min(P.length,_)),E(M,P)}else E(M,M),y=S+_;else for(var R=M,T=O===j,q=_;R.length>0;){var W=u(R);if(W.length){var k=W;(!T||q>W.length||0===q||p)&&(k=a(W,l)),T&&q<=W.length?(y=S+Math.min(k.length,q),T=!1):q-=W.length,E(W,k),j=L.length,S=x.length,R=R.slice(W.length)}if(0!==R.length){var A=f(R);A.length&&(T&&(q<A.length?y=S+Math.min(A.length,_):q-=A.length),E(A,A),j=L.length,S=x.length,R=R.slice(A.length))}}else E(" "," ")}return x.endsWith("  ")&&(x=x.slice(0,x.length-1)),-1===y&&(y=x.length),[x,y,y]};exports.optimize_message_words=v;var m=function(e,t,r,i){var o=i.optimize_words,a=i.trim_whitespace,l=t.current||{},s=l.selectionStart,c=void 0===s?-1:s,u=l.selectionEnd,f=void 0===u?-1:u;if(!a&&r<=o||!e||c!==f)return[e,c,f];var m=v(e,t,r,i),g=m[0],p=m[1],d=m[2];return h(g,{current:n(n({},t.current),{selectionStart:p,selectionEnd:d})},r,i)};exports.optimize_message=m;
},{"~/model/types":"JBX6"}],"YORt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./common");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./dom-helpers");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./hooks");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./optimize");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});
},{"./common":"leC2","./dom-helpers":"TTiJ","./hooks":"oVMM","./optimize":"Dc0T"}],"BcoN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WithContextHooks=exports.WithGlobalContexts=void 0;var e=a(require("preact")),t=require("preact/compat"),n=a(require("preact/hooks")),r=a(require("~/common")),o=require("~/model"),u=require("~/view/utils");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var a=o?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(r,u,a):r[u]=e[u]}return r.default=e,n&&n.set(e,r),r}var s=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c={VOLUME_CTX:{context:o.VOLUME_CTX,initialValue:o.INITIAL_STATE.volume},EDITOR_STATE:{context:o.EDITOR_STATE,initialValue:o.INITIAL_STATE.editor},EDITOR_SETTINGS:{context:o.EDITOR_SETTINGS,initialValue:o.INITIAL_STATE.settings},EDITOR_UNSAVED:{context:o.EDITOR_UNSAVED,initialValue:!0},EDIT_MSG_TARGET:{context:o.EDIT_MSG_TARGET,initialValue:void 0},ADD_SNIPPET_CALLBACK:{context:o.ADD_SNIPPET_CALLBACK,initialValue:function(){}},OPTIMIZE_MESSAGE_CALLBACK:{context:o.OPTIMIZE_MESSAGE_CALLBACK,initialValue:function(){}},MESSAGES:{context:o.MESSAGES,initialValue:o.INITIAL_STATE.messages},SNIPPETS:{context:o.SNIPPETS,initialValue:o.INITIAL_STATE.snippets}},l=function(t){function n(e){var n=t.call(this,e)||this;return n.mounted=!1,n.createSetter=function(e){return function(t){var r=n._state[e],u="function"==typeof t?t(r):t;r!==u&&(n._state[e]=u,n._ctx_values[e]=new o.ImmutableContextValue(u,n._setters[e]),n.mounted&&n.forceUpdate())}},n._state={},n._setters={},n._ctx_values={},Object.entries(c).forEach(function(e){var t=e[0],r=e[1],u=(r.context,r.initialValue);n._state[t]=u,n._setters[t]=n.createSetter(t),n._ctx_values[t]=new o.ImmutableContextValue(n._state[t],n._setters[t])}),n}return s(n,t),n.prototype.componentDidMount=function(){this.mounted=!0},n.prototype.componentWillUnmount=function(){this.mounted=!1},n.prototype.render=function(){var t=this,n=this.props.children;return e.h(e.Fragment,null,Object.entries(c).reduce(function(n,r){var o=r[0],u=r[1],i=u.context.Provider;return e.h(i,{context:u.context,value:t._ctx_values[o]},n)},n))},n}(t.PureComponent);exports.WithGlobalContexts=l;var f=function(t){var i,a=t.children,s=n.useContext(o.MESSAGES).value,c=n.useContext(o.SNIPPETS).value,l=n.useContext(o.VOLUME_CTX).value,f=n.useContext(o.EDITOR_STATE).value,_=n.useContext(o.EDITOR_SETTINGS).value,T=n.useContext(o.EDITOR_UNSAVED).value,E=(0,u.useStateIfMounted)(null!==(i=null===o.INITIAL_STATE||void 0===o.INITIAL_STATE?void 0:o.INITIAL_STATE.message)&&void 0!==i?i:-1),p=E[0],I=E[1],S=(0,u.useValueRef)(T),v=n.useRef(!1),A=n.useCallback(function(e,t){if(null==e)return!1;var n=!0;return S.current&&!0!==t&&(n=confirm("Are you sure you want to discard your changes?")),!!n&&(v.current=!1,I(e),!0)},[]),d=n.useMemo(function(){return new o.ImmutableContextValue(p,A)},[A,p]);(0,n.useEffect)(function(){r.set_stored_state({volume:l,message:p,editor:f,settings:_})},[l,f,p,_]),(0,n.useEffect)(function(){r.set_stored_messages(s)},[s]),(0,n.useEffect)(function(){r.set_stored_snippets(c)},[c]);var x=n.useRef(!1),O=n.useCallback(function(){return x.current},[]);return(0,n.useEffect)(function(){T&&(v.current=!0)},[T]),(0,u.useOptimizeMessage)(_,x,v),e.h(o.IS_OPTIMIZED.Provider,{value:O},e.h(o.LOADED_MESSAGE.Provider,{value:d},a))};exports.WithContextHooks=f;
},{"preact":"aSor","preact/compat":"AQ6k","preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI","~/view/utils":"YORt"}],"v69W":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AudioPlayer=void 0;var e=o(require("preact")),t=require("preact/hooks"),r=require("~/model"),u=require("~/view/utils");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(u,a,i):u[a]=e[a]}return u.default=e,r&&r.set(e,u),u}var a=function(n){var o=n.id,a=n.data,i=n.className,l=(0,u.useContextState)(r.VOLUME_CTX),c=l[0],s=l[1],f=(0,t.useRef)(),d=(0,t.useCallback)(function(e){e.target.volume!==c&&(null==s||s(e.target.volume))},[s]),v=(0,u.useDebounce)(d)[0];return(0,t.useEffect)(function(){window.addEventListener("set-volume",function(e){f.current&&null!=e.detail&&setTimeout(function(){f.current.volume=e.detail},150)})},[]),(0,t.useEffect)(function(){var e;if(f.current&&null!=c&&c!==(null===(e=f.current)||void 0===e?void 0:e.volume)){var t=new CustomEvent("set-volume",{detail:c,bubbles:!0});window.dispatchEvent(t)}},[c]),e.h("div",{className:"tts-player"+(0,u.maybeClassName)(i)},e.h("audio",{ref:f,id:o?o+"-audio":"audio",controls:!0,onVolumeChange:v},a&&e.h("source",{id:o?o+"-source":"source",type:"audio/wav",src:a})))};exports.AudioPlayer=a;
},{"preact":"aSor","preact/hooks":"MwGB","~/model":"p5UI","~/view/utils":"YORt"}],"ue35":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ClipboardButton=void 0;var e=n(require("preact")),t=require("~/view/utils");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(o,u,i):o[u]=e[u]}return o.default=e,n&&n.set(e,o),o}var o=function(r){var n=r.text,o=r.disabled,a=r.className,u=(0,t.useTempAnimation)(2e3),i=u[0],c=u[1],s=u[2],p=(0,t.useCopyToClipboard)(n);return e.h("button",{className:"btn tts-clipboard-button"+(a?" "+a:""),"data-success":""+i,disabled:o,onMouseDown:function(){return s(!1)},onClick:function(){return p().then(c).catch(function(){})}},e.h("div",{className:"tts-clipboard-button-inner"},e.h("i",{className:"fas fa-copy"}),"Copy to Clipboard"))};exports.ClipboardButton=o;
},{"preact":"aSor","~/view/utils":"YORt"}],"bvP4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ModalHeader=exports.Modal=void 0;var e=o(require("preact")),t=require("preact/hooks"),r=require("~/view/utils");function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,r&&r.set(e,o),o}var n=function(a){var o=a.className,n=a.id,i=a.dismiss,s=a.children,u=(0,t.useCallback)(function(e){"Escape"===e.key&&i()},[]);return(0,t.useEffect)(function(){return window.addEventListener("keydown",u),function(){window.removeEventListener("keydown",u)}},[u]),e.h("div",{className:"modal-backdrop",onClick:function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),i()}},e.h("div",{id:n,className:"modal"+(0,r.maybeClassName)(o),onClick:function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}},s))};exports.Modal=n;var i=function(t){var r=t.children,a=t.dismiss;return e.h("div",{className:"modal-header"},e.h("h3",null,r),e.h("button",{className:"icon-button modal-close",onClick:a},e.h("i",{className:"fas fa-times"})))};exports.ModalHeader=i;
},{"preact":"aSor","preact/hooks":"MwGB","~/view/utils":"YORt"}],"oVou":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StatusIndicator=void 0;var e=r(require("preact"));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,a=new WeakMap;return(t=function(e){return e?a:r})(e)}function r(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=t(r);if(a&&a.has(e))return a.get(e);var n={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=c?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=e[s]}return n.default=e,a&&a.set(e,n),n}var a=function(t){var r=t.status;return e.h("div",{className:"tts-submit-status"},r.pending?e.h("i",{className:"fas fa-circle-notch"}):r.success?e.h("i",{className:"fas fa-check-circle"}):r.error?e.h("i",{className:"fas fa-exclamation-circle"}):null)};exports.StatusIndicator=a;
},{"preact":"aSor"}],"Qr85":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./AudioPlayer");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./ClipboardButton");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./Modal");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./StatusIndicator");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});
},{"./AudioPlayer":"v69W","./ClipboardButton":"ue35","./Modal":"bvP4","./StatusIndicator":"oVou"}],"RjJh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BitsInput=void 0;var e=o(require("preact")),t=require("~/view/utils"),r=require("preact/hooks"),n=require("~/model"),u=require("~/common");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=u?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var a=function(i){var o,a,s=i.bits,c=i.setBits,f=null!==(a=null===(o=(0,r.useContext)(n.EDITOR_SETTINGS).value)||void 0===o?void 0:o.bits_string)&&void 0!==a?a:u.DEFAULT_BITS_STRING,l=(0,t.useStateIfMounted)(!!s),p=l[0],d=l[1],v=(0,t.useStateIfMounted)(s||f),b=v[0],h=v[1];return(0,r.useEffect)(function(){p&&s&&s!==b?h(s):p&&!s&&d(!1)},[s]),(0,r.useEffect)(function(){p&&b&&b!==s&&c(b)},[b]),(0,r.useEffect)(function(){p&&b&&b!==s?c(b):p||c("")},[p]),e.h("div",{className:"tts-textarea-bits"},e.h("label",{className:"tts-textarea-bits-checkbox"},e.h("input",{type:"checkbox",checked:p,onInput:function(e){return d(e.target.checked)}}),"Use Bits"),e.h("input",{className:"tts-textarea-bits-string",value:b,disabled:!p,onChange:p?function(e){var t=e.target.value.trim();t&&h(t)}:void 0,onBlur:p?function(e){e.target.value.trim()||h(f)}:void 0}))};exports.BitsInput=a;
},{"preact":"aSor","~/view/utils":"YORt","preact/hooks":"MwGB","~/model":"p5UI","~/common":"rTqy"}],"eOgV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Editor=void 0;var e=i(require("preact")),t=require("preact/hooks"),r=require("~/model"),n=require("~/view/components"),u=require("~/view/utils");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=u?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}var o=function(s){var i=s.message,o=s.updateMessages,a=(0,u.useContextState)(r.EDITOR_STATE),c=a[0],l=a[1],d=(0,u.useContextState)(r.EDITOR_UNSAVED),f=d[0],p=d[1],v=(0,t.useContext)(r.LOADED_MESSAGE).setValue,g=(0,t.useContext)(r.ADD_SNIPPET_CALLBACK).setValue,m=(0,t.useRef)(),b=(0,u.useStateObject)(c),h=b[0],x=b[1],E=(0,u.useValueRef)(h),y=h.text,_=h.speed,O=h.max_length,S=h.bits,k=(0,t.useMemo)(function(){return(0,u.ensure_number)(O,255)},[O]),M=(0,t.useCallback)(function(){return{start:m.current.selectionStart,end:m.current.selectionEnd}},[]),C=(0,t.useCallback)(function(e){r.EditorHistory.push({keep:e,state:E.current,cursor:M()})},[]),R=(0,t.useRef)(null);(0,t.useEffect)(function(){r.EditorHistory.initialize({state:c,cursor:{start:m.current.selectionStart,end:m.current.selectionEnd}},function(e,t){var r,n=t&&null!==(r=e.cursor_before)&&void 0!==r?r:e.cursor;e.state!==E.current?(x(e.state),R.current=n):(m.current.selectionStart=n.start,m.current.selectionEnd=n.end)})},[]),(0,t.useEffect)(function(){R.current&&(m.current.selectionStart=R.current.start,m.current.selectionEnd=R.current.end,R.current=null)},[h]),(0,t.useEffect)(function(){var e=S&&(y+" "+S).length>k?y.slice(0,k-S.length-1):y;l({max_length:k,speed:_,text:e,bits:S})},[k,_,y,S]);var D=(0,t.useMemo)(function(){return{text:S&&(y+" "+S).length>k?y.slice(0,k-S.length-1):y,name:null==i?void 0:i.name,options:{max_length:k,speed:_,bits:S}}},[k,_,y,null==i?void 0:i.name,S]),P=(0,u.usePlayMessage)(D),T=P[0],w=P[1],H=P[2],j=P[3],A=(0,t.useRef)(!1),z=(0,u.useValueRef)(y),L=(0,t.useRef)(),N=(0,t.useRef)(-1),V=(0,t.useRef)(-1),q=(0,t.useCallback)(function(e,t,n,u){e!==z.current?C(u<=r.OptimizeTrigger.submit):r.EditorHistory.keep()},[]),I=(0,t.useCallback)(function(e,t,n,u){e!==z.current?(N.current=t,V.current=n,L.current=e,A.current=u===r.OptimizeTrigger.submit,x({text:e})):u===r.OptimizeTrigger.submit&&(A.current=!1,r.EditorHistory.keep(),H())},[]);(0,t.useEffect)(function(){A.current&&(A.current=!1,r.EditorHistory.keep(),H()),y===L.current&&(-1!==N.current&&-1!==V.current&&(m.current&&(m.current.selectionStart=N.current,m.current.selectionEnd=V.current),N.current=-1,V.current=-1),C(),L.current="")},[y]);var W=(0,u.useOptimizeMessageTrigger)(m,q,I),B=(0,t.useCallback)(function(){return W(r.OptimizeTrigger.submit)},[W]),F=(0,t.useRef)(!0);(0,t.useEffect)(function(){var e,t,n,u,s,o,a,c,l,d;F.current?F.current=!1:i&&(x({text:i.text,speed:null===(e=i.options)||void 0===e?void 0:e.speed,max_length:null===(t=i.options)||void 0===t?void 0:t.max_length,bits:null!==(u=null===(n=i.options)||void 0===n?void 0:n.bits)&&void 0!==u?u:""}),r.EditorHistory.reset({state:{text:i.text,speed:null!==(o=null===(s=i.options)||void 0===s?void 0:s.speed)&&void 0!==o&&o,max_length:null!==(c=null===(a=i.options)||void 0===a?void 0:a.max_length)&&void 0!==c?c:255,bits:null!==(d=null===(l=i.options)||void 0===l?void 0:l.bits)&&void 0!==d?d:""},cursor:M()}))},[i]);var G=(0,u.useValueRef)(k),J=(0,t.useCallback)(function(){if(!f||confirm("Discard unsaved changes to the current message?")){v(-1,!0);var e={text:"",bits:"",speed:!1,max_length:G.current};x(e),p(!1),r.EditorHistory.reset({state:e,cursor:M()})}},[f]),K=(0,n.useHistoryListeners)(m),U=K[0],Q=K[1],X=(0,u.useInsertSnippet)(y,k,m);(0,t.useEffect)(function(){g(function(){return function(e,t){var r=X(e,t);Q(r,t),x({text:r})}})},[]);var Y=(0,t.useCallback)(function(e){return x({max_length:e})},[x]);return e.h(e.Fragment,null,e.h(n.EditorHeader,{maxLength:k,setMaxLength:Y,reset:J}),e.h(n.EditorMain,{inputRef:m,text:y,onSubmit:B,speed:_,status:w,bits:S,setState:x,listeners:U}),e.h("div",{className:"row"},e.h(n.AudioPlayer,{data:T}),e.h(n.StatusIndicator,{status:w})),w.error&&e.h("div",{className:"error"},JSON.stringify(w.error,null,2)),e.h("div",{className:"row tts-main-bottom"},e.h(n.SaveMessage,{disabled:!f,message:D,updateMessages:o}),e.h(n.ClipboardButton,{text:j,disabled:!y})))};exports.Editor=o;
},{"preact":"aSor","preact/hooks":"MwGB","~/model":"p5UI","~/view/components":"AOf9","~/view/utils":"YORt"}],"K8tP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorHeader=void 0;var t=o(require("preact")),e=require("preact/hooks"),i=require("~/common"),n=require("~/model"),r=require("~/view/utils");function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(a=function(t){return t?i:e})(t)}function o(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var i=a(e);if(i&&i.has(t))return i.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=r?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,i&&i.set(t,n),n}var s=function(){return(s=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},u=function(a){var o=a.maxLength,u=a.setMaxLength,l=a.reset,c=(0,r.useContextState)(n.EDITOR_SETTINGS),p=c[0],m=c[1],h=(0,e.useContext)(n.OPTIMIZE_MESSAGE_CALLBACK).value,f=(0,r.useValueRef)(p),v=(0,e.useCallback)(function(t,e){var i;return m(s(s({},f.current),((i={})[t]=e,i)))},[]),d=(0,r.useStateIfMounted)(o),g=d[0],b=d[1],y=(0,r.useDebounce)(u,75)[0];return(0,e.useEffect)(function(){o!==g&&b(o)},[o]),t.h(t.Fragment,null,t.h("div",{className:"tts-header"},t.h("div",{className:"tts-header-top"},t.h("h4",null,"TTS Message"),t.h("div",{className:"tts-header-controls"},t.h("button",{className:"btn btn-with-icon icon-only btn-negative tts-options-reset",title:"Clear the editor and start a new message",onClick:l},t.h("i",{className:"fas fa-undo"})))),t.h("div",{className:"tts-options"},t.h("div",{className:"tts-options-item tts-options-char-limit"},t.h("label",{for:"tts-options-char-limit",className:"tts-options-item-label"},"Character Limit: ",g),t.h("input",{id:"tts-options-char-limit",className:"tts-options-item-control",type:"range",min:255,max:500,onInput:function(t){var e=(0,r.ensure_number)(t.target.valueAsNumber,255);b(e),y(e)},value:g})),t.h("div",{className:"tts-options-item tts-options-voice",title:"Select a TTS voice"},t.h("div",{className:"tts-options-item-label"},"TTS Voice"),t.h("div",{className:"tts-options-item-control"},t.h("select",{value:p.voice,onChange:function(t){return v("voice",t.target.value)}},i.VOICE_NAMES.map(function(e){return t.h("option",{value:e,key:e},e)})))),t.h("div",{className:"tts-options-item tts-options-trigger",title:"Choose when message optimization is triggered. Optimization will eliminate unneeded characters (such as replacing 'you' with 'u') to maximize the amount of text you can fit within the character limit."},t.h("button",{className:"btn btn-large",onClick:function(){return h(n.OptimizeTrigger.manual)}},"Optimize Message")))))};exports.EditorHeader=u;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/model":"p5UI","~/view/utils":"YORt"}],"a7WJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TTSTextArea=exports.EditorMain=void 0;var e=u(require("preact")),t=require("preact/hooks"),n=require("~/model"),r=require("~/view/components"),i=require("~/view/utils");function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=i?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(r,u,o):r[u]=e[u]}return r.default=e,n&&n.set(e,r),r}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=function(i){var a=i.text,u=i.setState,s=i.onSubmit,c=i.speed,p=i.bits,d=i.status,f=i.inputRef,v=i.listeners,h=(0,t.useContext)(n.EDITOR_STATE).value.max_length,b=p?p.length+1:0,g=(0,t.useCallback)(function(e){return u({text:e})},[u]),m=(0,t.useCallback)(function(e){return u({bits:e})},[u]),x=(0,t.useCallback)(function(e){return u({speed:e})},[u]);return e.h("p",{className:"tts-textarea-container"},e.h(l,o({inputRef:f,id:"tts-main-input",value:a,onChangeText:g,bitsString:p,maxLength:h-b,speed:c},v)),e.h("div",{className:"tts-textarea-bottom"},e.h("div",null,"Length:"," ",e.h("span",null,a.length+b," / ",h)),e.h("div",null,e.h("label",null,e.h("input",{type:"checkbox",checked:c,onInput:function(e){return x(e.target.checked)}}),"Speed Modifier")),e.h(r.BitsInput,{bits:p,setBits:m}),e.h(r.PauseAddControl,{speedModified:c,text:a})),e.h("div",{className:"row"},e.h("div",{className:"tts-textarea-submit"},e.h("button",{className:"btn btn-primary",disabled:d.pending||!a,type:"submit",onClick:function(e){e.preventDefault(),s(a)}},"Submit"))))};exports.EditorMain=s;var l=function(r){var a=r.value,u=r.onChangeText,o=r.speed,s=r.id,l=r.maxLength,c=r.bitsString,p=r.inputRef,d=r.onMouseUp,f=r.onKeyUp,v=r.onChange,h=(0,t.useContext)(n.EDITOR_SETTINGS).value,b=(0,t.useContext)(n.OPTIMIZE_MESSAGE_CALLBACK).value,g=(0,t.useRef)(),m=(0,i.useDebounce)(b,300),x=m[0],y=m[1],O=(0,i.useDebounce)(b,5e3),T=O[0],k=O[1];(0,t.useEffect)(function(){return h.optimize_words===n.OptimizeTrigger.stop?T(n.OptimizeTrigger.stop):h.optimize_words>=n.OptimizeTrigger.edit&&x(n.OptimizeTrigger.edit),function(){y(),k()}},[a]);var w=(0,t.useCallback)(function(){var e,t;null===(e=g.current)||void 0===e||e.setAttribute("data-cursor",""+(null===(t=null==p?void 0:p.current)||void 0===t?void 0:t.selectionStart))},[]),C="",S=parseInt(""+l);return o&&S!==a.length&&(C="".repeat(Math.max(0,S-a.length-1))),c&&(C+=" "+c),e.h("div",{className:"tts-textarea"},e.h("textarea",{id:s,ref:p,className:"tts-textarea-input",value:a,rows:12,cols:82,maxLength:l,onInput:function(e){var t;null===(t=null==v?void 0:v.bind(e.target))||void 0===t||t(e),u(e.target.value)},onBlur:function(){return x(n.OptimizeTrigger.blur)},onFocus:y,onKeyDown:function(e){"z"!==e.key&&"Z"!==e.key||!e.ctrlKey&&!e.metaKey||e.altKey||e.preventDefault(),w()},onKeyUp:function(e){var t;null===(t=null==f?void 0:f.bind(e.target))||void 0===t||t(e),w()},onClick:w,onSelect:w,onMouseUp:d}),e.h("div",{className:"tts-textarea-preview",ref:g},e.h("span",null,a.slice(0,l)),e.h("span",{className:"tts-textarea-preview-over-limit"},a.slice(l))," ",e.h("span",null,C)))};exports.TTSTextArea=l;
},{"preact":"aSor","preact/hooks":"MwGB","~/model":"p5UI","~/view/components":"AOf9","~/view/utils":"YORt"}],"V9Nn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PauseAddControl=exports.generate_pause=exports.generate_modified_pause=exports.generate_unmodified_pause=exports.MOD_PAUSE_CHAR_DURATION=exports.SLASH_DURATION=exports.PAUSE_CHAR_SPEED_MODIFIED=void 0;var e=u(require("preact")),t=require("preact/hooks"),r=require("~/view/utils"),n=require("~/model");function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=u?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var o="";exports.PAUSE_CHAR_SPEED_MODIFIED=o;var s=2.5/14;exports.SLASH_DURATION=s;var i=1.067/14;exports.MOD_PAUSE_CHAR_DURATION=i;var c=function(e){return"/ ".repeat(Math.max(1,Math.round(e/s)))};exports.generate_unmodified_pause=c;var d=function(e){return o.repeat(Math.max(1,Math.round(e/i)))};exports.generate_modified_pause=d;var l=function(e,t){return void 0===t&&(t=!1),t?d(e):c(e)};exports.generate_pause=l;var p=function(a){var u=a.text,o=a.speedModified,s=(0,r.useStateIfMounted)(!1),i=s[0],c=s[1],d=(0,r.useStateIfMounted)(1),p=d[0],f=d[1],v=(0,r.useStateIfMounted)(o),m=v[0],h=v[1],_=(0,t.useRef)(),b=(0,t.useContext)(n.ADD_SNIPPET_CALLBACK).value,A=function(){return c(!1)},x=(0,t.useCallback)(function(){var e=l(p,m);return(m||u.endsWith(" ")?"":" ")+e},[p,m,u]);(0,t.useEffect)(function(){var e;if(i){var t=document.activeElement;return null===(e=_.current)||void 0===e||e.focus(),function(){var e;null===(e=_.current)||void 0===e||e.blur(),null==t||t.focus()}}},[i]),(0,t.useEffect)(function(){o!==m&&h(o)},[o]);var P=e.h("div",{className:"modal-backdrop"},e.h("div",{className:"modal tts-pause-modal"},e.h("div",{className:"modal-header"},e.h("h3",null,"Add a Pause")),e.h("div",{className:"modal-body"},e.h("div",{className:"row"},e.h("label",{className:"tts-pause-modal-duration"},e.h("span",null,"Pause Duration"),e.h("span",null,e.h("input",{type:"number",value:p,min:.1,max:10,step:.1,onInput:function(e){return f((0,r.ensure_number)(e.target.valueAsNumber,1))}}),"seconds")),e.h("label",{className:"tts-pause-modal-checkbox"},e.h("input",{type:"checkbox",checked:m,onInput:function(e){return h(e.target.checked)}}),"Preserve Speed Modifiers"))),e.h("div",{className:"modal-footer"},e.h("button",{className:"btn",onClick:A},"Cancel"),e.h("button",{className:"btn btn-primary",onClick:function(){b(x(),"end"),A()}},"Add"))));return e.h("div",{className:"tts-pause-control"},e.h("button",{className:"btn",onClick:function(){return c(!0)}},"Add Pause"),i&&(0,r.useModal)(P))};exports.PauseAddControl=p;
},{"preact":"aSor","preact/hooks":"MwGB","~/view/utils":"YORt","~/model":"p5UI"}],"cO6E":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SaveMessageModal=exports.SaveMessage=void 0;var e=o(require("preact")),t=require("preact/hooks"),a=require("~/model"),s=require("~/view/components"),r=require("~/view/utils");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(n=function(e){return e?a:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=n(t);if(a&&a.has(e))return a.get(e);var s={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=r?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(s,o,u):s[o]=e[o]}return s.default=e,a&&a.set(e,s),s}var u=function(){return(u=Object.assign||function(e){for(var t,a=1,s=arguments.length;a<s;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=function(t){var a=t.message,s=t.updateMessages,n=t.disabled,o=(0,r.useStateIfMounted)(!1),u=o[0],i=o[1];return e.h("button",{className:"btn",disabled:!a.text||n,onClick:function(){return i(!0)}},e.h("i",{className:"fas fa-save"}),"Save Message",u&&(0,r.useModal)(e.h(l,{message:a,updateMessages:s,dismiss:function(){return i(!1)}})))};exports.SaveMessage=i;var l=function(n){var o=n.message,i=n.updateMessages,l=n.dismiss,c=(0,t.useContext)(a.MESSAGES).value,f=(0,t.useContext)(a.LOADED_MESSAGE).value,p=c[f],d=o.name,v=(0,r.useStateIfMounted)(d),b=v[0],m=v[1],M=null==b?void 0:b.trim();return e.h(s.MessageModalBase,{message:o,name:b,setName:m,dismiss:l,isNew:!p},e.h("button",{className:"btn",onClick:l},"Cancel"),!!p&&e.h("button",{className:"btn btn-primary",onClick:function(){i(-1,u(u({},o),{name:M}))&&l()},disabled:!M||M===d},"Save As New..."),e.h("button",{className:"btn btn-primary",onClick:function(){i(f,u(u({},o),{name:M}))&&l()},disabled:!M},"Save ",p?"Changes":"New"))};exports.SaveMessageModal=l;
},{"preact":"aSor","preact/hooks":"MwGB","~/model":"p5UI","~/view/components":"AOf9","~/view/utils":"YORt"}],"Q4W8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useCtrlZListener=exports.useHistoryListeners=void 0;var e=u(require("preact/hooks")),t=require("~/model"),r=require("~/view/utils");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=c?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(u,o,s):u[o]=e[o]}return u.default=e,r&&r.set(e,u),u}var c=function(){return(c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var u in t=arguments[r])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e}).apply(this,arguments)},o=/[ \-*&!@.,;':+=]/,s=function(n){var u,s,i=e.useContext(t.EDITOR_STATE).value,a=(0,r.useValueRef)(i),l=i.max_length,f=i.speed,d=i.bits,p=(0,e.useRef)(null!==(s=null===(u=n.current)||void 0===u?void 0:u.selectionStart)&&void 0!==s?s:-1),v=(0,e.useRef)(),y=(0,e.useRef)(),b=(0,e.useCallback)(function(e){return{start:null==e?void 0:e.selectionStart,end:null==e?void 0:e.selectionEnd}},[]),g=(0,e.useRef)(b(n.current)),h=(0,e.useRef)(!0);(0,e.useEffect)(function(){var e;if(h.current)h.current=!1;else{var r=null===(e=t.EditorHistory.getCurrentState())||void 0===e?void 0:e.state;if(r){var u=Object.entries({max_length:l!==r.max_length,speed:f!==r.speed,bits:d!==r.bits}).filter(function(e){return!!e[1]}).map(function(e){return e[0]});0!==u.length&&(t.EditorHistory.push({state:a.current,cursor:{start:n.current.selectionStart,end:n.current.selectionEnd}},1===u.length&&u[0]===y.current),y.current=u.length>1?void 0:u[0],v.current=void 0)}}},[l,f,d]);var E=(0,e.useCallback)(function(e){var r,n,u=!1,s=e.target.selectionStart,i=a.current.text,l=e.target.value;if(i!==l){var f=i.slice(0,p.current),d=l.slice(0,s),b=i.slice(p.current),h=l.slice(s),E={state:c(c({},a.current),{text:l}),cursor:{start:s,end:e.target.selectionEnd}};f===d?(n=h[0],r="delete",u=s!==p.current):b!==h?(r="replace",u=!0):(r=f.length>d.length?"backspace":"type",n=d.slice(-1),u=s-p.current!=("backspace"===r?-1:1));var k=r!==v.current,x=!(u||k||o.test(n)),w=t.EditorHistory.getCurrentState(),O=w.cursor_before,C=w.cursor,S=x?O:g.current;g.current&&null!=g.current.start&&null!=g.current.end||(S=C),t.EditorHistory.push(c(c({},E),{cursor_before:S}),x),p.current=s,v.current=r,y.current="text"}else p.current=s},[]),k=(0,e.useCallback)(function(e){g.current=b(e.target)},[]),x=(0,e.useRef)(!1),w=(0,e.useRef)(!1),O=(0,e.useCallback)(function(e,r){e!==a.current.text||"end"===r?("start"===r?x.current=!0:"end"===r&&(e===a.current.text?t.EditorHistory.push({keep:!0,state:c({},a.current),cursor:{start:n.current.selectionStart,end:n.current.selectionEnd}}):(x.current=!1,w.current=!0)),y.current="text",v.current="snippet"):p.current=n.current.selectionStart},[]);return(0,e.useEffect)(function(){"snippet"===v.current&&!x.current&&w.current&&(w.current=!1,t.EditorHistory.push({state:c({},a.current),cursor:{start:n.current.selectionStart,end:n.current.selectionEnd},keep:!0}))},[i.text]),[(0,e.useMemo)(function(){return{onChange:E,onKeyDown:k,onKeyUp:k,onClick:k,onSelect:k,onMouseUp:k}},[E,k]),O]};exports.useHistoryListeners=s;var i=function(e){"z"!==e.key&&"Z"!==e.key||!e.ctrlKey&&!e.metaKey||e.altKey||(e.preventDefault(),e.shiftKey?t.EditorHistory.redo():t.EditorHistory.undo())},a=function(t){var n=(0,r.useStateRef)(!0),u=n[0],c=n[1],o=n[2];(0,e.useEffect)(function(){if(t.current){var e=new MutationObserver(function(e){var t,r=0===(null===(t=e[0].target)||void 0===t?void 0:t.childElementCount);r!==o.current&&c(r)});return e.observe(t.current,{childList:!0}),function(){e.disconnect()}}},[t.current]),(0,e.useEffect)(function(){return u&&window.addEventListener("keydown",i),function(){o.current||window.removeEventListener("keydown",i)}},[u])};exports.useCtrlZListener=a;
},{"preact/hooks":"MwGB","~/model":"p5UI","~/view/utils":"YORt"}],"Yncg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./BitsInput");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./Editor");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./Header");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./Main");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./PauseAddControl");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var u=require("./SaveControl");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});var s=require("./utils");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===s[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}}))});
},{"./BitsInput":"RjJh","./Editor":"eOgV","./Header":"K8tP","./Main":"a7WJ","./PauseAddControl":"V9Nn","./SaveControl":"cO6E","./utils":"Q4W8"}],"mUbX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExportForm=void 0;var e=s(require("preact")),t=require("preact/hooks"),n=require("~/model"),r=require("~/view/components"),a=require("~/view/utils");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=a?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(r,s,u):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}var u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=function(o){var s=o.dismiss,l=(0,t.useContext)(n.EDITOR_SETTINGS).value,i=(0,t.useContext)(n.MESSAGES).value,c=(0,t.useContext)(n.SNIPPETS).value,p=(0,t.useRef)(),f=(0,a.useStateIfMounted)(!0),d=f[0],h=f[1],b=(0,a.useStateIfMounted)(!0),v=b[0],m=b[1],x=(0,a.useStateIfMounted)(!1),g=x[0],k=x[1],y=(0,a.useStateIfMounted)(void 0),S=y[0],N=y[1],_=(0,a.useStateIfMounted)(""),w=_[0],I=_[1],M=(0,t.useCallback)(function(){if(d||v||g){var e={__type:"export-data"};if(d&&(e.messages=(0,r.export_messages)(i),!v&&!g))return I("tts-data-messages"),void N((0,r.generate_file)(e.messages));if(v&&(e.snippets=(0,r.export_snippets)(c),!d&&!g))return I("tts-data-snippets"),void N((0,r.generate_file)(e.snippets));if(g&&(e.settings=u(u({},l),{__type:"settings"}),!d&&!v))return I("tts-data-settings"),void N((0,r.generate_file)(e.settings));I("tts-data"),N((0,r.generate_file)(e))}},[i,c,l,d,v,g]);(0,t.useEffect)(function(){var e;S&&w&&(null===(e=p.current)||void 0===e||e.click())},[S]);var O=(0,a.useStateIfMounted)(!1),j=O[0],C=O[1],E=!(d||v||g);return j?e.h(r.ResetStorage,{onCancel:function(){return C(!1)}}):e.h(e.Fragment,null,e.h("div",{className:"modal-body tts-export-export"},e.h("div",{className:"tts-export-export-form"},e.h("h4",null,"What data would you like to export?"),e.h("ul",null,e.h("li",null,e.h("label",{className:"checkbox"},e.h("input",{type:"checkbox",checked:d,onInput:function(){return h(!d)}}),e.h("span",{className:"checkbox-label"},"Messages"))),e.h("li",null,e.h("label",{className:"checkbox"},e.h("input",{type:"checkbox",checked:v,onInput:function(){return m(!v)}}),e.h("span",{className:"checkbox-label"},"Snippets"))),e.h("li",null,e.h("label",{className:"checkbox"},e.h("input",{type:"checkbox",checked:g,onInput:function(){return k(!g)}}),e.h("span",{className:"checkbox-label"},"Settings")))),e.h("div",{className:"row"},e.h("button",{className:"btn btn-primary btn-large",onClick:E?void 0:M,disabled:E},"Export")),S&&w?e.h("div",{className:"row"},e.h("a",{href:"data:application/json;charset=utf-8,"+encodeURIComponent(S),download:w+".json",ref:p},"Click here if the download doesn't start automatically.")):null)),e.h("div",{className:"modal-footer tts-export-footer"},e.h("button",{className:"btn btn-negative",onClick:function(){return C(!0)}},"Reset Storage"),e.h("button",{className:"btn btn-primary",onClick:s},"Done")))};exports.ExportForm=l;
},{"preact":"aSor","preact/hooks":"MwGB","~/model":"p5UI","~/view/components":"AOf9","~/view/utils":"YORt"}],"lsqS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImportForm=void 0;var e=i(require("preact")),t=require("preact/hooks"),n=require("~/model"),a=require("~/view/components"),r=require("~/view/utils");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=r?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}var u=function(o){var i=o.dismiss,u=o.initialData,l=(0,r.useContextState)(n.EDITOR_SETTINGS),p=l[0],c=l[1],f=(0,r.useContextState)(n.MESSAGES),d=f[0],h=f[1],v=(0,r.useContextState)(n.SNIPPETS),g=v[0],m=v[1],S=(0,r.useStateIfMounted)(u),M=S[0],b=S[1],I=(0,r.useStateRef)(0),D=I[0],y=I[1],N=I[2],x=(0,t.useMemo)(function(){return M?(0,a.import_data)(M,p,d,g):null},[M]),O=(0,r.useStateIfMounted)(void 0),k=O[0],C=O[1],P=(0,r.useStateIfMounted)(void 0),E=P[0],j=P[1],w=(0,r.useStateIfMounted)(void 0),T=w[0],_=w[1],F=(0,r.useStateIfMounted)(void 0),R=F[0],q=F[1],W=(0,t.useCallback)(function(){return y(N.current+1)},[]),z=(0,t.useCallback)(function(){0===N.current?(b(void 0),C(void 0),j(void 0),_(void 0),q(void 0)):y(N.current-1)},[]),A=null!=x?x:[],G=A[0],J=A[1],B=A[2],L=A[3],U=void 0===L?[]:L,Y=A[4],H=void 0===Y?[]:Y,K=A[5],Q=void 0===K?[]:K,V=A[6],X=void 0===V?[]:V,Z=(0,r.useStateIfMounted)(!1),$=Z[0],ee=Z[1],te=(0,t.useCallback)(function(){G&&c(G),E&&h(E),R&&m(R),ee(!0)},[G,E,R]);(0,t.useEffect)(function(){x&&(0===U.length&&0===H.length&&0===Q.length&&0===X.length&&(G&&c(G),J&&h(J),B&&m(B),ee(!0)),J?(C(J),j(J)):0!==U.length&&0!==H.length&&(C(d),j(d)),B?(_(B),q(B)):0===Q.length&&0===X.length||(_(g),q(g)))},[x]);var ne=(0,t.useMemo)(function(){var t=[];return 0!==U.length&&t.push(e.h(a.ImportDuplicateMessages,{current:D===t.length,duplicates:U,messages:null!=J?J:d,updateMessages:C,nextStep:W,prevStep:z})),0!==H.length&&t.push(e.h(a.ImportRenameMessages,{current:D===t.length,messages:k,updateMessages:j,duplicates:H,nextStep:W,prevStep:z})),0!==Q.length&&t.push(e.h(a.ImportDuplicateSnippets,{current:D===t.length,snippets:null!=B?B:g,updateSnippets:_,duplicates:Q,nextStep:W,prevStep:z})),0!==X.length&&t.push(e.h(a.ImportUncategorizedSnippets,{current:D===t.length,snippets:T,updateSnippets:q,uncategorized:X,nextStep:W,prevStep:z})),t},[D,U,H,Q,X,J,k,B,T]);return(0,t.useEffect)(function(){D>0&&D===ne.length&&te()},[D]),x?$?e.h(e.Fragment,null,e.h("div",{className:"modal-body tts-import-file"},e.h("div",{className:"tts-import-success"},e.h("h4",null,"Import Successful!"),e.h("i",{className:"far fa-check-circle"}))),e.h("div",{className:"modal-footer"},e.h("div",null),e.h("button",{className:"btn btn-primary btn-large",onClick:i},"Finish"))):e.h(e.Fragment,null,ne):e.h("div",{className:"modal-body tts-import-file"},e.h(s,{onChange:b}))};exports.ImportForm=u;var s=function(n){var o=n.onChange,i=(0,r.useStateIfMounted)(!1),u=i[0],s=i[1],l=(0,r.useStateIfMounted)(!1),p=l[0],c=l[1],f=(0,r.useStateIfMounted)(!1),d=f[0],h=f[1],v=(0,t.useRef)(),g=(0,t.useRef)(),m=(0,t.useCallback)(function(e,t){if("application/json"===e.type){u&&s(!1);var n=new FileReader;n.onload=function(e){if(e.target)try{var n=JSON.parse(e.target.result),r=(0,a.validate_import_data)(n);r?(c(!1),o(r)):c(!0)}catch(i){console.error("Failed to parse import file:",i),s(!0)}null==t||t()},n.readAsText(e)}else s(!0)},[u,o]);return e.h("form",{ref:g},e.h("div",{"data-dragged":""+d,className:"tts-import-input",onClick:function(){var e;return null===(e=v.current)||void 0===e?void 0:e.click()},onDragOver:function(e){e.preventDefault(),e.stopPropagation(),h(!0)},onDragEnter:function(e){e.preventDefault(),e.stopPropagation(),h(!0)},onDrop:function(e){e.preventDefault(),e.stopPropagation(),h(!1);var t=e.dataTransfer.files[0];t&&m(t,e.dataTransfer.clearData)},onDragLeave:function(){return h(!1)},onDragExit:function(){return h(!1)},onDragEnd:function(){return h(!1)}},e.h("div",{className:"tts-import-input-main"},e.h("i",{className:"fas fa-file-upload"}),e.h("div",{className:"tts-import-input-text"},e.h("span",null,"Drag & Drop"),e.h("span",null,"OR"),e.h("span",null,"Click to Browse"))),(u||p)&&e.h("div",{className:"tts-import-input-error"},u?"You must select a valid JSON file.":"That file did not contain any data that could be imported.")),e.h("input",{ref:v,className:"invisible",type:"file",tabIndex:-1,onChange:function(e){var t=e.target.files[0];t&&m(t)},accept:"application/json"}))};
},{"preact":"aSor","preact/hooks":"MwGB","~/model":"p5UI","~/view/components":"AOf9","~/view/utils":"YORt"}],"hnd6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImportMessageCompareItem=exports.ImportDuplicateMessages=void 0;var e=o(require("preact")),t=require("preact/hooks"),a=require("~/common"),r=require("~/view/components"),n=require("~/view/utils");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}var i=function(){return(i=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},l=function(s){var o=s.current,l=s.messages,c=s.updateMessages,u=s.duplicates,p=s.nextStep,d=s.prevStep,f=(0,t.useRef)(),h=(0,n.useStateRef)(void 0),g=h[0],v=h[1],b=h[2],w=(0,t.useMemo)(function(){return u.map(function(e){var t,a,n=null==l?void 0:l.find(function(t){return(0,r.is_duplicate_message)(t,e)});if(!n)return null;var s=null===(t=f.current)||void 0===t?void 0:t.find(function(t){return t.new_message.name===e.name&&t.old_message.name===n.name});return{old_message:n,new_message:e,selected:null!==(a=b.current)&&void 0!==a?a:null==s?void 0:s.selected}}).filter(function(e){return!!e})},[l,u]),N=(0,n.useStateWithRef)(w,f),y=N[0],_=N[1];(0,t.useEffect)(function(){g&&_(y.map(function(e){return i(i({},e),{selected:g})}))},[g]);var k=(0,t.useCallback)(function(e,t){v(void 0),_((0,a.replace_item_in)(f.current,function(t){return t.new_message.name===e.new_message.name&&t.old_message.name===e.old_message.name},i(i({},e),{selected:t})))},[]),M=(0,t.useMemo)(function(){return y.every(function(e){return!!e.selected})},[y]),O=(0,t.useCallback)(function(e){if(e.preventDefault(),M){for(var t=l,r=function(e){"new"===e.selected&&(t=(0,a.replace_item_in)(t,function(t){return t.name===e.old_message.name},e.new_message))},n=0,s=y;n<s.length;n++){r(s[n])}c(t),p()}},[M,y]);return o?e.h(e.Fragment,null,e.h("div",{className:"modal-body tts-import-conflicts"},e.h("p",null,"Some of the messages you imported were identical to existing messages, but with different names. Choose the name you want to keep."),e.h("form",{id:"duplicate-message-form",onSubmit:O,className:"tts-import-compare modal-scroll-content"},e.h("div",{className:"tts-import-compare-row"},e.h("div",{className:"tts-import-compare-row-top"},e.h("div",{className:"tts-import-compare-side"},e.h("label",{className:"tts-import-compare-header","data-static":1===w.length},e.h("div",{className:"tts-import-compare-header-label"},"Keep Original Name"),w.length>1&&e.h("span",{className:"tts-import-compare-header-input"},e.h("input",{type:"radio",value:"old",name:"select_all",checked:"old"===g,onChange:function(){return v("old")}}),"Select All"))),e.h("div",{className:"tts-import-compare-side","data-static":1===w.length},e.h("label",{className:"tts-import-compare-header"},e.h("div",{className:"tts-import-compare-header-label"},"Use Imported Name"),w.length>1&&e.h("span",{className:"tts-import-compare-header-input"},e.h("input",{type:"radio",value:"new",name:"select_all",checked:"new"===g,onChange:function(){return v("new")}}),"Select All"))))),y.map(function(t,a){return e.h(m,{key:a,row:t,onSelect:k})}))),e.h("div",{className:"tts-import-review-footer modal-footer"},e.h("button",{className:"btn btn-large",type:"button",onClick:d},"Back"),e.h("button",{className:"btn btn-primary btn-large",form:"duplicate-message-form",disabled:!M},"Continue"))):null};exports.ImportDuplicateMessages=l;var m=function(t){var a=t.row,r=t.onSelect,s=a.old_message,o=a.new_message,i=a.selected,l=(0,n.useMessageFullText)(s);return e.h("div",{className:"tts-import-compare-row"},e.h("div",{className:"tts-import-compare-row-top"},e.h("div",{className:"tts-import-compare-side","data-selected":""+("old"===i)},e.h("label",{className:"btn btn-with-icon btn-large"},e.h("input",{type:"radio",value:s.name,checked:"old"===i,onChange:function(){return r(a,"old")},className:"tts-import-compare-message-old"}),e.h("div",{className:"tts-import-compare-message-name"},s.name))),e.h("div",{className:"tts-import-compare-side","data-selected":""+("new"===i)},e.h("label",{className:"btn btn-with-icon btn-large"},e.h("input",{type:"radio",value:o.name,checked:"new"===i,onChange:function(){return r(a,"new")},className:"tts-import-compare-message-new"}),e.h("div",{className:"tts-import-compare-message-name"},o.name)))),e.h("div",{className:"tts-import-compare-row-bottom"},e.h("div",{className:"tts-import-compare-message-text"},l)))};exports.ImportMessageCompareItem=m;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/view/components":"AOf9","~/view/utils":"YORt"}],"oW7G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImportSnippetCompareItem=exports.ImportSnippetCompareSection=exports.ImportDuplicateSnippets=void 0;var e=i(require("preact")),t=require("preact/hooks"),n=require("~/common"),r=require("~/view/components"),o=require("~/view/utils");function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var p=o?Object.getOwnPropertyDescriptor(e,i):null;p&&(p.get||p.set)?Object.defineProperty(r,i,p):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(a){var i=a.current,s=a.snippets,l=a.updateSnippets,u=a.duplicates,m=a.nextStep,d=a.prevStep,f=(0,t.useRef)(),h=(0,o.useStateRef)(void 0),v=h[0],w=h[1],b=h[2],_=(0,t.useMemo)(function(){return u.map(function(e){var t,o=null==s?void 0:s.find(function(t){return t.name===e.name});if(!o)return null;var a=null===(t=f.current)||void 0===t?void 0:t.find(function(t){return t.section.name===e.name});return{rows:e.data.map(function(t){var i,p,s=o.data.find(function(e){return(0,r.is_duplicate_snippet)(e,t)});if(!s)return null;var c=null===(i=null==a?void 0:a.rows)||void 0===i?void 0:i.find(function(e){return(0,n.deep_equals)(e.new_snippet,t)});return{section:e,old_snippet:s,new_snippet:t,selected:null!==(p=b.current)&&void 0!==p?p:null==c?void 0:c.selected}}).filter(function(e){return!!e}),section:e}}).filter(function(e){return!!e})},[s,u]),y=(0,o.useStateWithRef)(_,f),S=y[0],g=y[1];(0,t.useEffect)(function(){v&&g(S.map(function(e){return p(p({},e),{rows:e.rows.map(function(e){return p(p({},e),{selected:v})})})}))},[v]);var N=(0,t.useCallback)(function(e,t){w(void 0);var r=f.current.find(function(t){return t.section.name===e.section.name}),o=p(p({},r),{rows:(0,n.replace_item_in)(r.rows,function(t){return(0,n.deep_equals)(t.new_snippet,e.new_snippet)},p(p({},e),{selected:t}))});g((0,n.replace_item_in)(f.current,function(t){return t.section.name===e.section.name},o))},[]),k=(0,t.useMemo)(function(){return S.every(function(e){return e.rows.every(function(e){return!!e.selected})})},[S]),C=(0,t.useCallback)(function(e){if(e.preventDefault(),k){for(var t=s,o=function(e){for(var o=e.section.data,a=function(e){"new"===e.selected&&(o=(0,n.replace_item_in)(o,function(t){return(0,r.is_duplicate_snippet)(t,e.old_snippet)},e.new_snippet))},i=0,s=e.rows;i<s.length;i++){a(s[i])}t=(0,n.replace_item_in)(t,function(t){return t.name===e.section.name},p(p({},e.section),{data:o}))},a=0,i=S;a<i.length;a++){o(i[a])}l(t),m()}},[k,S]);return i?e.h(e.Fragment,null,e.h("div",{className:"modal-body tts-import-conflicts tts-import-snippets-duplicates"},e.h("p",null,"Some of the snippets you imported had the same content, but with different options. Choose the version you want to keep."),e.h("form",{id:"duplicate-snippet-form",onSubmit:C,className:"tts-import-compare tts-import-compare-snippets modal-scroll-content"},e.h("table",{cellSpacing:0},e.h("thead",null,e.h("tr",{className:"tts-import-compare-row"},e.h("th",{className:"tts-import-compare-side"},e.h("label",{className:"tts-import-compare-header","data-static":1===_.length},e.h("div",{className:"tts-import-compare-header-label"},"Keep Original Snippet"),_.length>1&&e.h("span",{className:"tts-import-compare-header-input"},e.h("input",{type:"radio",value:"old",name:"select_all",checked:"old"===v,onChange:function(){return w("old")}}),"Select All"))),e.h("th",{className:"tts-import-compare-side","data-static":1===_.length},e.h("label",{className:"tts-import-compare-header"},e.h("div",{className:"tts-import-compare-header-label"},"Use Imported Snippet"),_.length>1&&e.h("span",{className:"tts-import-compare-header-input"},e.h("input",{type:"radio",value:"new",name:"select_all",checked:"new"===v,onChange:function(){return w("new")}}),"Select All"))))),e.h("tbody",null,S.map(function(t){return e.h(c,p({key:t.section.name},t,{onSelect:N}))}))))),e.h("div",{className:"tts-import-review-footer modal-footer"},e.h("button",{className:"btn btn-large",type:"button",onClick:d},"Back"),e.h("button",{disabled:!k,className:"btn btn-primary btn-large",form:"duplicate-snippet-form"},"Continue"))):null};exports.ImportDuplicateSnippets=s;var c=function(t){var n=t.section,r=t.rows,o=t.onSelect;return e.h(e.Fragment,null,e.h("tr",{className:"tts-import-compare-snippet-section"},e.h("td",{colSpan:2},n.name)),r.map(function(t,n){return e.h(l,{key:n,row:t,onSelect:o})}))};exports.ImportSnippetCompareSection=c;var l=function(t){var n=t.row,o=t.onSelect,a=n.old_snippet,i=n.new_snippet,p=n.selected;return e.h("tr",{className:"tts-import-compare-row"},e.h("td",{className:"tts-import-compare-side","data-selected":""+("old"===p)},e.h("label",{className:"btn btn-with-icon btn-large"},e.h("input",{type:"radio",checked:"old"===p,onChange:function(){return o(n,"old")},className:"tts-import-compare-snippet-old"}),e.h("div",{className:"tts-import-compare-snippet"},e.h(r.Snippet,{data:a,showRepeats:!0})))),e.h("td",{className:"tts-import-compare-side","data-selected":""+("new"===p)},e.h("label",{className:"btn btn-with-icon btn-large"},e.h("input",{type:"radio",checked:"new"===p,onChange:function(){return o(n,"new")},className:"tts-import-compare-snippet-new"}),e.h("div",{className:"tts-import-compare-snippet"},e.h(r.Snippet,{data:i,showRepeats:!0})))))};exports.ImportSnippetCompareItem=l;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/view/components":"AOf9","~/view/utils":"YORt"}],"adFD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImportExport=void 0;var e=o(require("preact")),t=require("~/view/components"),r=require("~/view/utils");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=u?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}var u=function(){var n=(0,r.useStateIfMounted)(!1),o=n[0],u=n[1];return e.h(e.Fragment,null,e.h("button",{className:"icon-button tts-export-button",onClick:function(){return u(!0)},title:"Import/Export"},e.h("i",{className:"fas fa-exchange-alt"}),e.h("i",{className:"fas fa-file"})),o&&(0,r.useModal)(e.h(t.ImportExportModal,{dismiss:function(){return u(!1)}})))};exports.ImportExport=u;
},{"preact":"aSor","~/view/components":"AOf9","~/view/utils":"YORt"}],"izDl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImportExportModal=void 0;var e=a(require("preact")),t=require("~/view/components"),r=require("~/view/utils");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}var n=function(o){var a=o.importData,n=o.dismiss,i=(0,r.useStateIfMounted)(a?"import":"export"),s=i[0],p=i[1];return e.h("div",{className:"modal-backdrop"},e.h("div",{className:"modal tts-export-modal"},e.h("div",{className:"modal-header modal-header-tabs"},e.h("button",{className:"modal-header-tab","data-active":""+("import"===s),onClick:function(){return p("import")}},"Import"),e.h("button",{className:"modal-header-tab","data-active":""+("export"===s),onClick:function(){return p("export")}},"Export"),e.h("button",{className:"icon-button modal-close",onClick:n},e.h("i",{className:"fas fa-times"}))),"export"===s?e.h(t.ExportForm,{dismiss:n}):e.h(t.ImportForm,{dismiss:n})))};exports.ImportExportModal=n;
},{"preact":"aSor","~/view/components":"AOf9","~/view/utils":"YORt"}],"gaf3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImportMessageRenameItem=exports.ImportRenameMessages=void 0;var e=s(require("preact")),t=require("preact/hooks"),n=require("~/common"),a=require("~/view/utils");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=s?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},u=function(r){var s=r.messages,i=r.updateMessages,u=r.duplicates,m=r.nextStep,l=r.prevStep,f=r.current,d=(0,t.useRef)(),p=(0,a.useValueRef)(s),h=(0,t.useCallback)(function(e,t){var n;return e===t.name||!!p.current.find(function(t){return t.name===e})||!!(null===(n=d.current)||void 0===n?void 0:n.find(function(n){return n.name===e&&!n.discard&&n.message.name!==t.name}))},[]),g=(0,a.useStateRef)(void 0),v=g[0],b=g[1],y=g[2],O=(0,t.useMemo)(function(){return null==u?void 0:u.filter(function(e){return null==s?void 0:s.find(function(t){return t.name===e.name})}).map(function(e){var t,n,a=null===(t=d.current)||void 0===t?void 0:t.find(function(t){return t.message.name===e.name});return o(o({message:e,name:"",discard:null!==(n=y.current)&&void 0!==n&&n},null!=a?a:{}),{invalid:!!a&&h(a.name,a.message)})})},[u,s]),N=(0,a.useStateWithRef)(O,d),k=N[0],w=N[1];(0,t.useEffect)(function(){w(O)},[O]),(0,t.useEffect)(function(){null!=v&&w(k.map(function(e){return o(o({},e),{discard:v})}))},[v]);var x=(0,t.useCallback)(function(e,t){w((0,n.replace_item_in)(d.current,function(t){return t.message.name===e.message.name},o(o({},e),{name:t,invalid:h(t,e.message)})))},[]),C=(0,t.useCallback)(function(e,t){b(void 0),w((0,n.replace_item_in)(d.current,function(t){return t.message.name===e.message.name},o(o({},e),{discard:t,invalid:h(e.name,e.message)})))},[]),M=(0,t.useMemo)(function(){return k.every(function(e){return e.name&&e.name!==e.message.name&&!e.invalid||e.discard})},[k]),j=(0,t.useCallback)(function(e){if(e.preventDefault(),e.target.checkValidity()&&M){var t=s.concat(k.filter(function(e){return!e.discard&&!e.invalid}).map(function(e){return o(o({},e.message),{name:e.name})}));i(t),m()}else e.target.reportValidity()},[k,M]);return f?e.h(e.Fragment,null,e.h("div",{className:"modal-body tts-import-conflicts"},e.h("p",null,"Some of the messages you imported had identical names to existing messages but different content. Rename or discard these messages."),e.h("form",{id:"import-rename-form",className:"tts-import-rename modal-scroll-content",onSubmit:j},e.h("table",{cellSpacing:0},e.h("thead",null,e.h("tr",{className:"tts-import-rename-row"},e.h("th",{className:"tts-import-rename-message"},"Message"),e.h("th",{className:"tts-import-rename-name"},"New Name"),e.h("th",{className:"tts-import-rename-discard"},e.h("label",null,"Discard",e.h("input",{type:"checkbox",checked:v,onChange:function(){return b(!v)}}))))),e.h("tbody",null,k.map(function(t){return e.h(c,o({key:t.message.name},t,{onChangeName:x,onChangeDiscard:C}))}))))),e.h("div",{className:"tts-import-review-footer modal-footer"},e.h("button",{className:"btn btn-large",type:"button",onClick:l},"Back"),e.h("button",{disabled:!M,className:"btn btn-primary btn-large",form:"import-rename-form"},"Continue"))):null};exports.ImportRenameMessages=u;var c=function(n){var r=n.onChangeName,s=n.onChangeDiscard,o=i(n,["onChangeName","onChangeDiscard"]),u=o.message,c=o.name,m=o.discard,l=o.invalid,f=(0,a.useStateIfMounted)(null!=c?c:null==u?void 0:u.name),d=f[0],p=f[1],h=(0,a.useDebounce)(r,80)[0];return(0,t.useEffect)(function(){h(o,d)},[d]),(0,t.useEffect)(function(){c!==d&&p(c)},[c]),e.h("tr",{className:"tts-import-rename-row"},e.h("td",{className:"tts-import-rename-message"},e.h("div",{className:"tts-import-compare-message-text"},u.text)),e.h("td",{className:"tts-import-rename-name"},e.h("input",{type:"text",value:d,defaultValue:u.name,required:!m,onChange:function(e){return p(e.target.value)},disabled:m,"data-invalid":""+(!m&&l)})),e.h("td",{className:"tts-import-rename-discard"},e.h("label",null,e.h("input",{type:"checkbox",checked:m,onInput:function(){return s(o,!m)}}))))};exports.ImportMessageRenameItem=c;
},{"preact":"aSor","preact/hooks":"MwGB","~/common":"rTqy","~/view/utils":"YORt"}],"KpJL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImportSnippetCategorizeItem=exports.ImportUncategorizedSnippets=void 0;var e=a(require("preact")),t=require("~/view/components"),n=require("preact/hooks"),r=require("~/view/utils"),o=require("~/common");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=o?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(r,a,c):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}var c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(t){var i=t.uncategorized,a=t.updateSnippets,s=t.snippets,p=t.nextStep,l=t.prevStep,d=t.current,f=(0,n.useRef)(),m=(0,r.useStateRef)(void 0),h=m[0],v=m[1],b=m[2],g=(0,n.useMemo)(function(){return i.map(function(e){return{snippet:e,selected:void 0,discard:!1}})},[i]),y=(0,r.useStateWithRef)(g,f),S=y[0],k=y[1];(0,n.useEffect)(function(){null!=h&&k(S.map(function(e){return c(c({},e),{discard:h})}))},[h]);var w=(0,n.useCallback)(function(e,t){v(void 0),k((0,o.replace_item_in)(f.current,function(t){return(0,o.deep_equals)(t.snippet,e.snippet)},c(c({},e),{selected:t})))},[]),N=(0,n.useCallback)(function(e,t){v(void 0),k((0,o.replace_item_in)(f.current,function(t){return(0,o.deep_equals)(t.snippet,e.snippet)},c(c({},e),{discard:t})))},[]),_=(0,n.useMemo)(function(){return S.every(function(e){return!!e.selected||e.discard})},[S]),z=(0,n.useCallback)(function(e){var t;if(e.preventDefault(),_){var n=null!=s?s:[];if(!0!==b.current){for(var r=function(e){if(!e.selected||e.discard)return"continue";var r=null!==(t=n.find(function(t){return t.name===e.selected.name}))&&void 0!==t?t:e.selected;n=(0,o.replace_item_in)(n,function(t){return t.name===e.selected.name},c(c({},r),{data:(0,o.add_item_to)(r.data,e.snippet)}),"end")},i=0,u=S;i<u.length;i++){r(u[i])}a(n),p()}else p()}},[_,S,s]),C=(0,n.useMemo)(function(){return null==s?void 0:s.concat(S.filter(function(e){return!!e.selected&&!s.find(function(t){var n;return t.name===(null===(n=e.selected)||void 0===n?void 0:n.name)})}).map(function(e){return e.selected}))},[s,S]);return d?e.h(e.Fragment,null,e.h("div",{className:"modal-body tts-import-conflicts tts-import-snippets-uncategorized"},e.h("p",null,"Some of the snippets you imported were not part of a group. Choose or create a group to add each snippet to."),e.h("form",{id:"uncategorized-snippet-form",onSubmit:z,className:"tts-import-rename tts-import-categorize-snippets modal-scroll-content"},e.h("table",{cellSpacing:0},e.h("thead",null,e.h("tr",{className:"tts-import-compare-row"},e.h("th",{className:"tts-import-snippet-col"},"Snippet"),e.h("th",{className:"tts-import-snippet-select-section"},"Section"),e.h("th",{className:"tts-import-rename-discard"},e.h("label",null,"Discard",e.h("input",{type:"checkbox",checked:h,onChange:function(){return v(!h)}}))))),e.h("tbody",null,S.map(function(t,n){return e.h(u,{key:n,row:t,sections:C,onChangeDiscard:N,onSelect:w})}))))),e.h("div",{className:"tts-import-review-footer modal-footer"},e.h("button",{className:"btn btn-large",type:"button",onClick:l},"Back"),e.h("button",{disabled:!_,className:"btn btn-primary btn-large",form:"uncategorized-snippet-form"},"Continue"))):null};exports.ImportUncategorizedSnippets=s;var u=function(o){var i,a=o.row,c=o.sections,s=o.onSelect,u=o.onChangeDiscard,p=a.snippet,l=a.selected,d=a.discard,f=(0,r.useValueRef)(a),m=(0,r.useStateIfMounted)(null!==(i=null==l?void 0:l.name)&&void 0!==i?i:""),h=m[0],v=m[1],b=(0,n.useCallback)(function(e){var t;if(e.trim()){var n=null!==(t=c.find(function(t){return t.name===e}))&&void 0!==t?t:{name:e,open:!1,data:[]};s(f.current,n)}else s(f.current,void 0)},[s,c]),g=(0,r.useDebounce)(b,100)[0];return(0,n.useEffect)(function(){g(h)},[h]),e.h("tr",{className:"tts-import-compare-row"},e.h("td",{className:"tts-import-categorize-snippet"},e.h(t.Snippet,{data:p,showRepeats:!0})),e.h("td",{className:"tts-import-categorize-section"},e.h("label",{className:"tts-import-categorize-section-input"},e.h("input",{id:"categorize-input",value:h,onChange:function(e){return v(e.target.value)},list:"categories-list",disabled:d,autocomplete:"off"}),e.h("datalist",{id:"categories-list"},null==c?void 0:c.map(function(t){return e.h("option",{key:t.name,value:t.name},t.name)})))),e.h("td",{className:"tts-import-rename-discard"},e.h("label",null,e.h("input",{type:"checkbox",checked:d,onInput:function(){return u(a,!d)}}))))};exports.ImportSnippetCategorizeItem=u;
},{"preact":"aSor","~/view/components":"AOf9","preact/hooks":"MwGB","~/view/utils":"YORt","~/common":"rTqy"}],"l0Xa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.validate_import_data=exports.import_data=exports.is_duplicate_snippet=exports.is_duplicate_message=exports.generate_file=exports.export_snippets=exports.export_messages=exports.SNIPPET_DUPE_PROPS=exports.MESSAGE_DUPE_PROPS=void 0;var t=require("~/common"),e=require("~/model"),n=function(){return(n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n},a=6,i=["speed","max_length"];exports.MESSAGE_DUPE_PROPS=i;var s=["prefix","suffix"];exports.SNIPPET_DUPE_PROPS=s;var p=function(t){return t.map(function(t){return n(n({},(0,e.conform_to_schema)(t,e.MESSAGE_SCHEMA)),{__type:"message"})})};exports.export_messages=p;var o=function(t){return t.map(function(t){return n(n({},(0,e.conform_to_schema)(n(n({},t),{data:[]}),e.SNIPPET_SECTION_SCHEMA)),{__type:"snippets-section",data:t.data.map(function(t){return n(n({},(0,e.conform_to_schema)(t,e.SNIPPET_SCHEMA)),{__type:"snippet"})})})})};exports.export_snippets=o;var _=function(t){return JSON.stringify(t,null,"  ")};exports.generate_file=_;var u=function(t,e){return t.text===e.text&&i.every(function(n){return t[n]===e[n]})};exports.is_duplicate_message=u;var f=function(t,e){return t.text===e.text&&s.every(function(n){return t.options[n]===e.options[n]})};exports.is_duplicate_snippet=f;var c=function(e,a,i,s){var p,o,_,c=[],l=[],y=[],d=[],m=[],v=[],g=[],x=function(t){var e=i.find(function(e){return u(e,t)})||c.find(function(e){return u(e,t)});e?e.name!==t.name&&y.push(t):i.find(function(e){return e.name===t.name})||c.find(function(e){return e.name===t.name})?d.push(t):c.push(t)},E=function(e,r){var a,i,p=m;r&&(p=(r=function(t){var e=l.find(function(e){return e.name===t.name});if(e)return e;var r=n(n({},t),{data:[]});return l.push(r),r}(r)).data);var o=p.find(function(t){return f(t,e)})||(null===(i=null===(a=s.find(function(t){return t.name===(null==r?void 0:r.name)}))||void 0===a?void 0:a.data)||void 0===i?void 0:i.find(function(t){return f(t,e)}));if(o){if(!(0,t.deep_equals)(e,o)&&r){var _=v.find(function(t){return t.name===r.name});if(_)_.data.push(e);else{var u=n(n({},r),{data:[e]});v.push(u)}}}else r?r.data.push(e):m.push(e)};if(Array.isArray(e))e.forEach(function(t){var e=t.__type,n=r(t,["__type"]);"message"===e?x(n):"snippets-section"===e?n.data.forEach(function(t){t.__type;var e=r(t,["__type"]);return E(e,n)}):"snippet"===e&&E(n)});else if("export-data"===e.__type){var h=e.settings,S=e.messages,P=e.snippets;if(h){h.__type;var O=r(h,["__type"]);p=n(n({},a),O)}S.forEach(function(t){var e=t.__type,n=r(t,["__type"]);"message"===e&&x(n)}),P.forEach(function(t){var e=t.__type,n=r(t,["__type"]);"snippets-section"===e&&n.data.forEach(function(t){t.__type;var e=r(t,["__type"]);return E(e,n)})})}else if("settings"===e.__type){e.__type,h=r(e,["__type"]);p=n(n({},a),h)}else if("message"===e.__type){e.__type;var A=r(e,["__type"]);x(A)}else if("snippets-section"===e.__type){e.__type;var M=r(e,["__type"]);M.data.forEach(function(t){t.__type;var e=r(t,["__type"]);return E(e,M)})}else if("snippet"===e.__type){e.__type;var b=r(e,["__type"]);E(b)}return c.length>0&&(o=i.concat(c)),l=l.filter(function(t){return!s.find(function(e){return e.name===t.name})||(t.data.length>0&&g.push(t),!1)}),g.length>0&&(_=s.map(function(t){var e=g.find(function(e){return e.name===t.name});return e?n(n({},t),{data:t.data.concat(e.data)}):t})),l.length>0&&(_=(null!=_?_:s).concat(l)),[p,o,_,y,d,v,m.filter(function(t){var e;return!(null!==(e=null!=_?_:s)&&void 0!==e?e:[]).find(function(e){if(e.data)return!!e.data.find(function(e){return f(e,t)})})})]};exports.import_data=c;var l=function t(i,s,p){if(void 0===s&&(s=0),s>a)return null;if(Array.isArray(i))return i.map(function(e){return t(e,s+1,p)}).filter(function(t){return!!t});if(!("__type"in i)||"string"!=typeof i.__type||p&&i.__type!==p)return null;if("export-data"===i.__type){if(!i.snippets&&!i.messages&&!i.settings)return null;var o={__type:"export-data"};return i.settings&&(o.settings=t(i.settings,s+1)),i.messages&&(o.messages=t(i.messages,s+1,"message")),i.snippets&&(o.snippets=t(i.snippets,s+1,"snippets-section")),o}if("settings"===i.__type)return n({__type:"settings"},(0,e.conform_to_schema)(i,e.SETTINGS_SCHEMA));if("message"===i.__type)return n({__type:"message"},(0,e.conform_to_schema)(i,e.MESSAGE_SCHEMA));if("snippet"===i.__type)return n({__type:"snippet"},(0,e.conform_to_schema)(i,e.SNIPPET_SCHEMA));if("snippets-section"===i.__type){var _=i,u=_.data,f=r(_,["data"]);return n(n({__type:"snippets-section"},(0,e.conform_to_schema)(n(n({},f),{data:[]}),e.SNIPPET_SECTION_SCHEMA)),{data:u.filter(function(t){return!!t}).map(function(e){return t(e,s+1,"snippet")}).filter(function(t){return!!t})})}return null};exports.validate_import_data=l;
},{"~/common":"rTqy","~/model":"p5UI"}],"Hrmp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResetStorage=void 0;var e=a(require("preact")),t=require("~/common");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(n,s,l):n[s]=e[s]}return n.default=e,a&&a.set(e,n),n}var n=function(r){var a=r.onCancel;return e.h(e.Fragment,null,e.h("div",{className:"modal-body tts-reset"},e.h("div",{className:"tts-reset-icon"},e.h("i",{className:"fas fa-exclamation-circle"})),e.h("h1",null,"WARNING"),e.h("p",null,"This operation cannot be reversed. Resetting storage will clear all saved messages, snippets, and settings, and restore the default sample data. If there's anything you might want to keep, go back and export the data before resetting.")),e.h("div",{className:"modal-footer"},e.h("button",{className:"btn btn-large",onClick:a},"Cancel"),e.h("button",{className:"btn btn-large btn-negative",onClick:t.reset_all_storage},"Continue")))};exports.ResetStorage=n;
},{"preact":"aSor","~/common":"rTqy"}],"A6Do":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./Export");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./Import");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./ImportDuplicateMessages");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./ImportDuplicateSnippets");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./ImportExport");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var u=require("./ImportExportModal");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});var s=require("./ImportRenameMessages");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===s[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return s[e]}}))});var i=require("./ImportUncategorizedSnippets");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===i[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}}))});var p=require("./utils");Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===p[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return p[e]}}))});var c=require("./Reset");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===c[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return c[e]}}))});
},{"./Export":"mUbX","./Import":"lsqS","./ImportDuplicateMessages":"hnd6","./ImportDuplicateSnippets":"oW7G","./ImportExport":"adFD","./ImportExportModal":"izDl","./ImportRenameMessages":"gaf3","./ImportUncategorizedSnippets":"KpJL","./utils":"l0Xa","./Reset":"Hrmp"}],"reWG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessageModalBase=exports.MessageModal=void 0;var e=o(require("preact")),s=require("preact/hooks"),t=require("~/view/components"),a=require("~/view/utils");function n(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:s})(e)}function o(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(s);if(t&&t.has(e))return t.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,t&&t.set(e,a),a}var l=function(n){var o=n.message,l=n.loadMessage,r=n.updateMessage,u=n.deleteMessage,d=n.dismiss,c=n.previewMessage,m=n.isNew,h=o||{},p=h.name,f=void 0===p?"":p,v=h.options,g=(0,a.useMessageFullText)(o),b=(0,a.useStateIfMounted)(f),N=b[0],M=b[1],w=(0,s.useCallback)(function(){confirm("Are you sure you want to delete this message?")&&(u(),d())},[]);return o?e.h(i,{message:o,name:N,setName:M,dismiss:d,previewMessage:c},m?e.h("div",null):e.h("button",{className:"btn btn-negative btn-with-icon",onClick:w,disabled:!f},e.h("i",{className:"fas fa-trash"}),"Delete"),!m&&e.h("div",{className:"btn-multi"},e.h("button",{className:"btn btn-with-icon btn-left",onClick:function(){l(),d()}},e.h("i",{className:"fas fa-folder-open"}),"Load Into Editor"),e.h(t.ClipboardButton,{className:"btn btn-with-icon btn-right",text:g})),e.h("button",{className:"btn btn-primary",onClick:function(){r({name:N,text:o.text,options:v}),d()},disabled:!N||N===f},"Save")):null};exports.MessageModal=l;var i=function(t){var n=t.message,o=t.name,l=t.setName,i=t.dismiss,r=t.isNew,u=(t.previewMessage,t.children),d=(0,s.useRef)(),c=(n||{}).options,m=c.max_length,h=c.speed,p=c.bits,f=(0,a.useMessageFullText)(n);return(0,s.useEffect)(function(){var e;null===(e=d.current)||void 0===e||e.focus()},[]),e.h("div",{className:"modal-backdrop"},e.h("div",{className:"modal tts-message-modal"},e.h("div",{className:"modal-header"},e.h("h3",null,r?"Create New":"Edit"," Saved Message"),e.h("button",{className:"icon-button modal-close",onClick:i},e.h("i",{className:"fas fa-times"}))),e.h("div",{className:"modal-body"},e.h("div",{className:"row tts-message-modal-name"},e.h("label",{className:"tts-message-modal-input"},e.h("p",null,"Message Name"),e.h("input",{ref:d,value:o,onInput:function(e){return l(e.target.value)}}))),e.h("div",{className:"tts-message-modal-preview"},f),e.h("div",{className:"tts-message-modal-details"},e.h("h4",null,"Options"),e.h("div",{className:"row"},e.h("span",null,"Character Limit: ",e.h("strong",null,m)),e.h("span",null,"Use Speed Modifier: ",e.h("strong",null,h?"Yes":"No")),e.h("span",null,"Use Bits: ",e.h("strong",null,p?"Yes":"No"))))),e.h("div",{className:"modal-footer"},u)))};exports.MessageModalBase=i;
},{"preact":"aSor","preact/hooks":"MwGB","~/view/components":"AOf9","~/view/utils":"YORt"}],"pB03":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessagesListItem=exports.MessagesList=void 0;var e=o(require("preact")),s=require("preact/hooks"),t=require("~/model"),a=require("~/view/components"),r=require("~/view/components/messages/Modal"),i=require("~/view/utils");function n(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:s})(e)}function o(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(s);if(t&&t.has(e))return t.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}return a.default=e,t&&t.set(e,a),a}var u=function(n){var o=n.updateMessages,u=(0,s.useContext)(t.MESSAGES).value,c=(0,i.useContextState)(t.LOADED_MESSAGE),d=c[0],p=c[1],m=(0,i.useStateIfMounted)(void 0),g=m[0],f=m[1],v=(0,i.useAudioPlayer)("messages-sidebar-player"),M=v[0],h=v[1];return e.h("div",{className:"tts-messages"},e.h("div",{className:"row tts-col-header tts-messages-header"},e.h("h4",null,"Messages")),e.h("div",{className:"tts-message-list"},u.map(function(s,t){return e.h(l,{active:t===d,message:s,openMessageInModal:function(){return f(t)}})})),e.h(a.AudioPlayer,{id:"messages-sidebar-player",className:"tts-messages-sidebar-player invisible",data:M}),null!=g&&(0,i.useModal)(e.h(r.MessageModal,{message:u[g],loadMessage:function(){return p(g)},updateMessage:function(e){return o(g,e)},deleteMessage:function(){return o(g)},dismiss:function(){return f(void 0)},previewMessage:h})))};exports.MessagesList=u;var l=function(s){var t=s.active,a=s.message,r=s.openMessageInModal,n=(0,i.useCopyToClipboard)((0,i.useMessageFullText)(a));return e.h("div",{className:"tts-message-item","data-active":""+t},e.h("div",{className:"tts-message-item-header"},e.h("div",{className:"tts-message-item-title",onClick:r},a.name),e.h("button",{className:"btn icon-button tts-message-item-copy",onClick:n,title:"Copy message to clipboard"},e.h("i",{className:"fas fa-clipboard"}))))};exports.MessagesListItem=l;
},{"preact":"aSor","preact/hooks":"MwGB","~/model":"p5UI","~/view/components":"AOf9","~/view/components/messages/Modal":"reWG","~/view/utils":"YORt"}],"hurr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./List");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./Modal");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});
},{"./List":"pB03","./Modal":"reWG"}],"DaPg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SnippetsRow=void 0;var e=s(require("preact")),t=require("preact/hooks"),n=require("~/model"),o=require("~/view/components"),r=require("~/view/utils");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=r?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(o,s,u):o[s]=e[s]}return o.default=e,n&&n.set(e,o),o}var u=function(){return(u=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},l=function(i){var s,l,a,p=i.row,c=(i.updateRow,i.onClickDelete),f=i.onClickEdit,d=i.previewText,v=(0,t.useContext)(n.ADD_SNIPPET_CALLBACK).value,w=(0,r.useStateIfMounted)(!p.text),x=w[0],b=w[1],y=(0,t.useRef)(!1),h=(0,r.useValueRef)(null==p?void 0:p.options),C=(0,t.useCallback)(function(e){var t=p.text,n=void 0===t?"":t,o=p.options,r=o.prefix,i=o.space_before,s=o.default_count;if(2===(null==e?void 0:e.button))e.preventDefault(),y.current=!0,v(n,(null==e?void 0:e.initialClick)?"start":void 0);else if(null==e?void 0:e.initialClick){v((i?" ":"")+(r||"")+n.repeat(s||1),"start")}else v(n)},[v,p]),k=(0,t.useCallback)(function(){var e,t,n=null!==(e=h.current)&&void 0!==e?e:{},o=n.space_after,r=n.suffix,i=void 0===r?"":r;y.current||!i&&!o?v("","end"):v(i+(o?" ":""),"end"),y.current=!1,null===(t=document.getElementById("tts-editor-input"))||void 0===t||t.focus()},[v]),O=(0,r.useHoldClick)(C,k,100);return e.h("li",{className:"tts-snippets-row","data-edit":""+x},e.h("div",{className:"tts-snippets-row-left"},e.h("button",u({type:"button",className:"icon-button tts-snippets-row-control tts-snippets-row-control-add",title:"Add to message"},O,{onContextMenu:function(e){return e.preventDefault()}}),e.h("i",{className:"fas fa-plus"})),e.h("div",{className:"tts-snippets-row-text"},(null===(s=p.options)||void 0===s?void 0:s.prefix)?e.h("span",{className:"tts-snippets-row-text-prefix"},p.options.prefix):null,null!==(l=p.text)&&void 0!==l?l:" ",(null===(a=p.options)||void 0===a?void 0:a.suffix)?e.h("span",{className:"tts-snippets-row-text-suffix"},p.options.suffix):null)),e.h(o.SnippetsRowControls,{row:p,open:x,setOpen:b,onClickEdit:f,onClickDelete:c,previewText:d}))};exports.SnippetsRow=l;
},{"preact":"aSor","preact/hooks":"MwGB","~/model":"p5UI","~/view/components":"AOf9","~/view/utils":"YORt"}],"pH4r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SnippetsRowControls=void 0;var t=r(require("preact")),e=require("preact/hooks"),o=require("~/view/utils");function n(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,o=new WeakMap;return(n=function(t){return t?o:e})(t)}function r(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=n(e);if(o&&o.has(t))return o.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var a=s?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=t[i]}return r.default=t,o&&o.set(t,r),r}var s={once:!0},i=function(n){var r=n.row,i=n.open,a=n.setOpen,u=n.onClickEdit,c=n.onClickDelete,p=n.previewText,l=r.text,f=r.options,d=f.prefix,b=void 0===d?"":d,v=f.default_count,w=f.suffix,m=void 0===w?"":w,h=(0,o.useRequestStatus)(p),C=h[0],y=h[1];(0,e.useEffect)(function(){if(i){var t=function(){setTimeout(function(){return a(!1)},50)};return window.addEventListener("mouseup",t,s),function(){window.removeEventListener("mouseup",t,s)}}},[i]);var k=(0,e.useCallback)(function(){confirm("Are you sure you want to delete this snippet?")&&c()},[c]),N=(0,o.useCopyToClipboard)(""+b+l.repeat(v||1)+m),x=(0,o.useCopyToClipboard)(r.text.repeat(Math.round((v||2)/2)));return t.h("div",{className:"tts-snippets-row-controls","data-open":""+i},t.h("button",{className:"tts-snippets-row-control icon-button tts-snippets-row-controls-button",onClick:function(){return a(!i)}},t.h("i",{className:"fas fa-cog"})),t.h("div",{className:"tts-snippets-row-controls-menu"},t.h("button",{className:"icon-button tts-snippets-row-control",title:"Listen",onClick:function(){return y(r,v)},disabled:C.pending},t.h("i",{className:"fas fa-volume-up"})),t.h("button",{className:"icon-button tts-snippets-row-control",title:"Copy to Clipboard",onClick:N,onAuxClick:x,onContextMenu:function(t){t.preventDefault(),x()}},t.h("i",{className:"fas fa-clipboard"})),t.h("button",{className:"icon-button tts-snippets-row-control",title:"Edit",onClick:u},t.h("i",{className:"fas fa-edit"})),t.h("button",{className:"icon-button tts-snippets-row-control",title:"Delete",onClick:k},t.h("i",{className:"fas fa-trash"}))))};exports.SnippetsRowControls=i;
},{"preact":"aSor","preact/hooks":"MwGB","~/view/utils":"YORt"}],"Rp0m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SnippetsRowEdit=void 0;var e=i(require("preact")),t=require("preact/hooks"),a=require("~/view/components"),n=require("~/view/utils");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(n,o,r):n[o]=e[o]}return n.default=e,a&&a.set(e,n),n}var o={text:"",promise:new Promise(function(){}),data:""},r=function(s){var i,r,l,u,p,c,d,f,h=s.row,m=void 0===h?{}:h,v=s.updateRow,b=s.dismiss,N=(0,n.useStateIfMounted)(null!==(i=m.text)&&void 0!==i?i:""),x=N[0],y=N[1],g=(0,n.useStateIfMounted)(null!==(l=null===(r=m.options)||void 0===r?void 0:r.prefix)&&void 0!==l?l:""),w=g[0],k=g[1],S=(0,n.useStateIfMounted)(null!==(p=null===(u=m.options)||void 0===u?void 0:u.suffix)&&void 0!==p?p:""),I=S[0],M=S[1],O=(0,n.useStateIfMounted)((null===(c=m.options)||void 0===c?void 0:c.default_count)||1),P=O[0],_=O[1],R=(0,n.useStateIfMounted)(null===(d=m.options)||void 0===d?void 0:d.space_before),j=R[0],C=R[1],D=(0,n.useStateIfMounted)(null===(f=m.options)||void 0===f?void 0:f.space_after),W=D[0],q=D[1],E=(0,n.usePlaySnippet)("snippet-modal-player",o),A=E[0],T=E[1],B=E[2],J=(0,t.useRef)();(0,t.useEffect)(function(){var e;null===(e=J.current)||void 0===e||e.focus()},[]);var z={text:x,options:{prefix:w,suffix:I,default_count:P,space_before:j,space_after:W}};return e.h("div",{className:"modal-backdrop"},e.h("div",{className:"modal tts-snippets-modal"},e.h("div",{className:"modal-header"},e.h("h3",null,m.text?"Edit":"Create New"," Snippet"),e.h("button",{className:"icon-button modal-close",onClick:b},e.h("i",{className:"fas fa-times"}))),e.h("div",{className:"modal-body"},e.h("div",{className:"row tts-snippets-modal-text"},e.h("label",{className:"tts-snippets-modal-prefix",title:"Some snippets need to start with a different string than the repeated characters (e.g. the 'y' in yDRDRDR)."},e.h("span",null,"Prefix"),e.h("input",{ref:J,value:w,onInput:function(e){return k(e.target.value)}})),e.h("label",{className:"tts-snippets-modal-input"},e.h("span",null,"Main Text"),e.h("input",{ref:J,value:x,onInput:function(e){return y(e.target.value)}})),e.h("label",{className:"tts-snippets-modal-suffix",title:"Text to insert after all repetitions of the snippet (e.g. punctuation)"},e.h("span",null,"Suffix"),e.h("input",{ref:J,value:I,onInput:function(e){return M(e.target.value)}})),e.h("button",{className:"icon-button",onClick:function(){return B(z)},disabled:!x},e.h("i",{className:"fas fa-volume-up"})),e.h("div",{className:"tts-submit-status"},T.pending?e.h("i",{className:"fas fa-circle-notch"}):T.success?e.h("i",{className:"fas fa-check-circle"}):T.error?e.h("i",{className:"fas fa-exclamation-circle"}):null)),e.h("div",{className:"row"},e.h(a.AudioPlayer,{id:"snippet-modal-player",data:A}),T.error&&e.h("p",{className:"error"},JSON.stringify(T.error,null,2))),e.h("h4",null,"Options"),e.h("div",{className:"row"},e.h("label",{className:"tts-snippets-modal-checkbox",title:"When adding this snippet to the message, put a space between the existing text and the snippet."},e.h("input",{type:"checkbox",checked:j,onInput:function(e){return C(e.target.checked)}}),"Space Before"),e.h("label",{className:"tts-snippets-modal-checkbox",title:"When adding this snippet to the message, put a space after the snippet."},e.h("input",{type:"checkbox",checked:W,onInput:function(e){return q(e.target.checked)}}),"Space After"),e.h("label",{className:"tts-snippets-modal-count",title:"By default, the snippet's main text will be repeated this many times. This can be overridden in the Snippet sidebar."},e.h("input",{type:"number",value:P,min:1,max:20,step:1,onInput:function(e){var t=e.target.valueAsNumber;isNaN(t)||_(t)}}),"Default Repeat Count"))),e.h("div",{className:"modal-footer"},e.h("button",{className:"btn",onClick:b},"Cancel"),e.h("button",{className:"btn btn-primary",onClick:function(){v(z),b()},disabled:!x},"Save"))))};exports.SnippetsRowEdit=r;
},{"preact":"aSor","preact/hooks":"MwGB","~/view/components":"AOf9","~/view/utils":"YORt"}],"PJhF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Snippet=void 0;var e=r(require("preact")),t=require("~/view/utils");function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function r(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var s={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var n=p?Object.getOwnPropertyDescriptor(e,i):null;n&&(n.get||n.set)?Object.defineProperty(s,i,n):s[i]=e[i]}return s.default=e,r&&r.set(e,s),s}var s=function(a){var r=a.data,s=a.className,p=a.showRepeats;return e.h("div",{className:"snippet"+(0,t.maybeClassName)(s)},e.h("div",{className:"snippet-space-before","data-show":""+r.options.space_before}),r.options.prefix&&e.h("div",{className:"snippet-prefix"},r.options.prefix),e.h("div",{className:"snippet-text"},r.text),p&&r.options.default_count>1&&e.h("div",{className:"snippet-text-repeats",title:"Repeat Count: "+r.options.default_count},r.text.repeat(r.options.default_count-1)),r.options.suffix&&e.h("div",{className:"snippet-suffix"},r.options.suffix),e.h("div",{className:"snippet-space-after","data-show":""+r.options.space_after}))};exports.Snippet=s;
},{"preact":"aSor","~/view/utils":"YORt"}],"kCJk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Snippets=void 0;var e=o(require("preact")),t=require("preact/hooks"),n=require("~/model"),r=require("~/view/components"),i=require("~/view/utils");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},u={text:"",promise:new Promise(function(){}),data:""},l=function(){var s,o=(0,i.useContextState)(n.SNIPPETS),l=o[0],p=o[1],c=(0,i.useStateIfMounted)(void 0),f=c[0],d=c[1],v=(0,t.useCallback)(function(e,t){var n=null==l?void 0:l.slice();n[e]=t,p(n.filter(function(e){return!!e}))},[l]),y=(0,t.useCallback)(function(e){if(null!=f){var t=l[f];v(f,a(a({data:[],open:!1},t),{name:e}))}},[f,v,l]),b=(0,t.useCallback)(function(){null!=f&&(v(f),d(void 0))},[v,f]),h=(0,i.usePlaySnippet)("snippets-sidebar-player",u),m=h[0],S=h[2];return e.h("div",{className:"tts-snippets"},e.h("div",{className:"row tts-col-header tts-snippets-header"},e.h("h4",null,"Snippets"),e.h("button",{className:"tts-snippets-add-section icon-button",type:"button",onClick:function(){var e;return d(null!==(e=null==l?void 0:l.length)&&void 0!==e?e:0)},title:"Create a new group of snippets"},e.h("i",{className:"fas fa-plus"}))),e.h("div",{className:"tts-snippets-section-list"},l.map(function(t,n){return e.h(r.SnippetsSection,{key:n,section:t,updateSection:function(e){return v(n,e)},onClickEdit:function(){return d(n)},previewText:S})})),e.h(r.AudioPlayer,{id:"snippets-sidebar-player",className:"tts-snippets-sidebar-player invisible",data:m}),null!=f&&(0,i.useModal)(e.h(r.SnippetsSectionModal,{name:null===(s=l[f])||void 0===s?void 0:s.name,setName:y,dismiss:function(){return d(void 0)},deleteSection:b})))};exports.Snippets=l;
},{"preact":"aSor","preact/hooks":"MwGB","~/model":"p5UI","~/view/components":"AOf9","~/view/utils":"YORt"}],"ltyB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SnippetsSection=void 0;var t=r(require("preact")),e=require("preact/hooks"),n=require("~/view/components"),i=require("~/view/utils");function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}function r(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=o(e);if(n&&n.has(t))return n.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var a=r?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=function(o){var r,a,u=o.section,c=o.updateSection,l=o.onClickEdit,p=o.previewText,d=(0,i.useStateIfMounted)(null!==(r=u.open)&&void 0!==r&&r),f=d[0],v=d[1],h=(0,e.useCallback)(function(t,e){var n,i,o=null!==(i=null===(n=u.data)||void 0===n?void 0:n.slice())&&void 0!==i?i:[];o[t]=e,c(s(s({},u),{data:o.filter(function(t){return!!t})}))},[c,u]);(0,e.useEffect)(function(){c(s(s({},u),{open:f}))},[f]);var w=(0,i.useStateIfMounted)(void 0),m=w[0],y=w[1];return t.h("div",{className:"tts-snippets-section","data-open":""+f},t.h("div",{className:"tts-snippets-section-header"},t.h("div",{className:"tts-snippets-section-title",onClick:function(){return v(!f)}},t.h("div",{className:"tts-snippets-section-expand"},f?t.h("i",{className:"fas fa-chevron-down"}):t.h("i",{className:"fas fa-chevron-right"})),t.h("span",null,u.name)),f&&t.h("button",{className:"icon-button tts-snippets-section-edit",onClick:l},t.h("i",{className:"fas fa-edit"}))),t.h("ul",null,null===(a=u.data)||void 0===a?void 0:a.map(function(e,i){return t.h(n.SnippetsRow,{key:i,row:e,updateRow:function(t){return h(i,t)},onClickDelete:function(){return h(i)},onClickEdit:function(){return y(i)},previewText:p})}),t.h("li",{className:"tts-snippets-row tts-snippets-section-add-row-item"},t.h("button",{className:"tts-snippets-section-add-row",type:"button",onClick:function(){var t,e;return y(null!==(e=null===(t=u.data)||void 0===t?void 0:t.length)&&void 0!==e?e:0)}},t.h("i",{className:"fas fa-plus"}),"Add a Snippet"))),null!=m&&(0,i.useModal)(t.h(n.SnippetsRowEdit,{row:u.data[m],updateRow:function(t){return h(m,t)},onClickDelete:function(){return h(m)},dismiss:function(){return y(void 0)}})))};exports.SnippetsSection=a;
},{"preact":"aSor","preact/hooks":"MwGB","~/view/components":"AOf9","~/view/utils":"YORt"}],"zWHA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SnippetsSectionModal=void 0;var e=o(require("preact")),t=require("preact/hooks"),n=require("~/view/utils");function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=r?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(o,s,i):o[s]=e[s]}return o.default=e,n&&n.set(e,o),o}var r=function(a){var o=a.name,r=a.setName,s=a.deleteSection,i=a.dismiss,l=(0,t.useRef)(),u=(0,n.useStateIfMounted)(o),c=u[0],p=u[1],d=(0,t.useCallback)(function(){confirm("Are you sure you want to delete this group and all snippets in it?")&&(s(),i())},[]);return(0,t.useEffect)(function(){var e;return null===(e=l.current)||void 0===e?void 0:e.focus()},[]),e.h("div",{className:"modal-backdrop"},e.h("div",{className:"modal tts-snippets-section-modal"},e.h("div",{className:"modal-header"},e.h("h3",null,o?"Edit":"Create New"," Snippet Group"),e.h("button",{className:"icon-button modal-close",onClick:i},e.h("i",{className:"fas fa-times"}))),e.h("div",{className:"modal-body"},e.h("label",{className:"tts-snippets-section-modal-input"},e.h("span",null,"Group Name"),e.h("input",{ref:l,value:c,onInput:function(e){return p(e.target.value)}})),o&&e.h("button",{className:"btn btn-negative btn-with-icon",onClick:d},e.h("i",{className:"fas fa-trash"}),"Delete Group")),e.h("div",{className:"modal-footer"},e.h("button",{className:"btn",onClick:i},"Cancel"),e.h("button",{className:"btn btn-primary",onClick:function(){r(c),i()},disabled:!c},"Save"))))};exports.SnippetsSectionModal=r;
},{"preact":"aSor","preact/hooks":"MwGB","~/view/utils":"YORt"}],"IyBR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./Row");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&(r in exports&&exports[r]===e[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}}))});var r=require("./RowControls");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===r[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}}))});var t=require("./RowEdit");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===t[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}}))});var o=require("./Snippet");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===o[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}}))});var n=require("./Snippets");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===n[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}}))});var u=require("./Section");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===u[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}}))});var i=require("./SectionEdit");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in exports&&exports[e]===i[e]||Object.defineProperty(exports,e,{enumerable:!0,get:function(){return i[e]}}))});
},{"./Row":"DaPg","./RowControls":"pH4r","./RowEdit":"Rp0m","./Snippet":"PJhF","./Snippets":"kCJk","./Section":"ltyB","./SectionEdit":"zWHA"}],"OCvJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GeneralSettings=void 0;var t=r(require("preact")),e=require("~/common"),s=require("~/view/utils");function n(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,s=new WeakMap;return(n=function(t){return t?s:e})(t)}function r(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=n(e);if(s&&s.has(t))return s.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var o=i?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=t[a]}return r.default=t,s&&s.set(t,r),r}var i=function(n){var r=n.form,i=n.onChangeSettings;return t.h("div",{className:"tts-settings-section"},t.h("div",{className:"tts-settings-section-header"},"General Settings"),t.h("div",{className:"tts-settings-item tts-settings-insert",title:"Insert a snippet from the snippets pad at either the cursor position or at the end of the message"},t.h("div",{className:"tts-settings-item-label"},"Insert Snippets At:"),t.h("div",{className:"tts-settings-item-control"},t.h("label",{className:"radio-button tts-settings-insert-input",onClick:function(){return i("insert_at_cursor",!0)}},t.h("input",{type:"radio",value:"true",checked:!0===r.insert_at_cursor}),t.h("span",{className:"radio-label"},"Cursor")),t.h("label",{className:"radio-button tts-settings-insert-input",onClick:function(){return i("insert_at_cursor",!1)}},t.h("input",{type:"radio",value:"true",checked:!1===r.insert_at_cursor}),t.h("span",{className:"radio-label"},"End")))),t.h("div",{className:"tts-settings-item tts-settings-bits"},t.h("div",{className:"tts-settings-item-label"},"Default Bits String"),t.h("div",{className:"tts-settings-item-control"},t.h("input",{value:r.bits_string,onChange:function(t){t.target.value&&i("bits_string",t.target.value.trim())},onBlur:function(t){t.target.value||i("bits_string",e.DEFAULT_BITS_STRING)}}))),t.h("div",{className:"tts-settings-item tts-settings-history",title:"Number of undo/redo steps that will be stored. When you exceed this number, the oldest step will be discarded."},t.h("div",{className:"tts-settings-item-label"},"Max. Undo/Redo Steps"),t.h("div",{className:"tts-settings-item-control"},t.h("span",null,r.history_steps),t.h("input",{type:"range",min:64,max:256,value:r.history_steps,onChange:function(t){var e=(0,s.ensure_number)(t.target.valueAsNumber,255);i("history_steps",e)}}))))};exports.GeneralSettings=i;
},{"preact":"aSor","~/common":"rTqy","~/view/utils":"YORt"}],"WJro":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OptimizationSettings=void 0;var e=a(require("preact")),t=require("~/model");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=n?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(s,r,o):s[r]=e[r]}return s.default=e,a&&a.set(e,s),s}var s={manual:"Manually",submit:"When you click submit",stop:"When you stop typing",edit:"As you're typing"},n={safe:"Minimum",normal:"Normal",max:"Maximum"},r=function(i){var a=i.form,r=i.onChangeSettings;return e.h("div",{className:"tts-settings-section"},e.h("div",{className:"tts-settings-section-header"},"Optimization Settings"),e.h("div",{className:"tts-settings-item"},e.h("label",{className:"checkbox toggle tts-settings-item tts-settings-whitespace",title:"Automatically remove any duplicate, leading, or trailing whitespace",htmlFor:"trim-whitespace",onClick:function(){return r("trim_whitespace",!a.trim_whitespace)}},e.h("span",{className:"checkbox-label"},"Automatically Trim Spaces"),e.h("input",{id:"trim-whitespace",name:"trim-whitespace",type:"checkbox",className:"invisible",checked:a.trim_whitespace}),e.h("div",{className:"toggle-switch"}))),e.h("div",{className:"tts-settings-item tts-settings-trigger",title:"Choose when message optimization is triggered. Optimization will eliminate unneeded characters (such as replacing 'you' with 'u') to maximize the amount of text you can fit within the character limit."},e.h("div",{className:"tts-settings-item-label"},"Optimize Words:"),e.h("div",{className:"tts-settings-item-control"},e.h("select",{value:a.optimize_words,onChange:function(e){return r("optimize_words",parseInt(e.target.value))}},Object.entries(s).map(function(i){var a=i[0],s=i[1];return e.h("option",{value:t.OptimizeTrigger[a],key:a},s)})))),e.h("div",{className:"tts-settings-item tts-settings-trigger",title:"Minimum: Speech should be identical before and after optimization.\nNormal: Optimization will cause some very minor changes in speech, but shouldn't be noticeable.\nMaximum: Some parts of speech may change noticeably, but should still have the correct syllables."},e.h("div",{className:"tts-settings-item-label"},"Optimization Level:"),e.h("div",{className:"tts-settings-item-control"},e.h("select",{value:a.optimize_level,onChange:function(e){return r("optimize_level",parseInt(e.target.value))}},Object.entries(n).map(function(i){var a=i[0],s=i[1];return e.h("option",{value:t.OptimizeLevel[a],key:a},s)})))))};exports.OptimizationSettings=r;
},{"preact":"aSor","~/model":"p5UI"}],"pZh8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SettingsModal=void 0;var e=u(require("preact")),t=require("preact/hooks"),r=require("~/model"),n=require("~/view/components"),i=require("~/view/components/settings/General"),o=require("~/view/components/settings/Optimization"),a=require("~/view/utils");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var l=function(s){var u=s.dismiss,l=(0,a.useContextState)(r.EDITOR_SETTINGS),c=l[0],p=l[1],f=(0,a.useStateObject)(c),d=f[0],m=f[1],g=(0,t.useCallback)(function(e,t){var r;return m(((r={})[e]=t,r))},[]);return e.h(n.Modal,{className:"tts-settings-modal",dismiss:u},e.h(n.ModalHeader,{dismiss:u},"Settings"),e.h("div",{className:"modal-body"},e.h(i.GeneralSettings,{onChangeSettings:g,form:d}),e.h(o.OptimizationSettings,{onChangeSettings:g,form:d})),e.h("div",{className:"modal-footer"},e.h("button",{className:"btn btn-large",onClick:u},"Cancel"),e.h("button",{className:"btn btn-large btn-primary",onClick:function(){p(d),u()}},"Save")))};exports.SettingsModal=l;
},{"preact":"aSor","preact/hooks":"MwGB","~/model":"p5UI","~/view/components":"AOf9","~/view/components/settings/General":"OCvJ","~/view/components/settings/Optimization":"WJro","~/view/utils":"YORt"}],"DqsT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("preact")),t=require("preact/compat"),n=require("preact/hooks"),r=require("~/model"),a=require("~/view/components"),o=require("~/view/components/settings/Modal"),u=require("~/view/utils");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var d=function(){var t=(0,u.useContextState)(r.MESSAGES),s=t[0],i=t[1],d=(0,u.useContextState)(r.LOADED_MESSAGE),l=d[0],c=d[1],v=(0,n.useContext)(r.EDITOR_STATE).value,f=v.text,m=v.speed,p=v.max_length,h=(0,u.useContextState)(r.EDITOR_UNSAVED),g=h[0],E=h[1],x=s[l],L=(0,u.useStateIfMounted)(!1),M=L[0],y=L[1],S=(0,n.useCallback)(function(){return y(!1)},[]),b=(0,n.useMemo)(function(){var e,t;return x?x.text!==f||(null===(e=x.options)||void 0===e?void 0:e.speed)!==m||(null===(t=x.options)||void 0===t?void 0:t.max_length)!==p:!!f},[x,f,m,p]);(0,n.useEffect)(function(){E(b)},[b]);var O=(0,n.useRef)(null),N=(0,u.useValueRef)(s),w=(0,n.useCallback)(function(e,t){var n;void 0===e&&(e=-1);var r=N.current.findIndex(function(e){return e.name===(null==t?void 0:t.name)});if(r>-1&&r!==e)return alert("A message with this name already exists."),!1;var a=null===(n=N.current)||void 0===n?void 0:n.slice();a[-1===e?N.current.length:e]=t;var o=a.filter(function(e){return!!e});return i(o),O.current=t?-1===e?o.length-1:o.findIndex(function(e){return e.name===(null==t?void 0:t.name)}):-1,E(!t),!0},[s]);return(0,n.useEffect)(function(){var e=O.current;null==e||g&&-1!==e||(c(e,-1===e),O.current=null)},[g]),(0,n.useEffect)(function(){var e=function(e){e.preventDefault(),e.stopPropagation()};return document.addEventListener("dragover",e),document.addEventListener("dragenter",e),document.addEventListener("drop",e),document.addEventListener("dragleave",e),document.addEventListener("dragexit",e),document.addEventListener("dragend",e),function(){document.removeEventListener("dragover",e),document.removeEventListener("dragenter",e),document.removeEventListener("drop",e),document.removeEventListener("dragleave",e),document.removeEventListener("dragexit",e),document.removeEventListener("dragend",e)}},[]),e.h(e.Fragment,null,e.h("div",{className:"header"},e.h("div",{className:"header-left"},e.h("h1",null,"TTS Playground"),e.h("h4",null,"By BlueLdr")),e.h("div",{className:"header-right"},e.h("button",{className:"tts-settings-button",type:"button",onClick:function(){return y(!0)}},e.h("i",{className:"fas fa-cog"})),e.h(a.ImportExport,null))),e.h("div",{className:"tts-container"},e.h("div",{className:"tts-container"},e.h("div",{className:"tts-col tts-col-messages"},e.h(a.MessagesList,{updateMessages:w})),e.h("div",{className:"tts-col tts-col-main"},e.h(a.Editor,{message:x,updateMessages:w})),e.h("div",{className:"tts-col tts-col-snippets"},e.h(a.Snippets,null)))),M&&(0,u.useModal)(e.h(o.SettingsModal,{dismiss:S})))},l=(0,t.memo)(d);exports.default=l;
},{"preact":"aSor","preact/compat":"AQ6k","preact/hooks":"MwGB","~/model":"p5UI","~/view/components":"AOf9","~/view/components/settings/Modal":"pZh8","~/view/utils":"YORt"}],"AOf9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={View:!0};Object.defineProperty(exports,"View",{enumerable:!0,get:function(){return s.default}});var t=require("./App");Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===t[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return t[r]}}))});var r=require("./context");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in exports&&exports[t]===r[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return r[t]}}))});var o=require("./common");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in exports&&exports[t]===o[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return o[t]}}))});var n=require("./editor");Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in exports&&exports[t]===n[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return n[t]}}))});var u=require("./export");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in exports&&exports[t]===u[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return u[t]}}))});var p=require("./messages");Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in exports&&exports[t]===p[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return p[t]}}))});var c=require("./snippets");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in exports&&exports[t]===c[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return c[t]}}))});var s=a(require("./View"));function a(e){return e&&e.__esModule?e:{default:e}}
},{"./App":"nWoM","./context":"BcoN","./common":"Qr85","./editor":"Yncg","./export":"A6Do","./messages":"hurr","./snippets":"IyBR","./View":"DqsT"}],"iUHz":[function(require,module,exports) {
"use strict";require("preact/debug");var e=n(require("preact")),t=require("~/view/components");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(u,a,i):u[a]=e[a]}return u.default=e,n&&n.set(e,u),u}var u=document.getElementById("app");u&&e.render(e.h(t.App,null),u,u.lastElementChild||void 0);
},{"preact/debug":"jYgX","preact":"aSor","~/view/components":"AOf9"}]},{},["iUHz"], null)
//# sourceMappingURL=/app.2e4c0f08.js.map</script></html>